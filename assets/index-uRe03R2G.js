(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function gi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tg={exports:{}},Sa={},ng={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ds=Symbol.for("react.element"),Kw=Symbol.for("react.portal"),Gw=Symbol.for("react.fragment"),Jw=Symbol.for("react.strict_mode"),Qw=Symbol.for("react.profiler"),Yw=Symbol.for("react.provider"),Xw=Symbol.for("react.context"),Zw=Symbol.for("react.forward_ref"),e_=Symbol.for("react.suspense"),t_=Symbol.for("react.memo"),n_=Symbol.for("react.lazy"),jd=Symbol.iterator;function r_(e){return e===null||typeof e!="object"?null:(e=jd&&e[jd]||e["@@iterator"],typeof e=="function"?e:null)}var rg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ig=Object.assign,sg={};function yi(e,t,n){this.props=e,this.context=t,this.refs=sg,this.updater=n||rg}yi.prototype.isReactComponent={};yi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function og(){}og.prototype=yi.prototype;function zc(e,t,n){this.props=e,this.context=t,this.refs=sg,this.updater=n||rg}var Hc=zc.prototype=new og;Hc.constructor=zc;ig(Hc,yi.prototype);Hc.isPureReactComponent=!0;var Ld=Array.isArray,ag=Object.prototype.hasOwnProperty,Wc={current:null},lg={key:!0,ref:!0,__self:!0,__source:!0};function ug(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)ag.call(t,r)&&!lg.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ds,type:e,key:s,ref:o,props:i,_owner:Wc.current}}function i_(e,t){return{$$typeof:Ds,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function qc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ds}function s_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Dd=/\/+/g;function cl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?s_(""+e.key):t.toString(36)}function ko(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ds:case Kw:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+cl(o,0):r,Ld(i)?(n="",e!=null&&(n=e.replace(Dd,"$&/")+"/"),ko(i,t,n,"",function(u){return u})):i!=null&&(qc(i)&&(i=i_(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Dd,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Ld(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+cl(s,a);o+=ko(s,t,n,l,i)}else if(l=r_(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+cl(s,a++),o+=ko(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ks(e,t,n){if(e==null)return e;var r=[],i=0;return ko(e,r,"","",function(s){return t.call(n,s,i++)}),r}function o_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qe={current:null},xo={transition:null},a_={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:xo,ReactCurrentOwner:Wc};X.Children={map:Ks,forEach:function(e,t,n){Ks(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ks(e,function(){t++}),t},toArray:function(e){return Ks(e,function(t){return t})||[]},only:function(e){if(!qc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=yi;X.Fragment=Gw;X.Profiler=Qw;X.PureComponent=zc;X.StrictMode=Jw;X.Suspense=e_;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a_;X.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ig({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Wc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)ag.call(t,l)&&!lg.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ds,type:e.type,key:i,ref:s,props:r,_owner:o}};X.createContext=function(e){return e={$$typeof:Xw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Yw,_context:e},e.Consumer=e};X.createElement=ug;X.createFactory=function(e){var t=ug.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:Zw,render:e}};X.isValidElement=qc;X.lazy=function(e){return{$$typeof:n_,_payload:{_status:-1,_result:e},_init:o_}};X.memo=function(e,t){return{$$typeof:t_,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=xo.transition;xo.transition={};try{e()}finally{xo.transition=t}};X.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};X.useCallback=function(e,t){return Qe.current.useCallback(e,t)};X.useContext=function(e){return Qe.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return Qe.current.useDeferredValue(e)};X.useEffect=function(e,t){return Qe.current.useEffect(e,t)};X.useId=function(){return Qe.current.useId()};X.useImperativeHandle=function(e,t,n){return Qe.current.useImperativeHandle(e,t,n)};X.useInsertionEffect=function(e,t){return Qe.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return Qe.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return Qe.current.useMemo(e,t)};X.useReducer=function(e,t,n){return Qe.current.useReducer(e,t,n)};X.useRef=function(e){return Qe.current.useRef(e)};X.useState=function(e){return Qe.current.useState(e)};X.useSyncExternalStore=function(e,t,n){return Qe.current.useSyncExternalStore(e,t,n)};X.useTransition=function(){return Qe.current.useTransition()};X.version="18.2.0";ng.exports=X;var O=ng.exports;const ln=gi(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_=O,u_=Symbol.for("react.element"),c_=Symbol.for("react.fragment"),h_=Object.prototype.hasOwnProperty,d_=l_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f_={key:!0,ref:!0,__self:!0,__source:!0};function cg(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)h_.call(t,r)&&!f_.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:u_,type:e,key:s,ref:o,props:i,_owner:d_.current}}Sa.Fragment=c_;Sa.jsx=cg;Sa.jsxs=cg;tg.exports=Sa;var C=tg.exports,hg={exports:{}},gt={},dg={exports:{}},fg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,B){var _=D.length;D.push(B);e:for(;0<_;){var Q=_-1>>>1,Z=D[Q];if(0<i(Z,B))D[Q]=B,D[_]=Z,_=Q;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var B=D[0],_=D.pop();if(_!==B){D[0]=_;e:for(var Q=0,Z=D.length,S=Z>>>1;Q<S;){var ke=2*(Q+1)-1,Pt=D[ke],oe=ke+1,Ne=D[oe];if(0>i(Pt,_))oe<Z&&0>i(Ne,Pt)?(D[Q]=Ne,D[oe]=_,Q=oe):(D[Q]=Pt,D[ke]=_,Q=ke);else if(oe<Z&&0>i(Ne,_))D[Q]=Ne,D[oe]=_,Q=oe;else break e}}return B}function i(D,B){var _=D.sortIndex-B.sortIndex;return _!==0?_:D.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,d=!1,g=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(D){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=D)r(u),B.sortIndex=B.expirationTime,t(l,B);else break;B=n(u)}}function k(D){if(v=!1,m(D),!g)if(n(l)!==null)g=!0,W(b);else{var B=n(u);B!==null&&ne(k,B.startTime-D)}}function b(D,B){g=!1,v&&(v=!1,p(T),T=-1),d=!0;var _=f;try{for(m(B),h=n(l);h!==null&&(!(h.expirationTime>B)||D&&!j());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,f=h.priorityLevel;var Z=Q(h.expirationTime<=B);B=e.unstable_now(),typeof Z=="function"?h.callback=Z:h===n(l)&&r(l),m(B)}else r(l);h=n(l)}if(h!==null)var S=!0;else{var ke=n(u);ke!==null&&ne(k,ke.startTime-B),S=!1}return S}finally{h=null,f=_,d=!1}}var w=!1,E=null,T=-1,A=5,N=-1;function j(){return!(e.unstable_now()-N<A)}function M(){if(E!==null){var D=e.unstable_now();N=D;var B=!0;try{B=E(!0,D)}finally{B?Y():(w=!1,E=null)}}else w=!1}var Y;if(typeof y=="function")Y=function(){y(M)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,U=te.port2;te.port1.onmessage=M,Y=function(){U.postMessage(null)}}else Y=function(){x(M,0)};function W(D){E=D,w||(w=!0,Y())}function ne(D,B){T=x(function(){D(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){g||d||(g=!0,W(b))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(D){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var _=f;f=B;try{return D()}finally{f=_}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var _=f;f=D;try{return B()}finally{f=_}},e.unstable_scheduleCallback=function(D,B,_){var Q=e.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?Q+_:Q):_=Q,D){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=_+Z,D={id:c++,callback:B,priorityLevel:D,startTime:_,expirationTime:Z,sortIndex:-1},_>Q?(D.sortIndex=_,t(u,D),n(l)===null&&D===n(u)&&(v?(p(T),T=-1):v=!0,ne(k,_-Q))):(D.sortIndex=Z,t(l,D),g||d||(g=!0,W(b))),D},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(D){var B=f;return function(){var _=f;f=B;try{return D.apply(this,arguments)}finally{f=_}}}})(fg);dg.exports=fg;var p_=dg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg=O,pt=p_;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mg=new Set,as={};function vr(e,t){ai(e,t),ai(e+"Capture",t)}function ai(e,t){for(as[e]=t,e=0;e<t.length;e++)mg.add(t[e])}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pu=Object.prototype.hasOwnProperty,m_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nd={},Md={};function g_(e){return pu.call(Md,e)?!0:pu.call(Nd,e)?!1:m_.test(e)?Md[e]=!0:(Nd[e]=!0,!1)}function y_(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function v_(e,t,n,r){if(t===null||typeof t>"u"||y_(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ye(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ue[e]=new Ye(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ue[t]=new Ye(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ue[e]=new Ye(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ue[e]=new Ye(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ue[e]=new Ye(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ue[e]=new Ye(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ue[e]=new Ye(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ue[e]=new Ye(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ue[e]=new Ye(e,5,!1,e.toLowerCase(),null,!1,!1)});var Kc=/[\-:]([a-z])/g;function Gc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Kc,Gc);Ue[t]=new Ye(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Kc,Gc);Ue[t]=new Ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Kc,Gc);Ue[t]=new Ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ue[e]=new Ye(e,1,!1,e.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ue[e]=new Ye(e,1,!1,e.toLowerCase(),null,!0,!0)});function Jc(e,t,n,r){var i=Ue.hasOwnProperty(t)?Ue[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(v_(t,n,i,r)&&(n=null),r||i===null?g_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var mn=pg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gs=Symbol.for("react.element"),Dr=Symbol.for("react.portal"),Nr=Symbol.for("react.fragment"),Qc=Symbol.for("react.strict_mode"),mu=Symbol.for("react.profiler"),gg=Symbol.for("react.provider"),yg=Symbol.for("react.context"),Yc=Symbol.for("react.forward_ref"),gu=Symbol.for("react.suspense"),yu=Symbol.for("react.suspense_list"),Xc=Symbol.for("react.memo"),Sn=Symbol.for("react.lazy"),vg=Symbol.for("react.offscreen"),Fd=Symbol.iterator;function Ei(e){return e===null||typeof e!="object"?null:(e=Fd&&e[Fd]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Object.assign,hl;function Di(e){if(hl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);hl=t&&t[1]||""}return`
`+hl+e}var dl=!1;function fl(e,t){if(!e||dl)return"";dl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{dl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Di(e):""}function w_(e){switch(e.tag){case 5:return Di(e.type);case 16:return Di("Lazy");case 13:return Di("Suspense");case 19:return Di("SuspenseList");case 0:case 2:case 15:return e=fl(e.type,!1),e;case 11:return e=fl(e.type.render,!1),e;case 1:return e=fl(e.type,!0),e;default:return""}}function vu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Nr:return"Fragment";case Dr:return"Portal";case mu:return"Profiler";case Qc:return"StrictMode";case gu:return"Suspense";case yu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yg:return(e.displayName||"Context")+".Consumer";case gg:return(e._context.displayName||"Context")+".Provider";case Yc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xc:return t=e.displayName||null,t!==null?t:vu(e.type)||"Memo";case Sn:t=e._payload,e=e._init;try{return vu(e(t))}catch{}}return null}function __(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vu(t);case 8:return t===Qc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Un(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function k_(e){var t=wg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Js(e){e._valueTracker||(e._valueTracker=k_(e))}function _g(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=wg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Mo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wu(e,t){var n=t.checked;return _e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function $d(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Un(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kg(e,t){t=t.checked,t!=null&&Jc(e,"checked",t,!1)}function _u(e,t){kg(e,t);var n=Un(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ku(e,t.type,n):t.hasOwnProperty("defaultValue")&&ku(e,t.type,Un(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ku(e,t,n){(t!=="number"||Mo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ni=Array.isArray;function Yr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Un(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function xu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return _e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ud(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(Ni(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Un(n)}}function xg(e,t){var n=Un(t.value),r=Un(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Vd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Su(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qs,Eg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qs=Qs||document.createElement("div"),Qs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ls(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ui={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x_=["Webkit","ms","Moz","O"];Object.keys(Ui).forEach(function(e){x_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ui[t]=Ui[e]})});function bg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ui.hasOwnProperty(e)&&Ui[e]?(""+t).trim():t+"px"}function Tg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=bg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var S_=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eu(e,t){if(t){if(S_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function bu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tu=null;function Zc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cu=null,Xr=null,Zr=null;function zd(e){if(e=Fs(e)){if(typeof Cu!="function")throw Error(R(280));var t=e.stateNode;t&&(t=Pa(t),Cu(e.stateNode,e.type,t))}}function Cg(e){Xr?Zr?Zr.push(e):Zr=[e]:Xr=e}function Pg(){if(Xr){var e=Xr,t=Zr;if(Zr=Xr=null,zd(e),t)for(e=0;e<t.length;e++)zd(t[e])}}function Ag(e,t){return e(t)}function Og(){}var pl=!1;function Rg(e,t,n){if(pl)return e(t,n);pl=!0;try{return Ag(e,t,n)}finally{pl=!1,(Xr!==null||Zr!==null)&&(Og(),Pg())}}function us(e,t){var n=e.stateNode;if(n===null)return null;var r=Pa(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var Pu=!1;if(hn)try{var bi={};Object.defineProperty(bi,"passive",{get:function(){Pu=!0}}),window.addEventListener("test",bi,bi),window.removeEventListener("test",bi,bi)}catch{Pu=!1}function E_(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Vi=!1,Fo=null,$o=!1,Au=null,b_={onError:function(e){Vi=!0,Fo=e}};function T_(e,t,n,r,i,s,o,a,l){Vi=!1,Fo=null,E_.apply(b_,arguments)}function C_(e,t,n,r,i,s,o,a,l){if(T_.apply(this,arguments),Vi){if(Vi){var u=Fo;Vi=!1,Fo=null}else throw Error(R(198));$o||($o=!0,Au=u)}}function wr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ig(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hd(e){if(wr(e)!==e)throw Error(R(188))}function P_(e){var t=e.alternate;if(!t){if(t=wr(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Hd(i),e;if(s===r)return Hd(i),t;s=s.sibling}throw Error(R(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function jg(e){return e=P_(e),e!==null?Lg(e):null}function Lg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Lg(e);if(t!==null)return t;e=e.sibling}return null}var Dg=pt.unstable_scheduleCallback,Wd=pt.unstable_cancelCallback,A_=pt.unstable_shouldYield,O_=pt.unstable_requestPaint,Te=pt.unstable_now,R_=pt.unstable_getCurrentPriorityLevel,eh=pt.unstable_ImmediatePriority,Ng=pt.unstable_UserBlockingPriority,Bo=pt.unstable_NormalPriority,I_=pt.unstable_LowPriority,Mg=pt.unstable_IdlePriority,Ea=null,Gt=null;function j_(e){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Ea,e,void 0,(e.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:N_,L_=Math.log,D_=Math.LN2;function N_(e){return e>>>=0,e===0?32:31-(L_(e)/D_|0)|0}var Ys=64,Xs=4194304;function Mi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Uo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Mi(a):(s&=o,s!==0&&(r=Mi(s)))}else o=n&~i,o!==0?r=Mi(o):s!==0&&(r=Mi(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-$t(t),i=1<<n,r|=e[n],t&=~i;return r}function M_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-$t(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=M_(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Ou(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fg(){var e=Ys;return Ys<<=1,!(Ys&4194240)&&(Ys=64),e}function ml(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ns(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$t(t),e[t]=n}function $_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-$t(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function th(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-$t(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ie=0;function $g(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Bg,nh,Ug,Vg,zg,Ru=!1,Zs=[],jn=null,Ln=null,Dn=null,cs=new Map,hs=new Map,Cn=[],B_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qd(e,t){switch(e){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":cs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hs.delete(t.pointerId)}}function Ti(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Fs(t),t!==null&&nh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function U_(e,t,n,r,i){switch(t){case"focusin":return jn=Ti(jn,e,t,n,r,i),!0;case"dragenter":return Ln=Ti(Ln,e,t,n,r,i),!0;case"mouseover":return Dn=Ti(Dn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return cs.set(s,Ti(cs.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,hs.set(s,Ti(hs.get(s)||null,e,t,n,r,i)),!0}return!1}function Hg(e){var t=or(e.target);if(t!==null){var n=wr(t);if(n!==null){if(t=n.tag,t===13){if(t=Ig(n),t!==null){e.blockedOn=t,zg(e.priority,function(){Ug(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function So(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Iu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Tu=r,n.target.dispatchEvent(r),Tu=null}else return t=Fs(n),t!==null&&nh(t),e.blockedOn=n,!1;t.shift()}return!0}function Kd(e,t,n){So(e)&&n.delete(t)}function V_(){Ru=!1,jn!==null&&So(jn)&&(jn=null),Ln!==null&&So(Ln)&&(Ln=null),Dn!==null&&So(Dn)&&(Dn=null),cs.forEach(Kd),hs.forEach(Kd)}function Ci(e,t){e.blockedOn===t&&(e.blockedOn=null,Ru||(Ru=!0,pt.unstable_scheduleCallback(pt.unstable_NormalPriority,V_)))}function ds(e){function t(i){return Ci(i,e)}if(0<Zs.length){Ci(Zs[0],e);for(var n=1;n<Zs.length;n++){var r=Zs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(jn!==null&&Ci(jn,e),Ln!==null&&Ci(Ln,e),Dn!==null&&Ci(Dn,e),cs.forEach(t),hs.forEach(t),n=0;n<Cn.length;n++)r=Cn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Cn.length&&(n=Cn[0],n.blockedOn===null);)Hg(n),n.blockedOn===null&&Cn.shift()}var ei=mn.ReactCurrentBatchConfig,Vo=!0;function z_(e,t,n,r){var i=ie,s=ei.transition;ei.transition=null;try{ie=1,rh(e,t,n,r)}finally{ie=i,ei.transition=s}}function H_(e,t,n,r){var i=ie,s=ei.transition;ei.transition=null;try{ie=4,rh(e,t,n,r)}finally{ie=i,ei.transition=s}}function rh(e,t,n,r){if(Vo){var i=Iu(e,t,n,r);if(i===null)bl(e,t,r,zo,n),qd(e,r);else if(U_(i,e,t,n,r))r.stopPropagation();else if(qd(e,r),t&4&&-1<B_.indexOf(e)){for(;i!==null;){var s=Fs(i);if(s!==null&&Bg(s),s=Iu(e,t,n,r),s===null&&bl(e,t,r,zo,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else bl(e,t,r,null,n)}}var zo=null;function Iu(e,t,n,r){if(zo=null,e=Zc(r),e=or(e),e!==null)if(t=wr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ig(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zo=e,null}function Wg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(R_()){case eh:return 1;case Ng:return 4;case Bo:case I_:return 16;case Mg:return 536870912;default:return 16}default:return 16}}var On=null,ih=null,Eo=null;function qg(){if(Eo)return Eo;var e,t=ih,n=t.length,r,i="value"in On?On.value:On.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Eo=i.slice(e,1<r?1-r:void 0)}function bo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function eo(){return!0}function Gd(){return!1}function yt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?eo:Gd,this.isPropagationStopped=Gd,this}return _e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=eo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=eo)},persist:function(){},isPersistent:eo}),t}var vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sh=yt(vi),Ms=_e({},vi,{view:0,detail:0}),W_=yt(Ms),gl,yl,Pi,ba=_e({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pi&&(Pi&&e.type==="mousemove"?(gl=e.screenX-Pi.screenX,yl=e.screenY-Pi.screenY):yl=gl=0,Pi=e),gl)},movementY:function(e){return"movementY"in e?e.movementY:yl}}),Jd=yt(ba),q_=_e({},ba,{dataTransfer:0}),K_=yt(q_),G_=_e({},Ms,{relatedTarget:0}),vl=yt(G_),J_=_e({},vi,{animationName:0,elapsedTime:0,pseudoElement:0}),Q_=yt(J_),Y_=_e({},vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),X_=yt(Y_),Z_=_e({},vi,{data:0}),Qd=yt(Z_),ek={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nk[e])?!!t[e]:!1}function oh(){return rk}var ik=_e({},Ms,{key:function(e){if(e.key){var t=ek[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oh,charCode:function(e){return e.type==="keypress"?bo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sk=yt(ik),ok=_e({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yd=yt(ok),ak=_e({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oh}),lk=yt(ak),uk=_e({},vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ck=yt(uk),hk=_e({},ba,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dk=yt(hk),fk=[9,13,27,32],ah=hn&&"CompositionEvent"in window,zi=null;hn&&"documentMode"in document&&(zi=document.documentMode);var pk=hn&&"TextEvent"in window&&!zi,Kg=hn&&(!ah||zi&&8<zi&&11>=zi),Xd=" ",Zd=!1;function Gg(e,t){switch(e){case"keyup":return fk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mr=!1;function mk(e,t){switch(e){case"compositionend":return Jg(t);case"keypress":return t.which!==32?null:(Zd=!0,Xd);case"textInput":return e=t.data,e===Xd&&Zd?null:e;default:return null}}function gk(e,t){if(Mr)return e==="compositionend"||!ah&&Gg(e,t)?(e=qg(),Eo=ih=On=null,Mr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kg&&t.locale!=="ko"?null:t.data;default:return null}}var yk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ef(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yk[e.type]:t==="textarea"}function Qg(e,t,n,r){Cg(r),t=Ho(t,"onChange"),0<t.length&&(n=new sh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hi=null,fs=null;function vk(e){ay(e,0)}function Ta(e){var t=Br(e);if(_g(t))return e}function wk(e,t){if(e==="change")return t}var Yg=!1;if(hn){var wl;if(hn){var _l="oninput"in document;if(!_l){var tf=document.createElement("div");tf.setAttribute("oninput","return;"),_l=typeof tf.oninput=="function"}wl=_l}else wl=!1;Yg=wl&&(!document.documentMode||9<document.documentMode)}function nf(){Hi&&(Hi.detachEvent("onpropertychange",Xg),fs=Hi=null)}function Xg(e){if(e.propertyName==="value"&&Ta(fs)){var t=[];Qg(t,fs,e,Zc(e)),Rg(vk,t)}}function _k(e,t,n){e==="focusin"?(nf(),Hi=t,fs=n,Hi.attachEvent("onpropertychange",Xg)):e==="focusout"&&nf()}function kk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ta(fs)}function xk(e,t){if(e==="click")return Ta(t)}function Sk(e,t){if(e==="input"||e==="change")return Ta(t)}function Ek(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ut=typeof Object.is=="function"?Object.is:Ek;function ps(e,t){if(Ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pu.call(t,i)||!Ut(e[i],t[i]))return!1}return!0}function rf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sf(e,t){var n=rf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rf(n)}}function Zg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ey(){for(var e=window,t=Mo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Mo(e.document)}return t}function lh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bk(e){var t=ey(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Zg(n.ownerDocument.documentElement,n)){if(r!==null&&lh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=sf(n,s);var o=sf(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Tk=hn&&"documentMode"in document&&11>=document.documentMode,Fr=null,ju=null,Wi=null,Lu=!1;function of(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lu||Fr==null||Fr!==Mo(r)||(r=Fr,"selectionStart"in r&&lh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wi&&ps(Wi,r)||(Wi=r,r=Ho(ju,"onSelect"),0<r.length&&(t=new sh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Fr)))}function to(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $r={animationend:to("Animation","AnimationEnd"),animationiteration:to("Animation","AnimationIteration"),animationstart:to("Animation","AnimationStart"),transitionend:to("Transition","TransitionEnd")},kl={},ty={};hn&&(ty=document.createElement("div").style,"AnimationEvent"in window||(delete $r.animationend.animation,delete $r.animationiteration.animation,delete $r.animationstart.animation),"TransitionEvent"in window||delete $r.transitionend.transition);function Ca(e){if(kl[e])return kl[e];if(!$r[e])return e;var t=$r[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ty)return kl[e]=t[n];return e}var ny=Ca("animationend"),ry=Ca("animationiteration"),iy=Ca("animationstart"),sy=Ca("transitionend"),oy=new Map,af="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wn(e,t){oy.set(e,t),vr(t,[e])}for(var xl=0;xl<af.length;xl++){var Sl=af[xl],Ck=Sl.toLowerCase(),Pk=Sl[0].toUpperCase()+Sl.slice(1);Wn(Ck,"on"+Pk)}Wn(ny,"onAnimationEnd");Wn(ry,"onAnimationIteration");Wn(iy,"onAnimationStart");Wn("dblclick","onDoubleClick");Wn("focusin","onFocus");Wn("focusout","onBlur");Wn(sy,"onTransitionEnd");ai("onMouseEnter",["mouseout","mouseover"]);ai("onMouseLeave",["mouseout","mouseover"]);ai("onPointerEnter",["pointerout","pointerover"]);ai("onPointerLeave",["pointerout","pointerover"]);vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vr("onBeforeInput",["compositionend","keypress","textInput","paste"]);vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ak=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fi));function lf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,C_(r,t,void 0,e),e.currentTarget=null}function ay(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;lf(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;lf(i,a,u),s=l}}}if($o)throw e=Au,$o=!1,Au=null,e}function pe(e,t){var n=t[$u];n===void 0&&(n=t[$u]=new Set);var r=e+"__bubble";n.has(r)||(ly(t,e,2,!1),n.add(r))}function El(e,t,n){var r=0;t&&(r|=4),ly(n,e,r,t)}var no="_reactListening"+Math.random().toString(36).slice(2);function ms(e){if(!e[no]){e[no]=!0,mg.forEach(function(n){n!=="selectionchange"&&(Ak.has(n)||El(n,!1,e),El(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[no]||(t[no]=!0,El("selectionchange",!1,t))}}function ly(e,t,n,r){switch(Wg(t)){case 1:var i=z_;break;case 4:i=H_;break;default:i=rh}n=i.bind(null,t,n,e),i=void 0,!Pu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function bl(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=or(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Rg(function(){var u=s,c=Zc(n),h=[];e:{var f=oy.get(e);if(f!==void 0){var d=sh,g=e;switch(e){case"keypress":if(bo(n)===0)break e;case"keydown":case"keyup":d=sk;break;case"focusin":g="focus",d=vl;break;case"focusout":g="blur",d=vl;break;case"beforeblur":case"afterblur":d=vl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=K_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=lk;break;case ny:case ry:case iy:d=Q_;break;case sy:d=ck;break;case"scroll":d=W_;break;case"wheel":d=dk;break;case"copy":case"cut":case"paste":d=X_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Yd}var v=(t&4)!==0,x=!v&&e==="scroll",p=v?f!==null?f+"Capture":null:f;v=[];for(var y=u,m;y!==null;){m=y;var k=m.stateNode;if(m.tag===5&&k!==null&&(m=k,p!==null&&(k=us(y,p),k!=null&&v.push(gs(y,k,m)))),x)break;y=y.return}0<v.length&&(f=new d(f,g,null,n,c),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",f&&n!==Tu&&(g=n.relatedTarget||n.fromElement)&&(or(g)||g[dn]))break e;if((d||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,d?(g=n.relatedTarget||n.toElement,d=u,g=g?or(g):null,g!==null&&(x=wr(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(d=null,g=u),d!==g)){if(v=Jd,k="onMouseLeave",p="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=Yd,k="onPointerLeave",p="onPointerEnter",y="pointer"),x=d==null?f:Br(d),m=g==null?f:Br(g),f=new v(k,y+"leave",d,n,c),f.target=x,f.relatedTarget=m,k=null,or(c)===u&&(v=new v(p,y+"enter",g,n,c),v.target=m,v.relatedTarget=x,k=v),x=k,d&&g)t:{for(v=d,p=g,y=0,m=v;m;m=Er(m))y++;for(m=0,k=p;k;k=Er(k))m++;for(;0<y-m;)v=Er(v),y--;for(;0<m-y;)p=Er(p),m--;for(;y--;){if(v===p||p!==null&&v===p.alternate)break t;v=Er(v),p=Er(p)}v=null}else v=null;d!==null&&uf(h,f,d,v,!1),g!==null&&x!==null&&uf(h,x,g,v,!0)}}e:{if(f=u?Br(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var b=wk;else if(ef(f))if(Yg)b=Sk;else{b=kk;var w=_k}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=xk);if(b&&(b=b(e,u))){Qg(h,b,n,c);break e}w&&w(e,f,u),e==="focusout"&&(w=f._wrapperState)&&w.controlled&&f.type==="number"&&ku(f,"number",f.value)}switch(w=u?Br(u):window,e){case"focusin":(ef(w)||w.contentEditable==="true")&&(Fr=w,ju=u,Wi=null);break;case"focusout":Wi=ju=Fr=null;break;case"mousedown":Lu=!0;break;case"contextmenu":case"mouseup":case"dragend":Lu=!1,of(h,n,c);break;case"selectionchange":if(Tk)break;case"keydown":case"keyup":of(h,n,c)}var E;if(ah)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Mr?Gg(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Kg&&n.locale!=="ko"&&(Mr||T!=="onCompositionStart"?T==="onCompositionEnd"&&Mr&&(E=qg()):(On=c,ih="value"in On?On.value:On.textContent,Mr=!0)),w=Ho(u,T),0<w.length&&(T=new Qd(T,e,null,n,c),h.push({event:T,listeners:w}),E?T.data=E:(E=Jg(n),E!==null&&(T.data=E)))),(E=pk?mk(e,n):gk(e,n))&&(u=Ho(u,"onBeforeInput"),0<u.length&&(c=new Qd("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=E))}ay(h,t)})}function gs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ho(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=us(e,n),s!=null&&r.unshift(gs(e,s,i)),s=us(e,t),s!=null&&r.push(gs(e,s,i))),e=e.return}return r}function Er(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uf(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=us(n,s),l!=null&&o.unshift(gs(n,l,a))):i||(l=us(n,s),l!=null&&o.push(gs(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Ok=/\r\n?/g,Rk=/\u0000|\uFFFD/g;function cf(e){return(typeof e=="string"?e:""+e).replace(Ok,`
`).replace(Rk,"")}function ro(e,t,n){if(t=cf(t),cf(e)!==t&&n)throw Error(R(425))}function Wo(){}var Du=null,Nu=null;function Mu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fu=typeof setTimeout=="function"?setTimeout:void 0,Ik=typeof clearTimeout=="function"?clearTimeout:void 0,hf=typeof Promise=="function"?Promise:void 0,jk=typeof queueMicrotask=="function"?queueMicrotask:typeof hf<"u"?function(e){return hf.resolve(null).then(e).catch(Lk)}:Fu;function Lk(e){setTimeout(function(){throw e})}function Tl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ds(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ds(t)}function Nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function df(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var wi=Math.random().toString(36).slice(2),qt="__reactFiber$"+wi,ys="__reactProps$"+wi,dn="__reactContainer$"+wi,$u="__reactEvents$"+wi,Dk="__reactListeners$"+wi,Nk="__reactHandles$"+wi;function or(e){var t=e[qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[dn]||n[qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=df(e);e!==null;){if(n=e[qt])return n;e=df(e)}return t}e=n,n=e.parentNode}return null}function Fs(e){return e=e[qt]||e[dn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Br(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function Pa(e){return e[ys]||null}var Bu=[],Ur=-1;function qn(e){return{current:e}}function me(e){0>Ur||(e.current=Bu[Ur],Bu[Ur]=null,Ur--)}function de(e,t){Ur++,Bu[Ur]=e.current,e.current=t}var Vn={},qe=qn(Vn),tt=qn(!1),fr=Vn;function li(e,t){var n=e.type.contextTypes;if(!n)return Vn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function nt(e){return e=e.childContextTypes,e!=null}function qo(){me(tt),me(qe)}function ff(e,t,n){if(qe.current!==Vn)throw Error(R(168));de(qe,t),de(tt,n)}function uy(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(R(108,__(e)||"Unknown",i));return _e({},n,r)}function Ko(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vn,fr=qe.current,de(qe,e),de(tt,tt.current),!0}function pf(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=uy(e,t,fr),r.__reactInternalMemoizedMergedChildContext=e,me(tt),me(qe),de(qe,e)):me(tt),de(tt,n)}var sn=null,Aa=!1,Cl=!1;function cy(e){sn===null?sn=[e]:sn.push(e)}function Mk(e){Aa=!0,cy(e)}function Kn(){if(!Cl&&sn!==null){Cl=!0;var e=0,t=ie;try{var n=sn;for(ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}sn=null,Aa=!1}catch(i){throw sn!==null&&(sn=sn.slice(e+1)),Dg(eh,Kn),i}finally{ie=t,Cl=!1}}return null}var Vr=[],zr=0,Go=null,Jo=0,vt=[],wt=0,pr=null,on=1,an="";function Zn(e,t){Vr[zr++]=Jo,Vr[zr++]=Go,Go=e,Jo=t}function hy(e,t,n){vt[wt++]=on,vt[wt++]=an,vt[wt++]=pr,pr=e;var r=on;e=an;var i=32-$t(r)-1;r&=~(1<<i),n+=1;var s=32-$t(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,on=1<<32-$t(t)+i|n<<i|r,an=s+e}else on=1<<s|n<<i|r,an=e}function uh(e){e.return!==null&&(Zn(e,1),hy(e,1,0))}function ch(e){for(;e===Go;)Go=Vr[--zr],Vr[zr]=null,Jo=Vr[--zr],Vr[zr]=null;for(;e===pr;)pr=vt[--wt],vt[wt]=null,an=vt[--wt],vt[wt]=null,on=vt[--wt],vt[wt]=null}var ft=null,ht=null,ge=!1,Ft=null;function dy(e,t){var n=kt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function mf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ft=e,ht=Nn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ft=e,ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pr!==null?{id:on,overflow:an}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=kt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ft=e,ht=null,!0):!1;default:return!1}}function Uu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Vu(e){if(ge){var t=ht;if(t){var n=t;if(!mf(e,t)){if(Uu(e))throw Error(R(418));t=Nn(n.nextSibling);var r=ft;t&&mf(e,t)?dy(r,n):(e.flags=e.flags&-4097|2,ge=!1,ft=e)}}else{if(Uu(e))throw Error(R(418));e.flags=e.flags&-4097|2,ge=!1,ft=e}}}function gf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ft=e}function io(e){if(e!==ft)return!1;if(!ge)return gf(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Mu(e.type,e.memoizedProps)),t&&(t=ht)){if(Uu(e))throw fy(),Error(R(418));for(;t;)dy(e,t),t=Nn(t.nextSibling)}if(gf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ht=Nn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ht=null}}else ht=ft?Nn(e.stateNode.nextSibling):null;return!0}function fy(){for(var e=ht;e;)e=Nn(e.nextSibling)}function ui(){ht=ft=null,ge=!1}function hh(e){Ft===null?Ft=[e]:Ft.push(e)}var Fk=mn.ReactCurrentBatchConfig;function Lt(e,t){if(e&&e.defaultProps){t=_e({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Qo=qn(null),Yo=null,Hr=null,dh=null;function fh(){dh=Hr=Yo=null}function ph(e){var t=Qo.current;me(Qo),e._currentValue=t}function zu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ti(e,t){Yo=e,dh=Hr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(et=!0),e.firstContext=null)}function St(e){var t=e._currentValue;if(dh!==e)if(e={context:e,memoizedValue:t,next:null},Hr===null){if(Yo===null)throw Error(R(308));Hr=e,Yo.dependencies={lanes:0,firstContext:e}}else Hr=Hr.next=e;return t}var ar=null;function mh(e){ar===null?ar=[e]:ar.push(e)}function py(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,mh(t)):(n.next=i.next,i.next=n),t.interleaved=n,fn(e,r)}function fn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var En=!1;function gh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function my(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function un(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,fn(e,n)}return i=r.interleaved,i===null?(t.next=t,mh(r)):(t.next=i.next,i.next=t),r.interleaved=t,fn(e,n)}function To(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,th(e,n)}}function yf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Xo(e,t,n,r){var i=e.updateQueue;En=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,d=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,v=a;switch(f=t,d=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(d,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(d,h,f):g,f==null)break e;h=_e({},h,f);break e;case 2:En=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=d,l=h):c=c.next=d,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);gr|=o,e.lanes=o,e.memoizedState=h}}function vf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(R(191,i));i.call(r)}}}var gy=new pg.Component().refs;function Hu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:_e({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Oa={isMounted:function(e){return(e=e._reactInternals)?wr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Je(),i=$n(e),s=un(r,i);s.payload=t,n!=null&&(s.callback=n),t=Mn(e,s,i),t!==null&&(Bt(t,e,i,r),To(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Je(),i=$n(e),s=un(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Mn(e,s,i),t!==null&&(Bt(t,e,i,r),To(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Je(),r=$n(e),i=un(n,r);i.tag=2,t!=null&&(i.callback=t),t=Mn(e,i,r),t!==null&&(Bt(t,e,r,n),To(t,e,r))}};function wf(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!ps(n,r)||!ps(i,s):!0}function yy(e,t,n){var r=!1,i=Vn,s=t.contextType;return typeof s=="object"&&s!==null?s=St(s):(i=nt(t)?fr:qe.current,r=t.contextTypes,s=(r=r!=null)?li(e,i):Vn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function _f(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Oa.enqueueReplaceState(t,t.state,null)}function Wu(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=gy,gh(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=St(s):(s=nt(t)?fr:qe.current,i.context=li(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Hu(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Oa.enqueueReplaceState(i,i.state,null),Xo(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ai(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===gy&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function so(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kf(e){var t=e._init;return t(e._payload)}function vy(e){function t(p,y){if(e){var m=p.deletions;m===null?(p.deletions=[y],p.flags|=16):m.push(y)}}function n(p,y){if(!e)return null;for(;y!==null;)t(p,y),y=y.sibling;return null}function r(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function i(p,y){return p=Bn(p,y),p.index=0,p.sibling=null,p}function s(p,y,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<y?(p.flags|=2,y):m):(p.flags|=2,y)):(p.flags|=1048576,y)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,y,m,k){return y===null||y.tag!==6?(y=Ll(m,p.mode,k),y.return=p,y):(y=i(y,m),y.return=p,y)}function l(p,y,m,k){var b=m.type;return b===Nr?c(p,y,m.props.children,k,m.key):y!==null&&(y.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Sn&&kf(b)===y.type)?(k=i(y,m.props),k.ref=Ai(p,y,m),k.return=p,k):(k=Io(m.type,m.key,m.props,null,p.mode,k),k.ref=Ai(p,y,m),k.return=p,k)}function u(p,y,m,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==m.containerInfo||y.stateNode.implementation!==m.implementation?(y=Dl(m,p.mode,k),y.return=p,y):(y=i(y,m.children||[]),y.return=p,y)}function c(p,y,m,k,b){return y===null||y.tag!==7?(y=dr(m,p.mode,k,b),y.return=p,y):(y=i(y,m),y.return=p,y)}function h(p,y,m){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ll(""+y,p.mode,m),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Gs:return m=Io(y.type,y.key,y.props,null,p.mode,m),m.ref=Ai(p,null,y),m.return=p,m;case Dr:return y=Dl(y,p.mode,m),y.return=p,y;case Sn:var k=y._init;return h(p,k(y._payload),m)}if(Ni(y)||Ei(y))return y=dr(y,p.mode,m,null),y.return=p,y;so(p,y)}return null}function f(p,y,m,k){var b=y!==null?y.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return b!==null?null:a(p,y,""+m,k);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Gs:return m.key===b?l(p,y,m,k):null;case Dr:return m.key===b?u(p,y,m,k):null;case Sn:return b=m._init,f(p,y,b(m._payload),k)}if(Ni(m)||Ei(m))return b!==null?null:c(p,y,m,k,null);so(p,m)}return null}function d(p,y,m,k,b){if(typeof k=="string"&&k!==""||typeof k=="number")return p=p.get(m)||null,a(y,p,""+k,b);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Gs:return p=p.get(k.key===null?m:k.key)||null,l(y,p,k,b);case Dr:return p=p.get(k.key===null?m:k.key)||null,u(y,p,k,b);case Sn:var w=k._init;return d(p,y,m,w(k._payload),b)}if(Ni(k)||Ei(k))return p=p.get(m)||null,c(y,p,k,b,null);so(y,k)}return null}function g(p,y,m,k){for(var b=null,w=null,E=y,T=y=0,A=null;E!==null&&T<m.length;T++){E.index>T?(A=E,E=null):A=E.sibling;var N=f(p,E,m[T],k);if(N===null){E===null&&(E=A);break}e&&E&&N.alternate===null&&t(p,E),y=s(N,y,T),w===null?b=N:w.sibling=N,w=N,E=A}if(T===m.length)return n(p,E),ge&&Zn(p,T),b;if(E===null){for(;T<m.length;T++)E=h(p,m[T],k),E!==null&&(y=s(E,y,T),w===null?b=E:w.sibling=E,w=E);return ge&&Zn(p,T),b}for(E=r(p,E);T<m.length;T++)A=d(E,p,T,m[T],k),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?T:A.key),y=s(A,y,T),w===null?b=A:w.sibling=A,w=A);return e&&E.forEach(function(j){return t(p,j)}),ge&&Zn(p,T),b}function v(p,y,m,k){var b=Ei(m);if(typeof b!="function")throw Error(R(150));if(m=b.call(m),m==null)throw Error(R(151));for(var w=b=null,E=y,T=y=0,A=null,N=m.next();E!==null&&!N.done;T++,N=m.next()){E.index>T?(A=E,E=null):A=E.sibling;var j=f(p,E,N.value,k);if(j===null){E===null&&(E=A);break}e&&E&&j.alternate===null&&t(p,E),y=s(j,y,T),w===null?b=j:w.sibling=j,w=j,E=A}if(N.done)return n(p,E),ge&&Zn(p,T),b;if(E===null){for(;!N.done;T++,N=m.next())N=h(p,N.value,k),N!==null&&(y=s(N,y,T),w===null?b=N:w.sibling=N,w=N);return ge&&Zn(p,T),b}for(E=r(p,E);!N.done;T++,N=m.next())N=d(E,p,T,N.value,k),N!==null&&(e&&N.alternate!==null&&E.delete(N.key===null?T:N.key),y=s(N,y,T),w===null?b=N:w.sibling=N,w=N);return e&&E.forEach(function(M){return t(p,M)}),ge&&Zn(p,T),b}function x(p,y,m,k){if(typeof m=="object"&&m!==null&&m.type===Nr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Gs:e:{for(var b=m.key,w=y;w!==null;){if(w.key===b){if(b=m.type,b===Nr){if(w.tag===7){n(p,w.sibling),y=i(w,m.props.children),y.return=p,p=y;break e}}else if(w.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Sn&&kf(b)===w.type){n(p,w.sibling),y=i(w,m.props),y.ref=Ai(p,w,m),y.return=p,p=y;break e}n(p,w);break}else t(p,w);w=w.sibling}m.type===Nr?(y=dr(m.props.children,p.mode,k,m.key),y.return=p,p=y):(k=Io(m.type,m.key,m.props,null,p.mode,k),k.ref=Ai(p,y,m),k.return=p,p=k)}return o(p);case Dr:e:{for(w=m.key;y!==null;){if(y.key===w)if(y.tag===4&&y.stateNode.containerInfo===m.containerInfo&&y.stateNode.implementation===m.implementation){n(p,y.sibling),y=i(y,m.children||[]),y.return=p,p=y;break e}else{n(p,y);break}else t(p,y);y=y.sibling}y=Dl(m,p.mode,k),y.return=p,p=y}return o(p);case Sn:return w=m._init,x(p,y,w(m._payload),k)}if(Ni(m))return g(p,y,m,k);if(Ei(m))return v(p,y,m,k);so(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,y!==null&&y.tag===6?(n(p,y.sibling),y=i(y,m),y.return=p,p=y):(n(p,y),y=Ll(m,p.mode,k),y.return=p,p=y),o(p)):n(p,y)}return x}var ci=vy(!0),wy=vy(!1),$s={},Jt=qn($s),vs=qn($s),ws=qn($s);function lr(e){if(e===$s)throw Error(R(174));return e}function yh(e,t){switch(de(ws,t),de(vs,e),de(Jt,$s),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Su(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Su(t,e)}me(Jt),de(Jt,t)}function hi(){me(Jt),me(vs),me(ws)}function _y(e){lr(ws.current);var t=lr(Jt.current),n=Su(t,e.type);t!==n&&(de(vs,e),de(Jt,n))}function vh(e){vs.current===e&&(me(Jt),me(vs))}var ve=qn(0);function Zo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pl=[];function wh(){for(var e=0;e<Pl.length;e++)Pl[e]._workInProgressVersionPrimary=null;Pl.length=0}var Co=mn.ReactCurrentDispatcher,Al=mn.ReactCurrentBatchConfig,mr=0,we=null,Ie=null,Le=null,ea=!1,qi=!1,_s=0,$k=0;function Ve(){throw Error(R(321))}function _h(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ut(e[n],t[n]))return!1;return!0}function kh(e,t,n,r,i,s){if(mr=s,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Co.current=e===null||e.memoizedState===null?zk:Hk,e=n(r,i),qi){s=0;do{if(qi=!1,_s=0,25<=s)throw Error(R(301));s+=1,Le=Ie=null,t.updateQueue=null,Co.current=Wk,e=n(r,i)}while(qi)}if(Co.current=ta,t=Ie!==null&&Ie.next!==null,mr=0,Le=Ie=we=null,ea=!1,t)throw Error(R(300));return e}function xh(){var e=_s!==0;return _s=0,e}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?we.memoizedState=Le=e:Le=Le.next=e,Le}function Et(){if(Ie===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=Le===null?we.memoizedState:Le.next;if(t!==null)Le=t,Ie=e;else{if(e===null)throw Error(R(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Le===null?we.memoizedState=Le=e:Le=Le.next=e}return Le}function ks(e,t){return typeof t=="function"?t(e):t}function Ol(e){var t=Et(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=Ie,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((mr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,we.lanes|=c,gr|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Ut(r,t.memoizedState)||(et=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,we.lanes|=s,gr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Rl(e){var t=Et(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Ut(s,t.memoizedState)||(et=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ky(){}function xy(e,t){var n=we,r=Et(),i=t(),s=!Ut(r.memoizedState,i);if(s&&(r.memoizedState=i,et=!0),r=r.queue,Sh(by.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,xs(9,Ey.bind(null,n,r,i,t),void 0,null),De===null)throw Error(R(349));mr&30||Sy(n,t,i)}return i}function Sy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ey(e,t,n,r){t.value=n,t.getSnapshot=r,Ty(t)&&Cy(e)}function by(e,t,n){return n(function(){Ty(t)&&Cy(e)})}function Ty(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ut(e,n)}catch{return!0}}function Cy(e){var t=fn(e,1);t!==null&&Bt(t,e,1,-1)}function xf(e){var t=zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:e},t.queue=e,e=e.dispatch=Vk.bind(null,we,e),[t.memoizedState,e]}function xs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Py(){return Et().memoizedState}function Po(e,t,n,r){var i=zt();we.flags|=e,i.memoizedState=xs(1|t,n,void 0,r===void 0?null:r)}function Ra(e,t,n,r){var i=Et();r=r===void 0?null:r;var s=void 0;if(Ie!==null){var o=Ie.memoizedState;if(s=o.destroy,r!==null&&_h(r,o.deps)){i.memoizedState=xs(t,n,s,r);return}}we.flags|=e,i.memoizedState=xs(1|t,n,s,r)}function Sf(e,t){return Po(8390656,8,e,t)}function Sh(e,t){return Ra(2048,8,e,t)}function Ay(e,t){return Ra(4,2,e,t)}function Oy(e,t){return Ra(4,4,e,t)}function Ry(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Iy(e,t,n){return n=n!=null?n.concat([e]):null,Ra(4,4,Ry.bind(null,t,e),n)}function Eh(){}function jy(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_h(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ly(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_h(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Dy(e,t,n){return mr&21?(Ut(n,t)||(n=Fg(),we.lanes|=n,gr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,et=!0),e.memoizedState=n)}function Bk(e,t){var n=ie;ie=n!==0&&4>n?n:4,e(!0);var r=Al.transition;Al.transition={};try{e(!1),t()}finally{ie=n,Al.transition=r}}function Ny(){return Et().memoizedState}function Uk(e,t,n){var r=$n(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},My(e))Fy(t,n);else if(n=py(e,t,n,r),n!==null){var i=Je();Bt(n,e,r,i),$y(n,t,r)}}function Vk(e,t,n){var r=$n(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(My(e))Fy(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ut(a,o)){var l=t.interleaved;l===null?(i.next=i,mh(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=py(e,t,i,r),n!==null&&(i=Je(),Bt(n,e,r,i),$y(n,t,r))}}function My(e){var t=e.alternate;return e===we||t!==null&&t===we}function Fy(e,t){qi=ea=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $y(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,th(e,n)}}var ta={readContext:St,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},zk={readContext:St,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:St,useEffect:Sf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Po(4194308,4,Ry.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Po(4194308,4,e,t)},useInsertionEffect:function(e,t){return Po(4,2,e,t)},useMemo:function(e,t){var n=zt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=zt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Uk.bind(null,we,e),[r.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:xf,useDebugValue:Eh,useDeferredValue:function(e){return zt().memoizedState=e},useTransition:function(){var e=xf(!1),t=e[0];return e=Bk.bind(null,e[1]),zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=we,i=zt();if(ge){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),De===null)throw Error(R(349));mr&30||Sy(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Sf(by.bind(null,r,s,e),[e]),r.flags|=2048,xs(9,Ey.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=zt(),t=De.identifierPrefix;if(ge){var n=an,r=on;n=(r&~(1<<32-$t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=_s++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=$k++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Hk={readContext:St,useCallback:jy,useContext:St,useEffect:Sh,useImperativeHandle:Iy,useInsertionEffect:Ay,useLayoutEffect:Oy,useMemo:Ly,useReducer:Ol,useRef:Py,useState:function(){return Ol(ks)},useDebugValue:Eh,useDeferredValue:function(e){var t=Et();return Dy(t,Ie.memoizedState,e)},useTransition:function(){var e=Ol(ks)[0],t=Et().memoizedState;return[e,t]},useMutableSource:ky,useSyncExternalStore:xy,useId:Ny,unstable_isNewReconciler:!1},Wk={readContext:St,useCallback:jy,useContext:St,useEffect:Sh,useImperativeHandle:Iy,useInsertionEffect:Ay,useLayoutEffect:Oy,useMemo:Ly,useReducer:Rl,useRef:Py,useState:function(){return Rl(ks)},useDebugValue:Eh,useDeferredValue:function(e){var t=Et();return Ie===null?t.memoizedState=e:Dy(t,Ie.memoizedState,e)},useTransition:function(){var e=Rl(ks)[0],t=Et().memoizedState;return[e,t]},useMutableSource:ky,useSyncExternalStore:xy,useId:Ny,unstable_isNewReconciler:!1};function di(e,t){try{var n="",r=t;do n+=w_(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Il(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function qu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var qk=typeof WeakMap=="function"?WeakMap:Map;function By(e,t,n){n=un(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ra||(ra=!0,nc=r),qu(e,t)},n}function Uy(e,t,n){n=un(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){qu(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){qu(e,t),typeof r!="function"&&(Fn===null?Fn=new Set([this]):Fn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ef(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new qk;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ox.bind(null,e,t,n),t.then(e,e))}function bf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Tf(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=un(-1,1),t.tag=2,Mn(n,t,1))),n.lanes|=1),e)}var Kk=mn.ReactCurrentOwner,et=!1;function Ge(e,t,n,r){t.child=e===null?wy(t,null,n,r):ci(t,e.child,n,r)}function Cf(e,t,n,r,i){n=n.render;var s=t.ref;return ti(t,i),r=kh(e,t,n,r,s,i),n=xh(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,pn(e,t,i)):(ge&&n&&uh(t),t.flags|=1,Ge(e,t,r,i),t.child)}function Pf(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Ih(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Vy(e,t,s,r,i)):(e=Io(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ps,n(o,r)&&e.ref===t.ref)return pn(e,t,i)}return t.flags|=1,e=Bn(s,r),e.ref=t.ref,e.return=t,t.child=e}function Vy(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(ps(s,r)&&e.ref===t.ref)if(et=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(et=!0);else return t.lanes=e.lanes,pn(e,t,i)}return Ku(e,t,n,r,i)}function zy(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(qr,lt),lt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(qr,lt),lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,de(qr,lt),lt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,de(qr,lt),lt|=r;return Ge(e,t,i,n),t.child}function Hy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ku(e,t,n,r,i){var s=nt(n)?fr:qe.current;return s=li(t,s),ti(t,i),n=kh(e,t,n,r,s,i),r=xh(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,pn(e,t,i)):(ge&&r&&uh(t),t.flags|=1,Ge(e,t,n,i),t.child)}function Af(e,t,n,r,i){if(nt(n)){var s=!0;Ko(t)}else s=!1;if(ti(t,i),t.stateNode===null)Ao(e,t),yy(t,n,r),Wu(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=St(u):(u=nt(n)?fr:qe.current,u=li(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&_f(t,o,r,u),En=!1;var f=t.memoizedState;o.state=f,Xo(t,r,o,i),l=t.memoizedState,a!==r||f!==l||tt.current||En?(typeof c=="function"&&(Hu(t,n,c,r),l=t.memoizedState),(a=En||wf(t,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,my(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Lt(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=St(l):(l=nt(n)?fr:qe.current,l=li(t,l));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&_f(t,o,r,l),En=!1,f=t.memoizedState,o.state=f,Xo(t,r,o,i);var g=t.memoizedState;a!==h||f!==g||tt.current||En?(typeof d=="function"&&(Hu(t,n,d,r),g=t.memoizedState),(u=En||wf(t,n,u,r,f,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Gu(e,t,n,r,s,i)}function Gu(e,t,n,r,i,s){Hy(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&pf(t,n,!1),pn(e,t,s);r=t.stateNode,Kk.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ci(t,e.child,null,s),t.child=ci(t,null,a,s)):Ge(e,t,a,s),t.memoizedState=r.state,i&&pf(t,n,!0),t.child}function Wy(e){var t=e.stateNode;t.pendingContext?ff(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ff(e,t.context,!1),yh(e,t.containerInfo)}function Of(e,t,n,r,i){return ui(),hh(i),t.flags|=256,Ge(e,t,n,r),t.child}var Ju={dehydrated:null,treeContext:null,retryLane:0};function Qu(e){return{baseLanes:e,cachePool:null,transitions:null}}function qy(e,t,n){var r=t.pendingProps,i=ve.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),de(ve,i&1),e===null)return Vu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=La(o,r,0,null),e=dr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Qu(n),t.memoizedState=Ju,e):bh(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Gk(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Bn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Bn(a,s):(s=dr(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Qu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Ju,r}return s=e.child,e=s.sibling,r=Bn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function bh(e,t){return t=La({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function oo(e,t,n,r){return r!==null&&hh(r),ci(t,e.child,null,n),e=bh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gk(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Il(Error(R(422))),oo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=La({mode:"visible",children:r.children},i,0,null),s=dr(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ci(t,e.child,null,o),t.child.memoizedState=Qu(o),t.memoizedState=Ju,s);if(!(t.mode&1))return oo(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(R(419)),r=Il(s,r,void 0),oo(e,t,o,r)}if(a=(o&e.childLanes)!==0,et||a){if(r=De,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,fn(e,i),Bt(r,e,i,-1))}return Rh(),r=Il(Error(R(421))),oo(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=ax.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ht=Nn(i.nextSibling),ft=t,ge=!0,Ft=null,e!==null&&(vt[wt++]=on,vt[wt++]=an,vt[wt++]=pr,on=e.id,an=e.overflow,pr=t),t=bh(t,r.children),t.flags|=4096,t)}function Rf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),zu(e.return,t,n)}function jl(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ky(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ge(e,t,r.children,n),r=ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rf(e,n,t);else if(e.tag===19)Rf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(de(ve,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Zo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),jl(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Zo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}jl(t,!0,n,null,s);break;case"together":jl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ao(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=Bn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Bn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Jk(e,t,n){switch(t.tag){case 3:Wy(t),ui();break;case 5:_y(t);break;case 1:nt(t.type)&&Ko(t);break;case 4:yh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;de(Qo,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(de(ve,ve.current&1),t.flags|=128,null):n&t.child.childLanes?qy(e,t,n):(de(ve,ve.current&1),e=pn(e,t,n),e!==null?e.sibling:null);de(ve,ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ky(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),de(ve,ve.current),r)break;return null;case 22:case 23:return t.lanes=0,zy(e,t,n)}return pn(e,t,n)}var Gy,Yu,Jy,Qy;Gy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yu=function(){};Jy=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,lr(Jt.current);var s=null;switch(n){case"input":i=wu(e,i),r=wu(e,r),s=[];break;case"select":i=_e({},i,{value:void 0}),r=_e({},r,{value:void 0}),s=[];break;case"textarea":i=xu(e,i),r=xu(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Wo)}Eu(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(as.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(as.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&pe("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Qy=function(e,t,n,r){n!==r&&(t.flags|=4)};function Oi(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qk(e,t,n){var r=t.pendingProps;switch(ch(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return nt(t.type)&&qo(),ze(t),null;case 3:return r=t.stateNode,hi(),me(tt),me(qe),wh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(io(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ft!==null&&(sc(Ft),Ft=null))),Yu(e,t),ze(t),null;case 5:vh(t);var i=lr(ws.current);if(n=t.type,e!==null&&t.stateNode!=null)Jy(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return ze(t),null}if(e=lr(Jt.current),io(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[qt]=t,r[ys]=s,e=(t.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(i=0;i<Fi.length;i++)pe(Fi[i],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":$d(r,s),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},pe("invalid",r);break;case"textarea":Ud(r,s),pe("invalid",r)}Eu(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ro(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ro(r.textContent,a,e),i=["children",""+a]):as.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&pe("scroll",r)}switch(n){case"input":Js(r),Bd(r,s,!0);break;case"textarea":Js(r),Vd(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Wo)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[qt]=t,e[ys]=r,Gy(e,t,!1,!1),t.stateNode=e;e:{switch(o=bu(n,r),n){case"dialog":pe("cancel",e),pe("close",e),i=r;break;case"iframe":case"object":case"embed":pe("load",e),i=r;break;case"video":case"audio":for(i=0;i<Fi.length;i++)pe(Fi[i],e);i=r;break;case"source":pe("error",e),i=r;break;case"img":case"image":case"link":pe("error",e),pe("load",e),i=r;break;case"details":pe("toggle",e),i=r;break;case"input":$d(e,r),i=wu(e,r),pe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=_e({},r,{value:void 0}),pe("invalid",e);break;case"textarea":Ud(e,r),i=xu(e,r),pe("invalid",e);break;default:i=r}Eu(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Tg(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Eg(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ls(e,l):typeof l=="number"&&ls(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(as.hasOwnProperty(s)?l!=null&&s==="onScroll"&&pe("scroll",e):l!=null&&Jc(e,s,l,o))}switch(n){case"input":Js(e),Bd(e,r,!1);break;case"textarea":Js(e),Vd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Un(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Yr(e,!!r.multiple,s,!1):r.defaultValue!=null&&Yr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Wo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)Qy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=lr(ws.current),lr(Jt.current),io(t)){if(r=t.stateNode,n=t.memoizedProps,r[qt]=t,(s=r.nodeValue!==n)&&(e=ft,e!==null))switch(e.tag){case 3:ro(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ro(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qt]=t,t.stateNode=r}return ze(t),null;case 13:if(me(ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&ht!==null&&t.mode&1&&!(t.flags&128))fy(),ui(),t.flags|=98560,s=!1;else if(s=io(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(R(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(R(317));s[qt]=t}else ui(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),s=!1}else Ft!==null&&(sc(Ft),Ft=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?je===0&&(je=3):Rh())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return hi(),Yu(e,t),e===null&&ms(t.stateNode.containerInfo),ze(t),null;case 10:return ph(t.type._context),ze(t),null;case 17:return nt(t.type)&&qo(),ze(t),null;case 19:if(me(ve),s=t.memoizedState,s===null)return ze(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Oi(s,!1);else{if(je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Zo(e),o!==null){for(t.flags|=128,Oi(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return de(ve,ve.current&1|2),t.child}e=e.sibling}s.tail!==null&&Te()>fi&&(t.flags|=128,r=!0,Oi(s,!1),t.lanes=4194304)}else{if(!r)if(e=Zo(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Oi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ge)return ze(t),null}else 2*Te()-s.renderingStartTime>fi&&n!==1073741824&&(t.flags|=128,r=!0,Oi(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Te(),t.sibling=null,n=ve.current,de(ve,r?n&1|2:n&1),t):(ze(t),null);case 22:case 23:return Oh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?lt&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function Yk(e,t){switch(ch(t),t.tag){case 1:return nt(t.type)&&qo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hi(),me(tt),me(qe),wh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vh(t),null;case 13:if(me(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));ui()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(ve),null;case 4:return hi(),null;case 10:return ph(t.type._context),null;case 22:case 23:return Oh(),null;case 24:return null;default:return null}}var ao=!1,He=!1,Xk=typeof WeakSet=="function"?WeakSet:Set,F=null;function Wr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(e,t,r)}else n.current=null}function Xu(e,t,n){try{n()}catch(r){Se(e,t,r)}}var If=!1;function Zk(e,t){if(Du=Vo,e=ey(),lh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=e,f=null;t:for(;;){for(var d;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===e)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nu={focusedElem:e,selectionRange:n},Vo=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,x=g.memoizedState,p=t.stateNode,y=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:Lt(t.type,v),x);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(k){Se(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return g=If,If=!1,g}function Ki(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Xu(t,n,s)}i=i.next}while(i!==r)}}function Ia(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Zu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Yy(e){var t=e.alternate;t!==null&&(e.alternate=null,Yy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qt],delete t[ys],delete t[$u],delete t[Dk],delete t[Nk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xy(e){return e.tag===5||e.tag===3||e.tag===4}function jf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ec(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Wo));else if(r!==4&&(e=e.child,e!==null))for(ec(e,t,n),e=e.sibling;e!==null;)ec(e,t,n),e=e.sibling}function tc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(tc(e,t,n),e=e.sibling;e!==null;)tc(e,t,n),e=e.sibling}var $e=null,Nt=!1;function _n(e,t,n){for(n=n.child;n!==null;)Zy(e,t,n),n=n.sibling}function Zy(e,t,n){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Ea,n)}catch{}switch(n.tag){case 5:He||Wr(n,t);case 6:var r=$e,i=Nt;$e=null,_n(e,t,n),$e=r,Nt=i,$e!==null&&(Nt?(e=$e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(Nt?(e=$e,n=n.stateNode,e.nodeType===8?Tl(e.parentNode,n):e.nodeType===1&&Tl(e,n),ds(e)):Tl($e,n.stateNode));break;case 4:r=$e,i=Nt,$e=n.stateNode.containerInfo,Nt=!0,_n(e,t,n),$e=r,Nt=i;break;case 0:case 11:case 14:case 15:if(!He&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Xu(n,t,o),i=i.next}while(i!==r)}_n(e,t,n);break;case 1:if(!He&&(Wr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Se(n,t,a)}_n(e,t,n);break;case 21:_n(e,t,n);break;case 22:n.mode&1?(He=(r=He)||n.memoizedState!==null,_n(e,t,n),He=r):_n(e,t,n);break;default:_n(e,t,n)}}function Lf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Xk),t.forEach(function(r){var i=lx.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Rt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:$e=a.stateNode,Nt=!1;break e;case 3:$e=a.stateNode.containerInfo,Nt=!0;break e;case 4:$e=a.stateNode.containerInfo,Nt=!0;break e}a=a.return}if($e===null)throw Error(R(160));Zy(s,o,i),$e=null,Nt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Se(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ev(t,e),t=t.sibling}function ev(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),Vt(e),r&4){try{Ki(3,e,e.return),Ia(3,e)}catch(v){Se(e,e.return,v)}try{Ki(5,e,e.return)}catch(v){Se(e,e.return,v)}}break;case 1:Rt(t,e),Vt(e),r&512&&n!==null&&Wr(n,n.return);break;case 5:if(Rt(t,e),Vt(e),r&512&&n!==null&&Wr(n,n.return),e.flags&32){var i=e.stateNode;try{ls(i,"")}catch(v){Se(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&kg(i,s),bu(a,o);var u=bu(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?Tg(i,h):c==="dangerouslySetInnerHTML"?Eg(i,h):c==="children"?ls(i,h):Jc(i,c,h,u)}switch(a){case"input":_u(i,s);break;case"textarea":xg(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?Yr(i,!!s.multiple,d,!1):f!==!!s.multiple&&(s.defaultValue!=null?Yr(i,!!s.multiple,s.defaultValue,!0):Yr(i,!!s.multiple,s.multiple?[]:"",!1))}i[ys]=s}catch(v){Se(e,e.return,v)}}break;case 6:if(Rt(t,e),Vt(e),r&4){if(e.stateNode===null)throw Error(R(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(v){Se(e,e.return,v)}}break;case 3:if(Rt(t,e),Vt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ds(t.containerInfo)}catch(v){Se(e,e.return,v)}break;case 4:Rt(t,e),Vt(e);break;case 13:Rt(t,e),Vt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ph=Te())),r&4&&Lf(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(He=(u=He)||c,Rt(t,e),He=u):Rt(t,e),Vt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(F=e,c=e.child;c!==null;){for(h=F=c;F!==null;){switch(f=F,d=f.child,f.tag){case 0:case 11:case 14:case 15:Ki(4,f,f.return);break;case 1:Wr(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){Se(r,n,v)}}break;case 5:Wr(f,f.return);break;case 22:if(f.memoizedState!==null){Nf(h);continue}}d!==null?(d.return=f,F=d):Nf(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=bg("display",o))}catch(v){Se(e,e.return,v)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Se(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Rt(t,e),Vt(e),r&4&&Lf(e);break;case 21:break;default:Rt(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Xy(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ls(i,""),r.flags&=-33);var s=jf(e);tc(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=jf(e);ec(e,a,o);break;default:throw Error(R(161))}}catch(l){Se(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ex(e,t,n){F=e,tv(e)}function tv(e,t,n){for(var r=(e.mode&1)!==0;F!==null;){var i=F,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ao;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||He;a=ao;var u=He;if(ao=o,(He=l)&&!u)for(F=i;F!==null;)o=F,l=o.child,o.tag===22&&o.memoizedState!==null?Mf(i):l!==null?(l.return=o,F=l):Mf(i);for(;s!==null;)F=s,tv(s),s=s.sibling;F=i,ao=a,He=u}Df(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,F=s):Df(e)}}function Df(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||Ia(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!He)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Lt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&vf(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}vf(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ds(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}He||t.flags&512&&Zu(t)}catch(f){Se(t,t.return,f)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function Nf(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function Mf(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ia(4,t)}catch(l){Se(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Se(t,i,l)}}var s=t.return;try{Zu(t)}catch(l){Se(t,s,l)}break;case 5:var o=t.return;try{Zu(t)}catch(l){Se(t,o,l)}}}catch(l){Se(t,t.return,l)}if(t===e){F=null;break}var a=t.sibling;if(a!==null){a.return=t.return,F=a;break}F=t.return}}var tx=Math.ceil,na=mn.ReactCurrentDispatcher,Th=mn.ReactCurrentOwner,xt=mn.ReactCurrentBatchConfig,ee=0,De=null,Ae=null,Be=0,lt=0,qr=qn(0),je=0,Ss=null,gr=0,ja=0,Ch=0,Gi=null,Ze=null,Ph=0,fi=1/0,nn=null,ra=!1,nc=null,Fn=null,lo=!1,Rn=null,ia=0,Ji=0,rc=null,Oo=-1,Ro=0;function Je(){return ee&6?Te():Oo!==-1?Oo:Oo=Te()}function $n(e){return e.mode&1?ee&2&&Be!==0?Be&-Be:Fk.transition!==null?(Ro===0&&(Ro=Fg()),Ro):(e=ie,e!==0||(e=window.event,e=e===void 0?16:Wg(e.type)),e):1}function Bt(e,t,n,r){if(50<Ji)throw Ji=0,rc=null,Error(R(185));Ns(e,n,r),(!(ee&2)||e!==De)&&(e===De&&(!(ee&2)&&(ja|=n),je===4&&Pn(e,Be)),rt(e,r),n===1&&ee===0&&!(t.mode&1)&&(fi=Te()+500,Aa&&Kn()))}function rt(e,t){var n=e.callbackNode;F_(e,t);var r=Uo(e,e===De?Be:0);if(r===0)n!==null&&Wd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Wd(n),t===1)e.tag===0?Mk(Ff.bind(null,e)):cy(Ff.bind(null,e)),jk(function(){!(ee&6)&&Kn()}),n=null;else{switch($g(r)){case 1:n=eh;break;case 4:n=Ng;break;case 16:n=Bo;break;case 536870912:n=Mg;break;default:n=Bo}n=uv(n,nv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function nv(e,t){if(Oo=-1,Ro=0,ee&6)throw Error(R(327));var n=e.callbackNode;if(ni()&&e.callbackNode!==n)return null;var r=Uo(e,e===De?Be:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=sa(e,r);else{t=r;var i=ee;ee|=2;var s=iv();(De!==e||Be!==t)&&(nn=null,fi=Te()+500,hr(e,t));do try{ix();break}catch(a){rv(e,a)}while(!0);fh(),na.current=s,ee=i,Ae!==null?t=0:(De=null,Be=0,t=je)}if(t!==0){if(t===2&&(i=Ou(e),i!==0&&(r=i,t=ic(e,i))),t===1)throw n=Ss,hr(e,0),Pn(e,r),rt(e,Te()),n;if(t===6)Pn(e,r);else{if(i=e.current.alternate,!(r&30)&&!nx(i)&&(t=sa(e,r),t===2&&(s=Ou(e),s!==0&&(r=s,t=ic(e,s))),t===1))throw n=Ss,hr(e,0),Pn(e,r),rt(e,Te()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:er(e,Ze,nn);break;case 3:if(Pn(e,r),(r&130023424)===r&&(t=Ph+500-Te(),10<t)){if(Uo(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Je(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Fu(er.bind(null,e,Ze,nn),t);break}er(e,Ze,nn);break;case 4:if(Pn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-$t(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tx(r/1960))-r,10<r){e.timeoutHandle=Fu(er.bind(null,e,Ze,nn),r);break}er(e,Ze,nn);break;case 5:er(e,Ze,nn);break;default:throw Error(R(329))}}}return rt(e,Te()),e.callbackNode===n?nv.bind(null,e):null}function ic(e,t){var n=Gi;return e.current.memoizedState.isDehydrated&&(hr(e,t).flags|=256),e=sa(e,t),e!==2&&(t=Ze,Ze=n,t!==null&&sc(t)),e}function sc(e){Ze===null?Ze=e:Ze.push.apply(Ze,e)}function nx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ut(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pn(e,t){for(t&=~Ch,t&=~ja,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$t(t),r=1<<n;e[n]=-1,t&=~r}}function Ff(e){if(ee&6)throw Error(R(327));ni();var t=Uo(e,0);if(!(t&1))return rt(e,Te()),null;var n=sa(e,t);if(e.tag!==0&&n===2){var r=Ou(e);r!==0&&(t=r,n=ic(e,r))}if(n===1)throw n=Ss,hr(e,0),Pn(e,t),rt(e,Te()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,er(e,Ze,nn),rt(e,Te()),null}function Ah(e,t){var n=ee;ee|=1;try{return e(t)}finally{ee=n,ee===0&&(fi=Te()+500,Aa&&Kn())}}function yr(e){Rn!==null&&Rn.tag===0&&!(ee&6)&&ni();var t=ee;ee|=1;var n=xt.transition,r=ie;try{if(xt.transition=null,ie=1,e)return e()}finally{ie=r,xt.transition=n,ee=t,!(ee&6)&&Kn()}}function Oh(){lt=qr.current,me(qr)}function hr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ik(n)),Ae!==null)for(n=Ae.return;n!==null;){var r=n;switch(ch(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qo();break;case 3:hi(),me(tt),me(qe),wh();break;case 5:vh(r);break;case 4:hi();break;case 13:me(ve);break;case 19:me(ve);break;case 10:ph(r.type._context);break;case 22:case 23:Oh()}n=n.return}if(De=e,Ae=e=Bn(e.current,null),Be=lt=t,je=0,Ss=null,Ch=ja=gr=0,Ze=Gi=null,ar!==null){for(t=0;t<ar.length;t++)if(n=ar[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ar=null}return e}function rv(e,t){do{var n=Ae;try{if(fh(),Co.current=ta,ea){for(var r=we.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ea=!1}if(mr=0,Le=Ie=we=null,qi=!1,_s=0,Th.current=null,n===null||n.return===null){je=1,Ss=t,Ae=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Be,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=bf(o);if(d!==null){d.flags&=-257,Tf(d,o,a,s,t),d.mode&1&&Ef(s,u,t),t=d,l=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(l),t.updateQueue=v}else g.add(l);break e}else{if(!(t&1)){Ef(s,u,t),Rh();break e}l=Error(R(426))}}else if(ge&&a.mode&1){var x=bf(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Tf(x,o,a,s,t),hh(di(l,a));break e}}s=l=di(l,a),je!==4&&(je=2),Gi===null?Gi=[s]:Gi.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=By(s,l,t);yf(s,p);break e;case 1:a=l;var y=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Fn===null||!Fn.has(m)))){s.flags|=65536,t&=-t,s.lanes|=t;var k=Uy(s,a,t);yf(s,k);break e}}s=s.return}while(s!==null)}ov(n)}catch(b){t=b,Ae===n&&n!==null&&(Ae=n=n.return);continue}break}while(!0)}function iv(){var e=na.current;return na.current=ta,e===null?ta:e}function Rh(){(je===0||je===3||je===2)&&(je=4),De===null||!(gr&268435455)&&!(ja&268435455)||Pn(De,Be)}function sa(e,t){var n=ee;ee|=2;var r=iv();(De!==e||Be!==t)&&(nn=null,hr(e,t));do try{rx();break}catch(i){rv(e,i)}while(!0);if(fh(),ee=n,na.current=r,Ae!==null)throw Error(R(261));return De=null,Be=0,je}function rx(){for(;Ae!==null;)sv(Ae)}function ix(){for(;Ae!==null&&!A_();)sv(Ae)}function sv(e){var t=lv(e.alternate,e,lt);e.memoizedProps=e.pendingProps,t===null?ov(e):Ae=t,Th.current=null}function ov(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Yk(n,t),n!==null){n.flags&=32767,Ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{je=6,Ae=null;return}}else if(n=Qk(n,t,lt),n!==null){Ae=n;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);je===0&&(je=5)}function er(e,t,n){var r=ie,i=xt.transition;try{xt.transition=null,ie=1,sx(e,t,n,r)}finally{xt.transition=i,ie=r}return null}function sx(e,t,n,r){do ni();while(Rn!==null);if(ee&6)throw Error(R(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if($_(e,s),e===De&&(Ae=De=null,Be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lo||(lo=!0,uv(Bo,function(){return ni(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=xt.transition,xt.transition=null;var o=ie;ie=1;var a=ee;ee|=4,Th.current=null,Zk(e,n),ev(n,e),bk(Nu),Vo=!!Du,Nu=Du=null,e.current=n,ex(n),O_(),ee=a,ie=o,xt.transition=s}else e.current=n;if(lo&&(lo=!1,Rn=e,ia=i),s=e.pendingLanes,s===0&&(Fn=null),j_(n.stateNode),rt(e,Te()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ra)throw ra=!1,e=nc,nc=null,e;return ia&1&&e.tag!==0&&ni(),s=e.pendingLanes,s&1?e===rc?Ji++:(Ji=0,rc=e):Ji=0,Kn(),null}function ni(){if(Rn!==null){var e=$g(ia),t=xt.transition,n=ie;try{if(xt.transition=null,ie=16>e?16:e,Rn===null)var r=!1;else{if(e=Rn,Rn=null,ia=0,ee&6)throw Error(R(331));var i=ee;for(ee|=4,F=e.current;F!==null;){var s=F,o=s.child;if(F.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(F=u;F!==null;){var c=F;switch(c.tag){case 0:case 11:case 15:Ki(8,c,s)}var h=c.child;if(h!==null)h.return=c,F=h;else for(;F!==null;){c=F;var f=c.sibling,d=c.return;if(Yy(c),c===u){F=null;break}if(f!==null){f.return=d,F=f;break}F=d}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}F=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,F=o;else e:for(;F!==null;){if(s=F,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ki(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,F=p;break e}F=s.return}}var y=e.current;for(F=y;F!==null;){o=F;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,F=m;else e:for(o=y;F!==null;){if(a=F,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ia(9,a)}}catch(b){Se(a,a.return,b)}if(a===o){F=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,F=k;break e}F=a.return}}if(ee=i,Kn(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Ea,e)}catch{}r=!0}return r}finally{ie=n,xt.transition=t}}return!1}function $f(e,t,n){t=di(n,t),t=By(e,t,1),e=Mn(e,t,1),t=Je(),e!==null&&(Ns(e,1,t),rt(e,t))}function Se(e,t,n){if(e.tag===3)$f(e,e,n);else for(;t!==null;){if(t.tag===3){$f(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fn===null||!Fn.has(r))){e=di(n,e),e=Uy(t,e,1),t=Mn(t,e,1),e=Je(),t!==null&&(Ns(t,1,e),rt(t,e));break}}t=t.return}}function ox(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Je(),e.pingedLanes|=e.suspendedLanes&n,De===e&&(Be&n)===n&&(je===4||je===3&&(Be&130023424)===Be&&500>Te()-Ph?hr(e,0):Ch|=n),rt(e,t)}function av(e,t){t===0&&(e.mode&1?(t=Xs,Xs<<=1,!(Xs&130023424)&&(Xs=4194304)):t=1);var n=Je();e=fn(e,t),e!==null&&(Ns(e,t,n),rt(e,n))}function ax(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),av(e,n)}function lx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),av(e,n)}var lv;lv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||tt.current)et=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return et=!1,Jk(e,t,n);et=!!(e.flags&131072)}else et=!1,ge&&t.flags&1048576&&hy(t,Jo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ao(e,t),e=t.pendingProps;var i=li(t,qe.current);ti(t,n),i=kh(null,t,r,e,i,n);var s=xh();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nt(r)?(s=!0,Ko(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gh(t),i.updater=Oa,t.stateNode=i,i._reactInternals=t,Wu(t,r,e,n),t=Gu(null,t,r,!0,s,n)):(t.tag=0,ge&&s&&uh(t),Ge(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ao(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=cx(r),e=Lt(r,e),i){case 0:t=Ku(null,t,r,e,n);break e;case 1:t=Af(null,t,r,e,n);break e;case 11:t=Cf(null,t,r,e,n);break e;case 14:t=Pf(null,t,r,Lt(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Lt(r,i),Ku(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Lt(r,i),Af(e,t,r,i,n);case 3:e:{if(Wy(t),e===null)throw Error(R(387));r=t.pendingProps,s=t.memoizedState,i=s.element,my(e,t),Xo(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=di(Error(R(423)),t),t=Of(e,t,r,n,i);break e}else if(r!==i){i=di(Error(R(424)),t),t=Of(e,t,r,n,i);break e}else for(ht=Nn(t.stateNode.containerInfo.firstChild),ft=t,ge=!0,Ft=null,n=wy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ui(),r===i){t=pn(e,t,n);break e}Ge(e,t,r,n)}t=t.child}return t;case 5:return _y(t),e===null&&Vu(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Mu(r,i)?o=null:s!==null&&Mu(r,s)&&(t.flags|=32),Hy(e,t),Ge(e,t,o,n),t.child;case 6:return e===null&&Vu(t),null;case 13:return qy(e,t,n);case 4:return yh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ci(t,null,r,n):Ge(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Lt(r,i),Cf(e,t,r,i,n);case 7:return Ge(e,t,t.pendingProps,n),t.child;case 8:return Ge(e,t,t.pendingProps.children,n),t.child;case 12:return Ge(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,de(Qo,r._currentValue),r._currentValue=o,s!==null)if(Ut(s.value,o)){if(s.children===i.children&&!tt.current){t=pn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=un(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),zu(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(R(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),zu(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ge(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ti(t,n),i=St(i),r=r(i),t.flags|=1,Ge(e,t,r,n),t.child;case 14:return r=t.type,i=Lt(r,t.pendingProps),i=Lt(r.type,i),Pf(e,t,r,i,n);case 15:return Vy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Lt(r,i),Ao(e,t),t.tag=1,nt(r)?(e=!0,Ko(t)):e=!1,ti(t,n),yy(t,r,i),Wu(t,r,i,n),Gu(null,t,r,!0,e,n);case 19:return Ky(e,t,n);case 22:return zy(e,t,n)}throw Error(R(156,t.tag))};function uv(e,t){return Dg(e,t)}function ux(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,n,r){return new ux(e,t,n,r)}function Ih(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cx(e){if(typeof e=="function")return Ih(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yc)return 11;if(e===Xc)return 14}return 2}function Bn(e,t){var n=e.alternate;return n===null?(n=kt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Io(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Ih(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Nr:return dr(n.children,i,s,t);case Qc:o=8,i|=8;break;case mu:return e=kt(12,n,t,i|2),e.elementType=mu,e.lanes=s,e;case gu:return e=kt(13,n,t,i),e.elementType=gu,e.lanes=s,e;case yu:return e=kt(19,n,t,i),e.elementType=yu,e.lanes=s,e;case vg:return La(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gg:o=10;break e;case yg:o=9;break e;case Yc:o=11;break e;case Xc:o=14;break e;case Sn:o=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=kt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function dr(e,t,n,r){return e=kt(7,e,r,t),e.lanes=n,e}function La(e,t,n,r){return e=kt(22,e,r,t),e.elementType=vg,e.lanes=n,e.stateNode={isHidden:!1},e}function Ll(e,t,n){return e=kt(6,e,null,t),e.lanes=n,e}function Dl(e,t,n){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hx(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ml(0),this.expirationTimes=ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ml(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jh(e,t,n,r,i,s,o,a,l){return e=new hx(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=kt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gh(s),e}function dx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function cv(e){if(!e)return Vn;e=e._reactInternals;e:{if(wr(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(nt(n))return uy(e,n,t)}return t}function hv(e,t,n,r,i,s,o,a,l){return e=jh(n,r,!0,e,i,s,o,a,l),e.context=cv(null),n=e.current,r=Je(),i=$n(n),s=un(r,i),s.callback=t??null,Mn(n,s,i),e.current.lanes=i,Ns(e,i,r),rt(e,r),e}function Da(e,t,n,r){var i=t.current,s=Je(),o=$n(i);return n=cv(n),t.context===null?t.context=n:t.pendingContext=n,t=un(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Mn(i,t,o),e!==null&&(Bt(e,i,o,s),To(e,i,o)),o}function oa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Lh(e,t){Bf(e,t),(e=e.alternate)&&Bf(e,t)}function fx(){return null}var dv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Dh(e){this._internalRoot=e}Na.prototype.render=Dh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Da(e,t,null,null)};Na.prototype.unmount=Dh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yr(function(){Da(null,e,null,null)}),t[dn]=null}};function Na(e){this._internalRoot=e}Na.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Cn.length&&t!==0&&t<Cn[n].priority;n++);Cn.splice(n,0,e),n===0&&Hg(e)}};function Nh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ma(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Uf(){}function px(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=oa(o);s.call(u)}}var o=hv(t,r,e,0,null,!1,!1,"",Uf);return e._reactRootContainer=o,e[dn]=o.current,ms(e.nodeType===8?e.parentNode:e),yr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=oa(l);a.call(u)}}var l=jh(e,0,!1,null,null,!1,!1,"",Uf);return e._reactRootContainer=l,e[dn]=l.current,ms(e.nodeType===8?e.parentNode:e),yr(function(){Da(t,l,n,r)}),l}function Fa(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=oa(o);a.call(l)}}Da(t,o,e,i)}else o=px(n,t,e,i,r);return oa(o)}Bg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Mi(t.pendingLanes);n!==0&&(th(t,n|1),rt(t,Te()),!(ee&6)&&(fi=Te()+500,Kn()))}break;case 13:yr(function(){var r=fn(e,1);if(r!==null){var i=Je();Bt(r,e,1,i)}}),Lh(e,1)}};nh=function(e){if(e.tag===13){var t=fn(e,134217728);if(t!==null){var n=Je();Bt(t,e,134217728,n)}Lh(e,134217728)}};Ug=function(e){if(e.tag===13){var t=$n(e),n=fn(e,t);if(n!==null){var r=Je();Bt(n,e,t,r)}Lh(e,t)}};Vg=function(){return ie};zg=function(e,t){var n=ie;try{return ie=e,t()}finally{ie=n}};Cu=function(e,t,n){switch(t){case"input":if(_u(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Pa(r);if(!i)throw Error(R(90));_g(r),_u(r,i)}}}break;case"textarea":xg(e,n);break;case"select":t=n.value,t!=null&&Yr(e,!!n.multiple,t,!1)}};Ag=Ah;Og=yr;var mx={usingClientEntryPoint:!1,Events:[Fs,Br,Pa,Cg,Pg,Ah]},Ri={findFiberByHostInstance:or,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},gx={bundleType:Ri.bundleType,version:Ri.version,rendererPackageName:Ri.rendererPackageName,rendererConfig:Ri.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jg(e),e===null?null:e.stateNode},findFiberByHostInstance:Ri.findFiberByHostInstance||fx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uo.isDisabled&&uo.supportsFiber)try{Ea=uo.inject(gx),Gt=uo}catch{}}gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mx;gt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nh(t))throw Error(R(200));return dx(e,t,null,n)};gt.createRoot=function(e,t){if(!Nh(e))throw Error(R(299));var n=!1,r="",i=dv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=jh(e,1,!1,null,null,n,!1,r,i),e[dn]=t.current,ms(e.nodeType===8?e.parentNode:e),new Dh(t)};gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=jg(t),e=e===null?null:e.stateNode,e};gt.flushSync=function(e){return yr(e)};gt.hydrate=function(e,t,n){if(!Ma(t))throw Error(R(200));return Fa(null,e,t,!0,n)};gt.hydrateRoot=function(e,t,n){if(!Nh(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=dv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=hv(t,null,e,1,n??null,i,!1,s,o),e[dn]=t.current,ms(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Na(t)};gt.render=function(e,t,n){if(!Ma(t))throw Error(R(200));return Fa(null,e,t,!1,n)};gt.unmountComponentAtNode=function(e){if(!Ma(e))throw Error(R(40));return e._reactRootContainer?(yr(function(){Fa(null,null,e,!1,function(){e._reactRootContainer=null,e[dn]=null})}),!0):!1};gt.unstable_batchedUpdates=Ah;gt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ma(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Fa(e,t,n,!1,r)};gt.version="18.2.0-next-9e3b772b8-20220608";function fv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fv)}catch(e){console.error(e)}}fv(),hg.exports=gt;var yx=hg.exports,pv,Vf=yx;pv=Vf.createRoot,Vf.hydrateRoot;const Mh=O.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),$a=O.createContext({});function vx(){return O.useContext($a).visualElement}const Bs=O.createContext(null),_r=typeof document<"u",Qi=_r?O.useLayoutEffect:O.useEffect,mv=O.createContext({strict:!1});function wx(e,t,n,r){const i=vx(),s=O.useContext(mv),o=O.useContext(Bs),a=O.useContext(Mh).reducedMotion,l=O.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceId:o?o.id:void 0,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;return Qi(()=>{u&&u.render()}),Qi(()=>{u&&u.animationState&&u.animationState.animateChanges()}),Qi(()=>()=>u&&u.notify("Unmount"),[]),u}function Kr(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function _x(e,t,n){return O.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Kr(n)&&(n.current=r))},[t])}function Es(e){return typeof e=="string"||Array.isArray(e)}function Ba(e){return typeof e=="object"&&typeof e.start=="function"}const kx=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function Ua(e){return Ba(e.animate)||kx.some(t=>Es(e[t]))}function gv(e){return!!(Ua(e)||e.variants)}function xx(e,t){if(Ua(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Es(n)?n:void 0,animate:Es(r)?r:void 0}}return e.inherit!==!1?t:{}}function Sx(e){const{initial:t,animate:n}=xx(e,O.useContext($a));return O.useMemo(()=>({initial:t,animate:n}),[zf(t),zf(n)])}function zf(e){return Array.isArray(e)?e.join(" "):e}const tn=e=>({isEnabled:t=>e.some(n=>!!t[n])}),bs={measureLayout:tn(["layout","layoutId","drag"]),animation:tn(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:tn(["exit"]),drag:tn(["drag","dragControls"]),focus:tn(["whileFocus"]),hover:tn(["whileHover","onHoverStart","onHoverEnd"]),tap:tn(["whileTap","onTap","onTapStart","onTapCancel"]),pan:tn(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:tn(["whileInView","onViewportEnter","onViewportLeave"])};function Ex(e){for(const t in e)t==="projectionNodeConstructor"?bs.projectionNodeConstructor=e[t]:bs[t].Component=e[t]}function Va(e){const t=O.useRef(null);return t.current===null&&(t.current=e()),t.current}const Yi={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let bx=1;function Tx(){return Va(()=>{if(Yi.hasEverUpdated)return bx++})}const Fh=O.createContext({});class Cx extends ln.Component{getSnapshotBeforeUpdate(){const{visualElement:t,props:n}=this.props;return t&&t.setProps(n),null}componentDidUpdate(){}render(){return this.props.children}}const yv=O.createContext({}),Px=Symbol.for("motionComponentSymbol");function Ax({preloadedFeatures:e,createVisualElement:t,projectionNodeConstructor:n,useRender:r,useVisualState:i,Component:s}){e&&Ex(e);function o(l,u){const c={...O.useContext(Mh),...l,layoutId:Ox(l)},{isStatic:h}=c;let f=null;const d=Sx(l),g=h?void 0:Tx(),v=i(l,h);if(!h&&_r){d.visualElement=wx(s,v,c,t);const x=O.useContext(mv).strict,p=O.useContext(yv);d.visualElement&&(f=d.visualElement.loadFeatures(c,x,e,g,n||bs.projectionNodeConstructor,p))}return O.createElement(Cx,{visualElement:d.visualElement,props:c},f,O.createElement($a.Provider,{value:d},r(s,l,g,_x(v,d.visualElement,u),v,h,d.visualElement)))}const a=O.forwardRef(o);return a[Px]=s,a}function Ox({layoutId:e}){const t=O.useContext(Fh).id;return t&&e!==void 0?t+"-"+e:e}function Rx(e){function t(r,i={}){return Ax(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const Ix=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $h(e){return typeof e!="string"||e.includes("-")?!1:!!(Ix.indexOf(e)>-1||/[A-Z]/.test(e))}const aa={};function jx(e){Object.assign(aa,e)}const la=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],kr=new Set(la);function vv(e,{layout:t,layoutId:n}){return kr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!aa[e]||e==="opacity")}const Yt=e=>!!(e!=null&&e.getVelocity),Lx={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Dx=(e,t)=>la.indexOf(e)-la.indexOf(t);function Nx({transform:e,transformKeys:t},{enableHardwareAcceleration:n=!0,allowTransformNone:r=!0},i,s){let o="";t.sort(Dx);for(const a of t)o+=`${Lx[a]||a}(${e[a]}) `;return n&&!e.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(e,i?"":o):r&&i&&(o="none"),o}function wv(e){return e.startsWith("--")}const Mx=(e,t)=>t&&typeof e=="number"?t.transform(e):e,pi=(e,t,n)=>Math.min(Math.max(n,e),t),xr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Xi={...xr,transform:e=>pi(0,1,e)},co={...xr,default:1},Zi=e=>Math.round(e*1e5)/1e5,Ts=/(-)?([\d]*\.?[\d])+/g,oc=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Fx=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Us(e){return typeof e=="string"}const Vs=e=>({test:t=>Us(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),xn=Vs("deg"),Qt=Vs("%"),H=Vs("px"),$x=Vs("vh"),Bx=Vs("vw"),Hf={...Qt,parse:e=>Qt.parse(e)/100,transform:e=>Qt.transform(e*100)},Wf={...xr,transform:Math.round},_v={borderWidth:H,borderTopWidth:H,borderRightWidth:H,borderBottomWidth:H,borderLeftWidth:H,borderRadius:H,radius:H,borderTopLeftRadius:H,borderTopRightRadius:H,borderBottomRightRadius:H,borderBottomLeftRadius:H,width:H,maxWidth:H,height:H,maxHeight:H,size:H,top:H,right:H,bottom:H,left:H,padding:H,paddingTop:H,paddingRight:H,paddingBottom:H,paddingLeft:H,margin:H,marginTop:H,marginRight:H,marginBottom:H,marginLeft:H,rotate:xn,rotateX:xn,rotateY:xn,rotateZ:xn,scale:co,scaleX:co,scaleY:co,scaleZ:co,skew:xn,skewX:xn,skewY:xn,distance:H,translateX:H,translateY:H,translateZ:H,x:H,y:H,z:H,perspective:H,transformPerspective:H,opacity:Xi,originX:Hf,originY:Hf,originZ:H,zIndex:Wf,fillOpacity:Xi,strokeOpacity:Xi,numOctaves:Wf};function Bh(e,t,n,r){const{style:i,vars:s,transform:o,transformKeys:a,transformOrigin:l}=e;a.length=0;let u=!1,c=!1,h=!0;for(const f in t){const d=t[f];if(wv(f)){s[f]=d;continue}const g=_v[f],v=Mx(d,g);if(kr.has(f)){if(u=!0,o[f]=v,a.push(f),!h)continue;d!==(g.default||0)&&(h=!1)}else f.startsWith("origin")?(c=!0,l[f]=v):i[f]=v}if(t.transform||(u||r?i.transform=Nx(e,n,h,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:d="50%",originZ:g=0}=l;i.transformOrigin=`${f} ${d} ${g}`}}const Uh=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function kv(e,t,n){for(const r in t)!Yt(t[r])&&!vv(r,n)&&(e[r]=t[r])}function Ux({transformTemplate:e},t,n){return O.useMemo(()=>{const r=Uh();return Bh(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function Vx(e,t,n){const r=e.style||{},i={};return kv(i,r,e),Object.assign(i,Ux(e,t,n)),e.transformValues?e.transformValues(i):i}function zx(e,t,n){const r={},i=Vx(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),r.style=i,r}const Hx=["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],Wx=["whileTap","onTap","onTapStart","onTapCancel"],qx=["onPan","onPanStart","onPanSessionStart","onPanEnd"],Kx=["whileInView","onViewportEnter","onViewportLeave","viewport"],Gx=new Set(["initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd","layoutScroll",...Kx,...Wx,...Hx,...qx]);function ua(e){return Gx.has(e)}let xv=e=>!ua(e);function Jx(e){e&&(xv=t=>t.startsWith("on")?!ua(t):e(t))}try{Jx(require("@emotion/is-prop-valid").default)}catch{}function Qx(e,t,n){const r={};for(const i in e)(xv(i)||n===!0&&ua(i)||!t&&!ua(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function qf(e,t,n){return typeof e=="string"?e:H.transform(t+n*e)}function Yx(e,t,n){const r=qf(t,e.x,e.width),i=qf(n,e.y,e.height);return`${r} ${i}`}const Xx={offset:"stroke-dashoffset",array:"stroke-dasharray"},Zx={offset:"strokeDashoffset",array:"strokeDasharray"};function eS(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?Xx:Zx;e[s.offset]=H.transform(-r);const o=H.transform(t),a=H.transform(n);e[s.array]=`${o} ${a}`}function Vh(e,{attrX:t,attrY:n,originX:r,originY:i,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},u,c,h){if(Bh(e,l,u,h),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:d,dimensions:g}=e;f.transform&&(g&&(d.transform=f.transform),delete f.transform),g&&(r!==void 0||i!==void 0||d.transform)&&(d.transformOrigin=Yx(g,r!==void 0?r:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),s!==void 0&&eS(f,s,o,a,!1)}const Sv=()=>({...Uh(),attrs:{}}),zh=e=>typeof e=="string"&&e.toLowerCase()==="svg";function tS(e,t,n,r){const i=O.useMemo(()=>{const s=Sv();return Vh(s,t,{enableHardwareAcceleration:!1},zh(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};kv(s,e.style,e),i.style={...s,...i.style}}return i}function nS(e=!1){return(n,r,i,s,{latestValues:o},a)=>{const u=($h(n)?tS:zx)(r,o,a,n),h={...Qx(r,typeof n=="string",e),...u,ref:s};return i&&(h["data-projection-id"]=i),O.createElement(n,h)}}const Hh=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function Ev(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const bv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Tv(e,t,n,r){Ev(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(bv.has(i)?i:Hh(i),t.attrs[i])}function Wh(e){const{style:t}=e,n={};for(const r in t)(Yt(t[r])||vv(r,e))&&(n[r]=t[r]);return n}function Cv(e){const t=Wh(e);for(const n in e)if(Yt(e[n])){const r=n==="x"||n==="y"?"attr"+n.toUpperCase():n;t[r]=e[n]}return t}function qh(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}const ca=e=>Array.isArray(e),rS=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),iS=e=>ca(e)?e[e.length-1]||0:e;function jo(e){const t=Yt(e)?e.get():e;return rS(t)?t.toValue():t}function sS({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,s){const o={latestValues:oS(r,i,s,e),renderState:t()};return n&&(o.mount=a=>n(r,a,o)),o}const Pv=e=>(t,n)=>{const r=O.useContext($a),i=O.useContext(Bs),s=()=>sS(e,t,r,i);return n?s():Va(s)};function oS(e,t,n,r){const i={},s=r(e);for(const f in s)i[f]=jo(s[f]);let{initial:o,animate:a}=e;const l=Ua(e),u=gv(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const h=c?a:o;return h&&typeof h!="boolean"&&!Ba(h)&&(Array.isArray(h)?h:[h]).forEach(d=>{const g=qh(e,d);if(!g)return;const{transitionEnd:v,transition:x,...p}=g;for(const y in p){let m=p[y];if(Array.isArray(m)){const k=c?m.length-1:0;m=m[k]}m!==null&&(i[y]=m)}for(const y in v)i[y]=v[y]}),i}const aS={useVisualState:Pv({scrapeMotionValuesFromProps:Cv,createRenderState:Sv,onMount:(e,t,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}Vh(n,r,{enableHardwareAcceleration:!1},zh(t.tagName),e.transformTemplate),Tv(t,n)}})},lS={useVisualState:Pv({scrapeMotionValuesFromProps:Wh,createRenderState:Uh})};function uS(e,{forwardMotionProps:t=!1},n,r,i){return{...$h(e)?aS:lS,preloadedFeatures:n,useRender:nS(t),createVisualElement:r,projectionNodeConstructor:i,Component:e}}var he;(function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"})(he||(he={}));function za(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function ac(e,t,n,r){O.useEffect(()=>{const i=e.current;if(n&&i)return za(i,t,n,r)},[e,t,n,r])}function cS({whileFocus:e,visualElement:t}){const{animationState:n}=t,r=()=>{n&&n.setActive(he.Focus,!0)},i=()=>{n&&n.setActive(he.Focus,!1)};ac(t,"focus",e?r:void 0),ac(t,"blur",e?i:void 0)}function Av(e){return typeof PointerEvent<"u"&&e instanceof PointerEvent?e.pointerType==="mouse":e instanceof MouseEvent}function Ov(e){return!!e.touches}function hS(e){return t=>{const n=t instanceof MouseEvent;(!n||n&&t.button===0)&&e(t)}}const dS={pageX:0,pageY:0};function fS(e,t="page"){const r=e.touches[0]||e.changedTouches[0]||dS;return{x:r[t+"X"],y:r[t+"Y"]}}function pS(e,t="page"){return{x:e[t+"X"],y:e[t+"Y"]}}function Kh(e,t="page"){return{point:Ov(e)?fS(e,t):pS(e,t)}}const Rv=(e,t=!1)=>{const n=r=>e(r,Kh(r));return t?hS(n):n},mS=()=>_r&&window.onpointerdown===null,gS=()=>_r&&window.ontouchstart===null,yS=()=>_r&&window.onmousedown===null,vS={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},wS={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function Iv(e){return mS()?e:gS()?wS[e]:yS()?vS[e]:e}function ri(e,t,n,r){return za(e,Iv(t),Rv(n,t==="pointerdown"),r)}function ha(e,t,n,r){return ac(e,Iv(t),n&&Rv(n,t==="pointerdown"),r)}function jv(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Kf=jv("dragHorizontal"),Gf=jv("dragVertical");function Lv(e){let t=!1;if(e==="y")t=Gf();else if(e==="x")t=Kf();else{const n=Kf(),r=Gf();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function Dv(){const e=Lv(!0);return e?(e(),!1):!0}function Jf(e,t,n){return(r,i)=>{!Av(r)||Dv()||(e.animationState&&e.animationState.setActive(he.Hover,t),n&&n(r,i))}}function _S({onHoverStart:e,onHoverEnd:t,whileHover:n,visualElement:r}){ha(r,"pointerenter",e||n?Jf(r,!0,e):void 0,{passive:!e}),ha(r,"pointerleave",t||n?Jf(r,!1,t):void 0,{passive:!t})}const Nv=(e,t)=>t?e===t?!0:Nv(e,t.parentElement):!1;function Gh(e){return O.useEffect(()=>()=>e(),[])}const kS=(e,t)=>n=>t(e(n)),Ha=(...e)=>e.reduce(kS);function xS({onTap:e,onTapStart:t,onTapCancel:n,whileTap:r,visualElement:i}){const s=e||t||n||r,o=O.useRef(!1),a=O.useRef(null),l={passive:!(t||e||n||d)};function u(){a.current&&a.current(),a.current=null}function c(){return u(),o.current=!1,i.animationState&&i.animationState.setActive(he.Tap,!1),!Dv()}function h(g,v){c()&&(Nv(i.current,g.target)?e&&e(g,v):n&&n(g,v))}function f(g,v){c()&&n&&n(g,v)}function d(g,v){u(),!o.current&&(o.current=!0,a.current=Ha(ri(window,"pointerup",h,l),ri(window,"pointercancel",f,l)),i.animationState&&i.animationState.setActive(he.Tap,!0),t&&t(g,v))}ha(i,"pointerdown",s?d:void 0,l),Gh(u)}const Qf=new Set;function SS(e,t,n){Qf.has(t)||(console.warn(t),Qf.add(t))}const lc=new WeakMap,Nl=new WeakMap,ES=e=>{const t=lc.get(e.target);t&&t(e)},bS=e=>{e.forEach(ES)};function TS({root:e,...t}){const n=e||document;Nl.has(n)||Nl.set(n,{});const r=Nl.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(bS,{root:e,...t})),r[i]}function CS(e,t,n){const r=TS(t);return lc.set(e,n),r.observe(e),()=>{lc.delete(e),r.unobserve(e)}}function PS({visualElement:e,whileInView:t,onViewportEnter:n,onViewportLeave:r,viewport:i={}}){const s=O.useRef({hasEnteredView:!1,isInView:!1});let o=!!(t||n||r);i.once&&s.current.hasEnteredView&&(o=!1),(typeof IntersectionObserver>"u"?RS:OS)(o,s.current,e,i)}const AS={some:0,all:1};function OS(e,t,n,{root:r,margin:i,amount:s="some",once:o}){O.useEffect(()=>{if(!e||!n.current)return;const a={root:r==null?void 0:r.current,rootMargin:i,threshold:typeof s=="number"?s:AS[s]},l=u=>{const{isIntersecting:c}=u;if(t.isInView===c||(t.isInView=c,o&&!c&&t.hasEnteredView))return;c&&(t.hasEnteredView=!0),n.animationState&&n.animationState.setActive(he.InView,c);const h=n.getProps(),f=c?h.onViewportEnter:h.onViewportLeave;f&&f(u)};return CS(n.current,a,l)},[e,r,i,s])}function RS(e,t,n,{fallback:r=!0}){O.useEffect(()=>{!e||!r||requestAnimationFrame(()=>{t.hasEnteredView=!0;const{onViewportEnter:i}=n.getProps();i&&i(null),n.animationState&&n.animationState.setActive(he.InView,!0)})},[e])}const In=e=>t=>(e(t),null),IS={inView:In(PS),tap:In(xS),focus:In(cS),hover:In(_S)};function Mv(){const e=O.useContext(Bs);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=O.useId();return O.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}function Fv(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const jS=e=>/^\-?\d*\.?\d+$/.test(e),LS=e=>/^0[^.\s]+$/.test(e),cn={delta:0,timestamp:0},$v=1/60*1e3,DS=typeof performance<"u"?()=>performance.now():()=>Date.now(),Bv=typeof window<"u"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(DS()),$v);function NS(e){let t=[],n=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const h=c&&i,f=h?t:n;return u&&o.add(l),f.indexOf(l)===-1&&(f.push(l),h&&i&&(r=t.length)),l},cancel:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let u=0;u<r;u++){const c=t[u];c(l),o.has(c)&&(a.schedule(c),e())}i=!1,s&&(s=!1,a.process(l))}};return a}const MS=40;let uc=!0,Cs=!1,cc=!1;const zs=["read","update","preRender","render","postRender"],Wa=zs.reduce((e,t)=>(e[t]=NS(()=>Cs=!0),e),{}),it=zs.reduce((e,t)=>{const n=Wa[t];return e[t]=(r,i=!1,s=!1)=>(Cs||$S(),n.schedule(r,i,s)),e},{}),zn=zs.reduce((e,t)=>(e[t]=Wa[t].cancel,e),{}),Ml=zs.reduce((e,t)=>(e[t]=()=>Wa[t].process(cn),e),{}),FS=e=>Wa[e].process(cn),Uv=e=>{Cs=!1,cn.delta=uc?$v:Math.max(Math.min(e-cn.timestamp,MS),1),cn.timestamp=e,cc=!0,zs.forEach(FS),cc=!1,Cs&&(uc=!1,Bv(Uv))},$S=()=>{Cs=!0,uc=!0,cc||Bv(Uv)};function Jh(e,t){e.indexOf(t)===-1&&e.push(t)}function Qh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Yh{constructor(){this.subscriptions=[]}add(t){return Jh(this.subscriptions,t),()=>Qh(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Xh(e,t){return t?e*(1e3/t):0}const BS=e=>!isNaN(parseFloat(e));class US{constructor(t,n={}){this.version="7.10.3",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=cn;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,it.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>it.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=BS(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){return this.events[t]||(this.events[t]=new Yh),this.events[t].add(n)}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t){this.passiveEffect=t}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Xh(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.stopAnimation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.stopAnimation&&(this.stopAnimation(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.clearListeners(),this.stop()}}function mi(e,t){return new US(e,t)}const Zh=(e,t)=>n=>!!(Us(n)&&Fx.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Vv=(e,t,n)=>r=>{if(!Us(r))return r;const[i,s,o,a]=r.match(Ts);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},VS=e=>pi(0,255,e),Fl={...xr,transform:e=>Math.round(VS(e))},ur={test:Zh("rgb","red"),parse:Vv("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Fl.transform(e)+", "+Fl.transform(t)+", "+Fl.transform(n)+", "+Zi(Xi.transform(r))+")"};function zS(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const hc={test:Zh("#"),parse:zS,transform:ur.transform},Gr={test:Zh("hsl","hue"),parse:Vv("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Qt.transform(Zi(t))+", "+Qt.transform(Zi(n))+", "+Zi(Xi.transform(r))+")"},Ke={test:e=>ur.test(e)||hc.test(e)||Gr.test(e),parse:e=>ur.test(e)?ur.parse(e):Gr.test(e)?Gr.parse(e):hc.parse(e),transform:e=>Us(e)?e:e.hasOwnProperty("red")?ur.transform(e):Gr.transform(e)},zv="${c}",Hv="${n}";function HS(e){var t,n;return isNaN(e)&&Us(e)&&(((t=e.match(Ts))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(oc))===null||n===void 0?void 0:n.length)||0)>0}function da(e){typeof e=="number"&&(e=`${e}`);const t=[];let n=0,r=0;const i=e.match(oc);i&&(n=i.length,e=e.replace(oc,zv),t.push(...i.map(Ke.parse)));const s=e.match(Ts);return s&&(r=s.length,e=e.replace(Ts,Hv),t.push(...s.map(xr.parse))),{values:t,numColors:n,numNumbers:r,tokenised:e}}function Wv(e){return da(e).values}function qv(e){const{values:t,numColors:n,tokenised:r}=da(e),i=t.length;return s=>{let o=r;for(let a=0;a<i;a++)o=o.replace(a<n?zv:Hv,a<n?Ke.transform(s[a]):Zi(s[a]));return o}}const WS=e=>typeof e=="number"?0:e;function qS(e){const t=Wv(e);return qv(e)(t.map(WS))}const Hn={test:HS,parse:Wv,createTransformer:qv,getAnimatableNone:qS},KS=new Set(["brightness","contrast","saturate","opacity"]);function GS(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Ts)||[];if(!r)return e;const i=n.replace(r,"");let s=KS.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const JS=/([a-z-]*)\(.*?\)/g,dc={...Hn,getAnimatableNone:e=>{const t=e.match(JS);return t?t.map(GS).join(" "):e}},QS={..._v,color:Ke,backgroundColor:Ke,outlineColor:Ke,fill:Ke,stroke:Ke,borderColor:Ke,borderTopColor:Ke,borderRightColor:Ke,borderBottomColor:Ke,borderLeftColor:Ke,filter:dc,WebkitFilter:dc},ed=e=>QS[e];function td(e,t){var n;let r=ed(e);return r!==dc&&(r=Hn),(n=r.getAnimatableNone)===null||n===void 0?void 0:n.call(r,t)}const Kv=e=>t=>t.test(e),YS={test:e=>e==="auto",parse:e=>e},Gv=[xr,H,Qt,xn,Bx,$x,YS],Ii=e=>Gv.find(Kv(e)),XS=[...Gv,Ke,Hn],ZS=e=>XS.find(Kv(e));function e1(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function t1(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function qa(e,t,n){const r=e.getProps();return qh(r,t,n!==void 0?n:r.custom,e1(e),t1(e))}function n1(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,mi(n))}function r1(e,t){const n=qa(e,t);let{transitionEnd:r={},transition:i={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=iS(s[o]);n1(e,o,a)}}function i1(e,t,n){var r,i;const s=Object.keys(t).filter(a=>!e.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=t[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),c!=null&&(typeof c=="string"&&(jS(c)||LS(c))?c=parseFloat(c):!ZS(c)&&Hn.test(u)&&(c=td(l,u)),e.addValue(l,mi(c,{owner:e})),n[l]===void 0&&(n[l]=c),c!==null&&e.setBaseTarget(l,c))}}function s1(e,t){return t?(t[e]||t.default||t).from:void 0}function o1(e,t,n){var r;const i={};for(const s in e){const o=s1(s,t);i[s]=o!==void 0?o:(r=n.getValue(s))===null||r===void 0?void 0:r.get()}return i}function fa(e){return!!(Yt(e)&&e.add)}const a1=(e,t)=>`${e}: ${t}`;function l1(e,t){const{MotionAppearAnimations:n}=window,r=a1(e,kr.has(t)?"transform":t),i=n&&n.get(r);return i?(it.render(()=>{try{i.cancel(),n.delete(r)}catch{}}),i.currentTime||0):0}const u1="framerAppearId",c1="data-"+Hh(u1);var pa=function(){};const Lo=e=>e*1e3,h1={current:!1},nd=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,rd=e=>t=>1-e(1-t),id=e=>e*e,d1=rd(id),sd=nd(id),Ee=(e,t,n)=>-n*e+n*t+e;function $l(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function f1({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=$l(l,a,e+1/3),s=$l(l,a,e),o=$l(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Bl=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},p1=[hc,ur,Gr],m1=e=>p1.find(t=>t.test(e));function Yf(e){const t=m1(e);let n=t.parse(e);return t===Gr&&(n=f1(n)),n}const Jv=(e,t)=>{const n=Yf(e),r=Yf(t),i={...n};return s=>(i.red=Bl(n.red,r.red,s),i.green=Bl(n.green,r.green,s),i.blue=Bl(n.blue,r.blue,s),i.alpha=Ee(n.alpha,r.alpha,s),ur.transform(i))};function Qv(e,t){return typeof e=="number"?n=>Ee(e,t,n):Ke.test(e)?Jv(e,t):Xv(e,t)}const Yv=(e,t)=>{const n=[...e],r=n.length,i=e.map((s,o)=>Qv(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},g1=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Qv(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},Xv=(e,t)=>{const n=Hn.createTransformer(t),r=da(e),i=da(t);return r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Ha(Yv(r.values,i.values),n):o=>`${o>0?t:e}`},ma=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Xf=(e,t)=>n=>Ee(e,t,n);function y1(e){return typeof e=="number"?Xf:typeof e=="string"?Ke.test(e)?Jv:Xv:Array.isArray(e)?Yv:typeof e=="object"?g1:Xf}function v1(e,t,n){const r=[],i=n||y1(e[0]),s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]:t;a=Ha(l,a)}r.push(a)}return r}function Zv(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;pa(s===t.length),pa(!r||!Array.isArray(r)||r.length===s-1),e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=v1(t,r,i),a=o.length,l=u=>{let c=0;if(a>1)for(;c<e.length-2&&!(u<e[c+1]);c++);const h=ma(e[c],e[c+1],u);return o[c](h)};return n?u=>l(pi(e[0],e[s-1],u)):l}const od=e=>e,e0=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,w1=1e-7,_1=12;function k1(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=e0(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>w1&&++a<_1);return o}function t0(e,t,n,r){if(e===t&&n===r)return od;const i=s=>k1(s,0,1,e,n);return s=>s===0||s===1?s:e0(i(s),t,r)}const n0=e=>1-Math.sin(Math.acos(e)),ad=rd(n0),x1=nd(ad),r0=t0(.33,1.53,.69,.99),ld=rd(r0),S1=nd(ld),E1=e=>(e*=2)<1?.5*ld(e):.5*(2-Math.pow(2,-10*(e-1))),b1={linear:od,easeIn:id,easeInOut:sd,easeOut:d1,circIn:n0,circInOut:x1,circOut:ad,backIn:ld,backInOut:S1,backOut:r0,anticipate:E1},Zf=e=>{if(Array.isArray(e)){pa(e.length===4);const[t,n,r,i]=e;return t0(t,n,r,i)}else if(typeof e=="string")return b1[e];return e},T1=e=>Array.isArray(e)&&typeof e[0]!="number";function C1(e,t){return e.map(()=>t||sd).splice(0,e.length-1)}function P1(e){const t=e.length;return e.map((n,r)=>r!==0?r/(t-1):0)}function A1(e,t){return e.map(n=>n*t)}function ga({keyframes:e,ease:t=sd,times:n,duration:r=300}){e=[...e];const i=ga[0],s=T1(t)?t.map(Zf):Zf(t),o={done:!1,value:i},a=A1(n&&n.length===ga.length?n:P1(e),r);function l(){return Zv(a,e,{ease:Array.isArray(s)?s:C1(e,s)})}let u=l();return{next:c=>(o.value=u(c),o.done=c>=r,o),flipTarget:()=>{e.reverse(),u=l()}}}const Ul=.001,O1=.01,R1=10,I1=.05,j1=1;function L1({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,s,o=1-t;o=pi(I1,j1,o),e=pi(O1,R1,e/1e3),o<1?(i=u=>{const c=u*o,h=c*e,f=c-n,d=fc(u,o),g=Math.exp(-h);return Ul-f/d*g},s=u=>{const h=u*o*e,f=h*n+n,d=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-h),v=fc(Math.pow(u,2),o);return(-i(u)+Ul>0?-1:1)*((f-d)*g)/v}):(i=u=>{const c=Math.exp(-u*e),h=(u-n)*e+1;return-Ul+c*h},s=u=>{const c=Math.exp(-u*e),h=(n-u)*(e*e);return c*h});const a=5/e,l=N1(i,s,a);if(e=e*1e3,isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const D1=12;function N1(e,t,n){let r=n;for(let i=1;i<D1;i++)r=r-e(r)/t(r);return r}function fc(e,t){return e*Math.sqrt(1-t*t)}const M1=["duration","bounce"],F1=["stiffness","damping","mass"];function ep(e,t){return t.some(n=>e[n]!==void 0)}function $1(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!ep(e,F1)&&ep(e,M1)){const n=L1(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}const B1=5;function i0({keyframes:e,restSpeed:t=2,restDelta:n=.01,...r}){let i=e[0],s=e[e.length-1];const o={done:!1,value:i},{stiffness:a,damping:l,mass:u,velocity:c,duration:h,isResolvedFromDuration:f}=$1(r);let d=U1,g=c?-(c/1e3):0;const v=l/(2*Math.sqrt(a*u));function x(){const p=s-i,y=Math.sqrt(a/u)/1e3;if(n===void 0&&(n=Math.min(Math.abs(s-i)/100,.4)),v<1){const m=fc(y,v);d=k=>{const b=Math.exp(-v*y*k);return s-b*((g+v*y*p)/m*Math.sin(m*k)+p*Math.cos(m*k))}}else if(v===1)d=m=>s-Math.exp(-y*m)*(p+(g+y*p)*m);else{const m=y*Math.sqrt(v*v-1);d=k=>{const b=Math.exp(-v*y*k),w=Math.min(m*k,300);return s-b*((g+v*y*p)*Math.sinh(w)+m*p*Math.cosh(w))/m}}}return x(),{next:p=>{const y=d(p);if(f)o.done=p>=h;else{let m=g;if(p!==0)if(v<1){const w=Math.max(0,p-B1);m=Xh(y-d(w),p-w)}else m=0;const k=Math.abs(m)<=t,b=Math.abs(s-y)<=n;o.done=k&&b}return o.value=o.done?s:y,o},flipTarget:()=>{g=-g,[i,s]=[s,i],x()}}}i0.needsInterpolation=(e,t)=>typeof e=="string"||typeof t=="string";const U1=e=>0;function V1({keyframes:e=[0],velocity:t=0,power:n=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:s}){const o=e[0],a={done:!1,value:o};let l=n*t;const u=o+l,c=s===void 0?u:s(u);return c!==u&&(l=c-o),{next:h=>{const f=-l*Math.exp(-h/r);return a.done=!(f>i||f<-i),a.value=a.done?c:c+f,a},flipTarget:()=>{}}}const z1={decay:V1,keyframes:ga,tween:ga,spring:i0};function s0(e,t,n=0){return e-t-n}function H1(e,t=0,n=0,r=!0){return r?s0(t+-e,t,n):t-(e-t)+n}function W1(e,t,n,r){return r?e>=t+n:e<=-n}const q1=e=>{const t=({delta:n})=>e(n);return{start:()=>it.update(t,!0),stop:()=>zn.update(t)}};function ya({duration:e,driver:t=q1,elapsed:n=0,repeat:r=0,repeatType:i="loop",repeatDelay:s=0,keyframes:o,autoplay:a=!0,onPlay:l,onStop:u,onComplete:c,onRepeat:h,onUpdate:f,type:d="keyframes",...g}){var v,x;let p,y=0,m=e,k,b=!1,w=!0,E;const T=z1[o.length>2?"keyframes":d],A=o[0],N=o[o.length-1];!((x=(v=T).needsInterpolation)===null||x===void 0)&&x.call(v,A,N)&&(E=Zv([0,100],[A,N],{clamp:!1}),o=[0,100]);const j=T({...g,duration:e,keyframes:o});function M(){y++,i==="reverse"?(w=y%2===0,n=H1(n,m,s,w)):(n=s0(n,m,s),i==="mirror"&&j.flipTarget()),b=!1,h&&h()}function Y(){p.stop(),c&&c()}function te(W){if(w||(W=-W),n+=W,!b){const ne=j.next(Math.max(0,n));k=ne.value,E&&(k=E(k)),b=w?ne.done:n<=0}f&&f(k),b&&(y===0&&(m=m!==void 0?m:n),y<r?W1(n,m,s,w)&&M():Y())}function U(){l&&l(),p=t(te),p.start()}return a&&U(),{stop:()=>{u&&u(),p.stop()},sample:W=>j.next(Math.max(0,W))}}function K1(e){return!e||Array.isArray(e)||typeof e=="string"&&o0[e]}const $i=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,o0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$i([0,.65,.55,1]),circOut:$i([.55,0,1,.45]),backIn:$i([.31,.01,.66,-.59]),backOut:$i([.33,1.53,.69,.99])};function G1(e){if(e)return Array.isArray(e)?$i(e):o0[e]}function J1(e,t,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){return e.animate({[t]:n,offset:l},{delay:r,duration:i,easing:G1(a),fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const ho=10;function Q1(e,t,{onUpdate:n,onComplete:r,...i}){let{keyframes:s,duration:o=.3,elapsed:a=0,ease:l}=i;if(i.type==="spring"||!K1(i.ease)){const c=ya(i);let h={done:!1,value:s[0]};const f=[];let d=0;for(;!h.done;)h=c.sample(d),f.push(h.value),d+=ho;s=f,o=d-ho,l="linear"}const u=J1(e.owner.current,t,s,{...i,delay:-a,duration:o,ease:l});return u.onfinish=()=>{e.set(s[s.length-1]),r&&r()},()=>{const{currentTime:c}=u;if(c){const h=ya(i);e.setWithVelocity(h.sample(c-ho).value,h.sample(c).value,ho)}it.update(()=>u.cancel())}}function a0(e,t){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(zn.read(r),e(s-t))};return it.read(r,!0),()=>zn.read(r)}function Y1({keyframes:e,elapsed:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),()=>{});return t?a0(i,-t):i()}function X1({keyframes:e,velocity:t=0,min:n,max:r,power:i=.8,timeConstant:s=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:u,driver:c,onUpdate:h,onComplete:f,onStop:d}){const g=e[0];let v;function x(k){return n!==void 0&&k<n||r!==void 0&&k>r}function p(k){return n===void 0?r:r===void 0||Math.abs(n-k)<Math.abs(r-k)?n:r}function y(k){v==null||v.stop(),v=ya({keyframes:[0,1],velocity:0,...k,driver:c,onUpdate:b=>{var w;h==null||h(b),(w=k.onUpdate)===null||w===void 0||w.call(k,b)},onComplete:f,onStop:d})}function m(k){y({type:"spring",stiffness:o,damping:a,restDelta:l,...k})}if(x(g))m({velocity:t,keyframes:[g,p(g)]});else{let k=i*t+g;typeof u<"u"&&(k=u(k));const b=p(k),w=b===n?-1:1;let E,T;const A=N=>{E=T,T=N,t=Xh(N-E,cn.delta),(w===1&&N>b||w===-1&&N<b)&&m({keyframes:[N,b],velocity:t})};y({type:"decay",keyframes:[g,0],velocity:t,timeConstant:s,power:i,restDelta:l,modifyTarget:u,onUpdate:x(k)?A:void 0})}return{stop:()=>v==null?void 0:v.stop()}}const Jn=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),fo=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Vl=()=>({type:"keyframes",ease:"linear",duration:.3}),Z1={type:"keyframes",duration:.8},tp={x:Jn,y:Jn,z:Jn,rotate:Jn,rotateX:Jn,rotateY:Jn,rotateZ:Jn,scaleX:fo,scaleY:fo,scale:fo,opacity:Vl,backgroundColor:Vl,color:Vl,default:fo},eE=(e,{keyframes:t})=>t.length>2?Z1:(tp[e]||tp.default)(t[1]),pc=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&Hn.test(t)&&!t.startsWith("url("));function tE({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,...u}){return!!Object.keys(u).length}function np(e){return e===0||typeof e=="string"&&parseFloat(e)===0&&e.indexOf(" ")===-1}function rp(e){return typeof e=="number"?0:td("",e)}function l0(e,t){return e[t]||e.default||e}function nE(e,t,n,r){const i=pc(t,n);let s=r.from!==void 0?r.from:e.get();return s==="none"&&i&&typeof n=="string"?s=td(t,n):np(s)&&typeof n=="string"?s=rp(n):!Array.isArray(n)&&np(n)&&typeof s=="string"&&(n=rp(s)),Array.isArray(n)?(n[0]===null&&(n[0]=s),n):[s,n]}const ip={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},zl={},u0={};for(const e in ip)u0[e]=()=>(zl[e]===void 0&&(zl[e]=ip[e]()),zl[e]);const rE=new Set(["opacity"]),ud=(e,t,n,r={})=>i=>{const s=l0(r,e)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Lo(o);const l=nE(t,e,n,s),u=l[0],c=l[l.length-1],h=pc(e,u),f=pc(e,c);let d={keyframes:l,velocity:t.getVelocity(),...s,elapsed:a,onUpdate:p=>{t.set(p),s.onUpdate&&s.onUpdate(p)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(!h||!f||h1.current||s.type===!1)return Y1(d);if(s.type==="inertia"){const p=X1(d);return()=>p.stop()}tE(s)||(d={...d,...eE(e,d)}),d.duration&&(d.duration=Lo(d.duration)),d.repeatDelay&&(d.repeatDelay=Lo(d.repeatDelay));const g=t.owner,v=g&&g.current;if(u0.waapi()&&rE.has(e)&&!d.repeatDelay&&d.repeatType!=="mirror"&&d.damping!==0&&g&&v instanceof HTMLElement&&!g.getProps().onUpdate)return Q1(t,e,d);{const p=ya(d);return()=>p.stop()}};function iE(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>mc(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=mc(e,t,n);else{const i=typeof t=="function"?qa(e,t,n.custom):t;r=c0(e,i,n)}return r.then(()=>e.notify("AnimationComplete",t))}function mc(e,t,n={}){var r;const i=qa(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>c0(e,i,n):()=>Promise.resolve(),a=!((r=e.variantChildren)===null||r===void 0)&&r.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:f}=s;return sE(e,t,c+u,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,c]=l==="beforeChildren"?[o,a]:[a,o];return u().then(c)}else return Promise.all([o(),a(n.delay)])}function c0(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=e.makeTargetAnimatable(t);const u=e.getValue("willChange");r&&(o=r);const c=[],h=i&&((s=e.animationState)===null||s===void 0?void 0:s.getState()[i]);for(const f in l){const d=e.getValue(f),g=l[f];if(!d||g===void 0||h&&aE(h,f))continue;let v={delay:n,elapsed:0,...o};if(e.shouldReduceMotion&&kr.has(f)&&(v={...v,type:!1,delay:0}),!d.hasAnimated){const p=e.getProps()[c1];p&&(v.elapsed=l1(p,f))}let x=d.start(ud(f,d,g,v));fa(u)&&(u.add(f),x=x.then(()=>u.remove(f))),c.push(x)}return Promise.all(c).then(()=>{a&&r1(e,a)})}function sE(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(oE).forEach((u,c)=>{o.push(mc(u,t,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function oE(e,t){return e.sortNodePosition(t)}function aE({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}const cd=[he.Animate,he.InView,he.Focus,he.Hover,he.Tap,he.Drag,he.Exit],lE=[...cd].reverse(),uE=cd.length;function cE(e){return t=>Promise.all(t.map(({animation:n,options:r})=>iE(e,n,r)))}function hE(e){let t=cE(e);const n=fE();let r=!0;const i=(l,u)=>{const c=qa(e,u);if(c){const{transition:h,transitionEnd:f,...d}=c;l={...l,...d,...f}}return l};function s(l){t=l(e)}function o(l,u){const c=e.getProps(),h=e.getVariantContext(!0)||{},f=[],d=new Set;let g={},v=1/0;for(let p=0;p<uE;p++){const y=lE[p],m=n[y],k=c[y]!==void 0?c[y]:h[y],b=Es(k),w=y===u?m.isActive:null;w===!1&&(v=p);let E=k===h[y]&&k!==c[y]&&b;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),m.protectedKeys={...g},!m.isActive&&w===null||!k&&!m.prevProp||Ba(k)||typeof k=="boolean")continue;const T=dE(m.prevProp,k);let A=T||y===u&&m.isActive&&!E&&b||p>v&&b;const N=Array.isArray(k)?k:[k];let j=N.reduce(i,{});w===!1&&(j={});const{prevResolvedValues:M={}}=m,Y={...M,...j},te=U=>{A=!0,d.delete(U),m.needsAnimating[U]=!0};for(const U in Y){const W=j[U],ne=M[U];g.hasOwnProperty(U)||(W!==ne?ca(W)&&ca(ne)?!Fv(W,ne)||T?te(U):m.protectedKeys[U]=!0:W!==void 0?te(U):d.add(U):W!==void 0&&d.has(U)?te(U):m.protectedKeys[U]=!0)}m.prevProp=k,m.prevResolvedValues=j,m.isActive&&(g={...g,...j}),r&&e.blockInitialAnimation&&(A=!1),A&&!E&&f.push(...N.map(U=>({animation:U,options:{type:y,...l}})))}if(d.size){const p={};d.forEach(y=>{const m=e.getBaseTarget(y);m!==void 0&&(p[y]=m)}),f.push({animation:p})}let x=!!f.length;return r&&c.initial===!1&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(f):Promise.resolve()}function a(l,u,c){var h;if(n[l].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(d=>{var g;return(g=d.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),n[l].isActive=u;const f=o(c,l);for(const d in n)n[d].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function dE(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Fv(t,e):!1}function Qn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fE(){return{[he.Animate]:Qn(!0),[he.InView]:Qn(),[he.Hover]:Qn(),[he.Tap]:Qn(),[he.Drag]:Qn(),[he.Focus]:Qn(),[he.Exit]:Qn()}}const pE={animation:In(({visualElement:e,animate:t})=>{e.animationState||(e.animationState=hE(e)),Ba(t)&&O.useEffect(()=>t.subscribe(e),[t])}),exit:In(e=>{const{custom:t,visualElement:n}=e,[r,i]=Mv(),s=O.useContext(Bs);O.useEffect(()=>{n.isPresent=r;const o=n.animationState&&n.animationState.setActive(he.Exit,!r,{custom:s&&s.custom||t});o&&!r&&o.then(i)},[r])})},sp=(e,t)=>Math.abs(e-t);function mE(e,t){const n=sp(e.x,t.x),r=sp(e.y,t.y);return Math.sqrt(n**2+r**2)}class h0{constructor(t,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=Wl(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,h=mE(u.offset,{x:0,y:0})>=3;if(!c&&!h)return;const{point:f}=u,{timestamp:d}=cn;this.history.push({...f,timestamp:d});const{onStart:g,onMove:v}=this.handlers;c||(g&&g(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,u)},this.handlePointerMove=(u,c)=>{if(this.lastMoveEvent=u,this.lastMoveEventInfo=Hl(c,this.transformPagePoint),Av(u)&&u.buttons===0){this.handlePointerUp(u,c);return}it.update(this.updatePoint,!0)},this.handlePointerUp=(u,c)=>{this.end();const{onEnd:h,onSessionEnd:f}=this.handlers,d=Wl(Hl(c,this.transformPagePoint),this.history);this.startEvent&&h&&h(u,d),f&&f(u,d)},Ov(t)&&t.touches.length>1)return;this.handlers=n,this.transformPagePoint=r;const i=Kh(t),s=Hl(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=cn;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(t,Wl(s,this.history)),this.removeListeners=Ha(ri(window,"pointermove",this.handlePointerMove),ri(window,"pointerup",this.handlePointerUp),ri(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),zn.update(this.updatePoint)}}function Hl(e,t){return t?{point:t(e.point)}:e}function op(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Wl({point:e},t){return{point:e,delta:op(e,d0(t)),offset:op(e,gE(t)),velocity:yE(t,.1)}}function gE(e){return e[0]}function d0(e){return e[e.length-1]}function yE(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=d0(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Lo(t)));)n--;if(!r)return{x:0,y:0};const s=(i.timestamp-r.timestamp)/1e3;if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function mt(e){return e.max-e.min}function gc(e,t=0,n=.01){return Math.abs(e-t)<=n}function ap(e,t,n,r=.5){e.origin=r,e.originPoint=Ee(t.min,t.max,e.origin),e.scale=mt(n)/mt(t),(gc(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Ee(n.min,n.max,e.origin)-e.originPoint,(gc(e.translate)||isNaN(e.translate))&&(e.translate=0)}function es(e,t,n,r){ap(e.x,t.x,n.x,r==null?void 0:r.originX),ap(e.y,t.y,n.y,r==null?void 0:r.originY)}function lp(e,t,n){e.min=n.min+t.min,e.max=e.min+mt(t)}function vE(e,t,n){lp(e.x,t.x,n.x),lp(e.y,t.y,n.y)}function up(e,t,n){e.min=t.min-n.min,e.max=e.min+mt(t)}function ts(e,t,n){up(e.x,t.x,n.x),up(e.y,t.y,n.y)}function wE(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ee(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ee(n,e,r.max):Math.min(e,n)),e}function cp(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function _E(e,{top:t,left:n,bottom:r,right:i}){return{x:cp(e.x,n,i),y:cp(e.y,t,r)}}function hp(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function kE(e,t){return{x:hp(e.x,t.x),y:hp(e.y,t.y)}}function xE(e,t){let n=.5;const r=mt(e),i=mt(t);return i>r?n=ma(t.min,t.max-r,e.min):r>i&&(n=ma(e.min,e.max-i,t.min)),pi(0,1,n)}function SE(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const yc=.35;function EE(e=yc){return e===!1?e=0:e===!0&&(e=yc),{x:dp(e,"left","right"),y:dp(e,"top","bottom")}}function dp(e,t,n){return{min:fp(e,t),max:fp(e,n)}}function fp(e,t){return typeof e=="number"?e:e[t]||0}const pp=()=>({translate:0,scale:1,origin:0,originPoint:0}),ns=()=>({x:pp(),y:pp()}),mp=()=>({min:0,max:0}),Re=()=>({x:mp(),y:mp()});function Ht(e){return[e("x"),e("y")]}function f0({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function bE({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function TE(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ql(e){return e===void 0||e===1}function vc({scale:e,scaleX:t,scaleY:n}){return!ql(e)||!ql(t)||!ql(n)}function tr(e){return vc(e)||p0(e)||e.z||e.rotate||e.rotateX||e.rotateY}function p0(e){return gp(e.x)||gp(e.y)}function gp(e){return e&&e!=="0%"}function va(e,t,n){const r=e-n,i=t*r;return n+i}function yp(e,t,n,r,i){return i!==void 0&&(e=va(e,i,r)),va(e,n,r)+t}function wc(e,t=0,n=1,r,i){e.min=yp(e.min,t,n,r,i),e.max=yp(e.max,t,n,r,i)}function m0(e,{x:t,y:n}){wc(e.x,t.translate,t.scale,t.originPoint),wc(e.y,n.translate,n.scale,n.originPoint)}function CE(e,t,n,r=!1){var i,s;const o=n.length;if(!o)return;t.x=t.y=1;let a,l;for(let u=0;u<o;u++)a=n[u],l=a.projectionDelta,((s=(i=a.instance)===null||i===void 0?void 0:i.style)===null||s===void 0?void 0:s.display)!=="contents"&&(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Jr(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,m0(e,l)),r&&tr(a.latestValues)&&Jr(e,a.latestValues));t.x=vp(t.x),t.y=vp(t.y)}function vp(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function bn(e,t){e.min=e.min+t,e.max=e.max+t}function wp(e,t,[n,r,i]){const s=t[i]!==void 0?t[i]:.5,o=Ee(e.min,e.max,s);wc(e,t[n],t[r],o,t.scale)}const PE=["x","scaleX","originX"],AE=["y","scaleY","originY"];function Jr(e,t){wp(e.x,t,PE),wp(e.y,t,AE)}function g0(e,t){return f0(TE(e.getBoundingClientRect(),t))}function OE(e,t,n){const r=g0(e,n),{scroll:i}=t;return i&&(bn(r.x,i.offset.x),bn(r.y,i.offset.y)),r}const RE=new WeakMap;class IE{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Re(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){if(this.visualElement.isPresent===!1)return;const r=a=>{this.stopAnimation(),n&&this.snapToCursor(Kh(a,"page").point)},i=(a,l)=>{var u;const{drag:c,dragPropagation:h,onDragStart:f}=this.getProps();c&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Lv(c),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ht(d=>{var g,v;let x=this.getAxisMotionValue(d).get()||0;if(Qt.test(x)){const p=(v=(g=this.visualElement.projection)===null||g===void 0?void 0:g.layout)===null||v===void 0?void 0:v.layoutBox[d];p&&(x=mt(p)*(parseFloat(x)/100))}this.originPoint[d]=x}),f==null||f(a,l),(u=this.visualElement.animationState)===null||u===void 0||u.setActive(he.Drag,!0))},s=(a,l)=>{const{dragPropagation:u,dragDirectionLock:c,onDirectionLock:h,onDrag:f}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:d}=l;if(c&&this.currentDirection===null){this.currentDirection=jE(d),this.currentDirection!==null&&(h==null||h(this.currentDirection));return}this.updateAxis("x",l.point,d),this.updateAxis("y",l.point,d),this.visualElement.render(),f==null||f(a,l)},o=(a,l)=>this.stop(a,l);this.panSession=new h0(t,{onSessionStart:r,onStart:i,onMove:s,onSessionEnd:o},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s==null||s(t,n)}cancel(){var t,n;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(t=this.panSession)===null||t===void 0||t.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(n=this.visualElement.animationState)===null||n===void 0||n.setActive(he.Drag,!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!po(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=wE(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;t&&Kr(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=_E(r.layoutBox,t):this.constraints=!1,this.elastic=EE(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ht(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=SE(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Kr(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=OE(r,i.root,this.visualElement.getTransformPagePoint());let o=kE(i.layout.layoutBox,s);if(n){const a=n(bE(o));this.hasMutatedConstraints=!!a,a&&(o=f0(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Ht(c=>{if(!po(c,n,this.currentDirection))return;let h=(l==null?void 0:l[c])||{};o&&(h={min:0,max:0});const f=i?200:1e6,d=i?40:1e7,g={type:"inertia",velocity:r?t[c]:0,bounceStiffness:f,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(ud(t,r,0,n))}stopAnimation(){Ht(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){var n;const r="_drag"+t.toUpperCase(),i=this.visualElement.getProps()[r];return i||this.visualElement.getValue(t,((n=this.visualElement.getProps().initial)===null||n===void 0?void 0:n[t])||0)}snapToCursor(t){Ht(n=>{const{drag:r}=this.getProps();if(!po(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-Ee(o,a,.5))}})}scalePositionWithinConstraints(){var t;if(!this.visualElement.current)return;const{drag:n,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!Kr(r)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ht(a=>{const l=this.getAxisMotionValue(a);if(l){const u=l.get();s[a]=xE({min:u,max:u},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",(t=i.root)===null||t===void 0||t.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ht(a=>{if(!po(a,n,null))return;const l=this.getAxisMotionValue(a),{min:u,max:c}=this.constraints[a];l.set(Ee(u,c,s[a]))})}addListeners(){var t;if(!this.visualElement.current)return;RE.set(this.visualElement,this);const n=this.visualElement.current,r=ri(n,"pointerdown",u=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();Kr(u)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&((t=s.root)===null||t===void 0||t.updateScroll(),s.updateLayout()),i();const a=za(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ht(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=u[h].translate,f.set(f.get()+u[h].translate))}),this.visualElement.render())});return()=>{a(),r(),o(),l==null||l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=yc,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function po(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function jE(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}function LE(e){const{dragControls:t,visualElement:n}=e,r=Va(()=>new IE(n));O.useEffect(()=>t&&t.subscribe(r),[r,t]),O.useEffect(()=>r.addListeners(),[r])}function DE({onPan:e,onPanStart:t,onPanEnd:n,onPanSessionStart:r,visualElement:i}){const s=e||t||n||r,o=O.useRef(null),{transformPagePoint:a}=O.useContext(Mh),l={onSessionStart:r,onStart:t,onMove:e,onEnd:(c,h)=>{o.current=null,n&&n(c,h)}};O.useEffect(()=>{o.current!==null&&o.current.updateHandlers(l)});function u(c){o.current=new h0(c,l,{transformPagePoint:a})}ha(i,"pointerdown",s&&u),Gh(()=>o.current&&o.current.end())}const NE={pan:In(DE),drag:In(LE)};function _c(e){return typeof e=="string"&&e.startsWith("var(--")}const y0=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function ME(e){const t=y0.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function kc(e,t,n=1){const[r,i]=ME(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);return s?s.trim():_c(i)?kc(i,t,n+1):i}function FE(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const s=i.get();if(!_c(s))return;const o=kc(s,r);o&&i.set(o)});for(const i in t){const s=t[i];if(!_c(s))continue;const o=kc(s,r);o&&(t[i]=o,n&&n[i]===void 0&&(n[i]=s))}return{target:t,transitionEnd:n}}const $E=new Set(["width","height","top","left","right","bottom","x","y"]),v0=e=>$E.has(e),BE=e=>Object.keys(e).some(v0),w0=(e,t)=>{e.set(t,!1),e.set(t)},_p=e=>e===xr||e===H;var kp;(function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"})(kp||(kp={}));const xp=(e,t)=>parseFloat(e.split(", ")[t]),Sp=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return xp(i[1],t);{const s=r.match(/^matrix\((.+)\)$/);return s?xp(s[1],e):0}},UE=new Set(["x","y","z"]),VE=la.filter(e=>!UE.has(e));function zE(e){const t=[];return VE.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Ep={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Sp(4,13),y:Sp(5,14)},HE=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=Ep[u](r,s)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const c=t.getValue(u);w0(c,a[u]),e[u]=Ep[u](l,s)}),e},WE=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(v0);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let c=n[l],h=Ii(c);const f=t[l];let d;if(ca(f)){const g=f.length,v=f[0]===null?1:0;c=f[v],h=Ii(c);for(let x=v;x<g;x++)d?pa(Ii(f[x])===d):d=Ii(f[x])}else d=Ii(f);if(h!==d)if(_p(h)&&_p(d)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof f=="string"?t[l]=parseFloat(f):Array.isArray(f)&&d===H&&(t[l]=f.map(parseFloat))}else h!=null&&h.transform&&(d!=null&&d.transform)&&(c===0||f===0)?c===0?u.set(d.transform(c)):t[l]=h.transform(f):(o||(s=zE(e),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:t[l],w0(u,f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=HE(t,e,a);return s.length&&s.forEach(([c,h])=>{e.getValue(c).set(h)}),e.render(),_r&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function qE(e,t,n,r){return BE(t)?WE(e,t,n,r):{target:t,transitionEnd:r}}const KE=(e,t,n,r)=>{const i=FE(e,t,r);return t=i.target,r=i.transitionEnd,qE(e,t,n,r)},xc={current:null},_0={current:!1};function GE(){if(_0.current=!0,!!_r)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>xc.current=e.matches;e.addListener(t),t()}else xc.current=!1}function JE(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],o=n[i];if(Yt(s))e.addValue(i,s),fa(r)&&r.add(i);else if(Yt(o))e.addValue(i,mi(s,{owner:e})),fa(r)&&r.remove(i);else if(o!==s)if(e.hasValue(i)){const a=e.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=e.getStaticValue(i);e.addValue(i,mi(a!==void 0?a:s))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const k0=Object.keys(bs),QE=k0.length,bp=["AnimationStart","AnimationComplete","Update","Unmount","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class YE{constructor({parent:t,props:n,reducedMotionConfig:r,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>it.render(this.render,!1,!0);const{latestValues:o,renderState:a}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=a,this.parent=t,this.props=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=s,this.isControllingVariants=Ua(n),this.isVariantNode=gv(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:l,...u}=this.scrapeMotionValuesFromProps(n);for(const c in u){const h=u[c];o[c]!==void 0&&Yt(h)&&(h.set(o[c],!1),fa(l)&&l.add(c))}}scrapeMotionValuesFromProps(t){return{}}mount(t){var n;this.current=t,this.projection&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=(n=this.parent)===null||n===void 0?void 0:n.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),_0.current||GE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xc.current,this.parent&&this.parent.children.add(this),this.setProps(this.props)}unmount(){var t,n,r;(t=this.projection)===null||t===void 0||t.unmount(),zn.update(this.notifyUpdate),zn.render(this.render),this.valueSubscriptions.forEach(i=>i()),(n=this.removeFromVariantTree)===null||n===void 0||n.call(this),(r=this.parent)===null||r===void 0||r.children.delete(this);for(const i in this.events)this.events[i].clear();this.current=null}bindToMotionValue(t,n){const r=kr.has(t),i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&it.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),s()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures(t,n,r,i,s,o){const a=[];for(let l=0;l<QE;l++){const u=k0[l],{isEnabled:c,Component:h}=bs[u];c(t)&&h&&a.push(O.createElement(h,{key:u,...t,visualElement:this}))}if(!this.projection&&s){this.projection=new s(i,this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:h,layoutScroll:f}=t;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||h&&Kr(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:f})}return a}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Re()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}setProps(t){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.props=t;for(let n=0;n<bp.length;n++){const r=bp[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i=t["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=JE(this,this.scrapeMotionValuesFromProps(t),this.prevMotionValues)}getProps(){return this.props}getVariant(t){var n;return(n=this.props.variants)===null||n===void 0?void 0:n[t]}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){var t;return this.isVariantNode?this:(t=this.parent)===null||t===void 0?void 0:t.getClosestVariantNode()}getVariantContext(t=!1){var n,r;if(t)return(n=this.parent)===null||n===void 0?void 0:n.getVariantContext();if(!this.isControllingVariants){const s=((r=this.parent)===null||r===void 0?void 0:r.getVariantContext())||{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const i={};for(let s=0;s<XE;s++){const o=x0[s],a=this.props[o];(Es(a)||a===!1)&&(i[o]=a)}return i}addVariantChild(t){var n;const r=this.getClosestVariantNode();if(r)return(n=r.variantChildren)===null||n===void 0||n.add(t),()=>r.variantChildren.delete(t)}addValue(t,n){this.hasValue(t)&&this.removeValue(t),this.values.set(t,n),this.latestValues[t]=n.get(),this.bindToMotionValue(t,n)}removeValue(t){var n;this.values.delete(t),(n=this.valueSubscriptions.get(t))===null||n===void 0||n(),this.valueSubscriptions.delete(t),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=mi(n,{owner:this}),this.addValue(t,r)),r}readValue(t){return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=qh(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Yt(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Yh),this.events[t].add(n)}notify(t,...n){var r;(r=this.events[t])===null||r===void 0||r.notify(...n)}}const x0=["initial",...cd],XE=x0.length;class S0 extends YE{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){var r;return(r=t.style)===null||r===void 0?void 0:r[n]}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},s){let o=o1(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){i1(this,r,o);const a=KE(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function ZE(e){return window.getComputedStyle(e)}class eb extends S0{readValueFromInstance(t,n){if(kr.has(n)){const r=ed(n);return r&&r.default||0}else{const r=ZE(t),i=(wv(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return g0(t,n)}build(t,n,r,i){Bh(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t){return Wh(t)}renderInstance(t,n,r,i){Ev(t,n,r,i)}}class tb extends S0{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){var r;return kr.has(n)?((r=ed(n))===null||r===void 0?void 0:r.default)||0:(n=bv.has(n)?n:Hh(n),t.getAttribute(n))}measureInstanceViewportBox(){return Re()}scrapeMotionValuesFromProps(t){return Cv(t)}build(t,n,r,i){Vh(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){Tv(t,n,r,i)}mount(t){this.isSVGTag=zh(t.tagName),super.mount(t)}}const nb=(e,t)=>$h(e)?new tb(t,{enableHardwareAcceleration:!1}):new eb(t,{enableHardwareAcceleration:!0});function Tp(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ji={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(H.test(e))e=parseFloat(e);else return e;const n=Tp(e,t.target.x),r=Tp(e,t.target.y);return`${n}% ${r}%`}},Cp="_$css",rb={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=e.includes("var("),s=[];i&&(e=e.replace(y0,d=>(s.push(d),Cp)));const o=Hn.parse(e);if(o.length>5)return r;const a=Hn.createTransformer(e),l=typeof o[0]!="number"?1:0,u=n.x.scale*t.x,c=n.y.scale*t.y;o[0+l]/=u,o[1+l]/=c;const h=Ee(u,c,.5);typeof o[2+l]=="number"&&(o[2+l]/=h),typeof o[3+l]=="number"&&(o[3+l]/=h);let f=a(o);if(i){let d=0;f=f.replace(Cp,()=>{const g=s[d];return d++,g})}return f}};class ib extends ln.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;jx(ob),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Yi.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||it.postRender(()=>{var a;!((a=o.getStack())===null||a===void 0)&&a.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),!t.currentAnimation&&t.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n!=null&&n.group&&n.group.remove(i),r!=null&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t==null||t()}render(){return null}}function sb(e){const[t,n]=Mv(),r=O.useContext(Fh);return ln.createElement(ib,{...e,layoutGroup:r,switchLayoutGroup:O.useContext(yv),isPresent:t,safeToRemove:n})}const ob={borderRadius:{...ji,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ji,borderTopRightRadius:ji,borderBottomLeftRadius:ji,borderBottomRightRadius:ji,boxShadow:rb},ab={measureLayout:sb};function lb(e,t,n={}){const r=Yt(e)?e:mi(e);return r.start(ud("",r,t,n)),{stop:()=>r.stop(),isAnimating:()=>r.isAnimating()}}const E0=["TopLeft","TopRight","BottomLeft","BottomRight"],ub=E0.length,Pp=e=>typeof e=="string"?parseFloat(e):e,Ap=e=>typeof e=="number"||H.test(e);function cb(e,t,n,r,i,s){i?(e.opacity=Ee(0,n.opacity!==void 0?n.opacity:1,hb(r)),e.opacityExit=Ee(t.opacity!==void 0?t.opacity:1,0,db(r))):s&&(e.opacity=Ee(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<ub;o++){const a=`border${E0[o]}Radius`;let l=Op(t,a),u=Op(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Ap(l)===Ap(u)?(e[a]=Math.max(Ee(Pp(l),Pp(u),r),0),(Qt.test(u)||Qt.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Ee(t.rotate||0,n.rotate||0,r))}function Op(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const hb=b0(0,.5,ad),db=b0(.5,.95,od);function b0(e,t,n){return r=>r<e?0:r>t?1:n(ma(e,t,r))}function Rp(e,t){e.min=t.min,e.max=t.max}function It(e,t){Rp(e.x,t.x),Rp(e.y,t.y)}function Ip(e,t,n,r,i){return e-=t,e=va(e,1/n,r),i!==void 0&&(e=va(e,1/i,r)),e}function fb(e,t=0,n=1,r=.5,i,s=e,o=e){if(Qt.test(t)&&(t=parseFloat(t),t=Ee(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Ee(s.min,s.max,r);e===s&&(a-=t),e.min=Ip(e.min,t,n,a,i),e.max=Ip(e.max,t,n,a,i)}function jp(e,t,[n,r,i],s,o){fb(e,t[n],t[r],t[i],t.scale,s,o)}const pb=["x","scaleX","originX"],mb=["y","scaleY","originY"];function Lp(e,t,n,r){jp(e.x,t,pb,n==null?void 0:n.x,r==null?void 0:r.x),jp(e.y,t,mb,n==null?void 0:n.y,r==null?void 0:r.y)}function Dp(e){return e.translate===0&&e.scale===1}function T0(e){return Dp(e.x)&&Dp(e.y)}function C0(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Np(e){return mt(e.x)/mt(e.y)}class gb{constructor(){this.members=[]}add(t){Jh(this.members,t),t.scheduleRender()}remove(t){if(Qh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){var r;const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),!((r=t.root)===null||r===void 0)&&r.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{var n,r,i,s,o;(r=(n=t.options).onExitComplete)===null||r===void 0||r.call(n),(o=(i=t.resumingFrom)===null||i===void 0?void 0:(s=i.options).onExitComplete)===null||o===void 0||o.call(s)})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Mp(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const yb=(e,t)=>e.depth-t.depth;class vb{constructor(){this.children=[],this.isDirty=!1}add(t){Jh(this.children,t),this.isDirty=!0}remove(t){Qh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(yb),this.isDirty=!1,this.children.forEach(t)}}const Fp=["","X","Y","Z"],$p=1e3;let wb=0;function P0({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o,a={},l=t==null?void 0:t()){this.id=wb++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isTransformDirty=!1,this.isProjectionDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(xb),this.nodes.forEach(bb),this.nodes.forEach(Tb)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new vb)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Yh),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l==null||l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){var l;if(this.instance)return;this.isSVG=o instanceof SVGElement&&o.tagName!=="svg",this.instance=o;const{layoutId:u,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),(l=this.parent)===null||l===void 0||l.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(c||u)&&(this.isLayoutDirty=!0),e){let f;const d=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=a0(d,250),Yi.hasAnimatedSinceResize&&(Yi.hasAnimatedSinceResize=!1,this.nodes.forEach(Up))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeTargetChanged:g,layout:v})=>{var x,p,y,m,k;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=(p=(x=this.options.transition)!==null&&x!==void 0?x:h.getDefaultTransition())!==null&&p!==void 0?p:Rb,{onLayoutAnimationStart:w,onLayoutAnimationComplete:E}=h.getProps(),T=!this.targetLayout||!C0(this.targetLayout,v)||g,A=!d&&g;if(!((y=this.resumeFrom)===null||y===void 0)&&y.instance||A||d&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,A);const N={...l0(b,"layout"),onPlay:w,onComplete:E};h.shouldReduceMotion&&(N.delay=0,N.type=!1),this.startAnimation(N)}else!d&&this.animationProgress===0&&Up(this),this.isLead()&&((k=(m=this.options).onExitComplete)===null||k===void 0||k.call(m));this.targetLayout=v})}unmount(){var o,a;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(o=this.getStack())===null||o===void 0||o.remove(this),(a=this.parent)===null||a===void 0||a.children.delete(this),this.instance=void 0,zn.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var o;return this.isAnimationBlocked||((o=this.parent)===null||o===void 0?void 0:o.isTreeAnimationBlocked())||!1}startUpdate(){var o;this.isUpdateBlocked()||(this.isUpdating=!0,(o=this.nodes)===null||o===void 0||o.forEach(Cb),this.animationId++)}willUpdate(o=!0){var a,l,u;if(this.root.isUpdateBlocked()){(l=(a=this.options).onExitComplete)===null||l===void 0||l.call(a);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const g=this.path[d];g.shouldResetTransform=!0,g.updateScroll("snapshot")}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const f=(u=this.options.visualElement)===null||u===void 0?void 0:u.getProps().transformTemplate;this.prevTransformTemplateValue=f==null?void 0:f(this.latestValues,""),this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Bp);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(Ib),this.potentialNodes.clear()),this.nodes.forEach(Eb),this.nodes.forEach(_b),this.nodes.forEach(kb),this.clearAllSnapshots(),Ml.update(),Ml.preRender(),Ml.render())}clearAllSnapshots(){this.nodes.forEach(Sb),this.sharedNodes.forEach(Pb)}scheduleUpdateProjection(){it.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){it.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){var o;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Re(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox),(o=this.options.visualElement)===null||o===void 0||o.notify("LayoutMeasure",this.layout.layoutBox,a==null?void 0:a.layoutBox)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){var o;if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!T0(this.projectionDelta),u=(o=this.options.visualElement)===null||o===void 0?void 0:o.getProps().transformTemplate,c=u==null?void 0:u(this.latestValues,""),h=c!==this.prevTransformTemplateValue;a&&(l||tr(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),jb(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Re();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(bn(a.x,l.offset.x),bn(a.y,l.offset.y)),a}removeElementScroll(o){const a=Re();It(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:h}=u;if(u!==this.root&&c&&h.layoutScroll){if(c.isRoot){It(a,o);const{scroll:f}=this.root;f&&(bn(a.x,-f.offset.x),bn(a.y,-f.offset.y))}bn(a.x,c.offset.x),bn(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=Re();It(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Jr(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),tr(c.latestValues)&&Jr(l,c.latestValues)}return tr(this.latestValues)&&Jr(l,this.latestValues),l}removeTransform(o){var a;const l=Re();It(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!tr(c.latestValues))continue;vc(c.latestValues)&&c.updateSnapshot();const h=Re(),f=c.measurePageBox();It(h,f),Lp(l,c.latestValues,(a=c.snapshot)===null||a===void 0?void 0:a.layoutBox,h)}return tr(this.latestValues)&&Lp(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.isProjectionDirty=!0,this.root.scheduleUpdateProjection()}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var o;const a=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),!this.isProjectionDirty&&!this.attemptToResolveRelativeTarget)return;const{layout:l,layoutId:u}=this.options;if(!(!this.layout||!(l||u))){if(!this.targetDelta&&!this.relativeTarget){const c=this.getClosestProjectingParent();c&&c.layout?(this.relativeParent=c,this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),ts(this.relativeTargetOrigin,this.layout.layoutBox,c.layout.layoutBox),It(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Re(),this.targetWithTransforms=Re()),this.relativeTarget&&this.relativeTargetOrigin&&(!((o=this.relativeParent)===null||o===void 0)&&o.target)?vE(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):It(this.target,this.layout.layoutBox),m0(this.target,this.targetDelta)):It(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const c=this.getClosestProjectingParent();c&&!!c.resumingFrom==!!this.resumingFrom&&!c.options.layoutScroll&&c.target?(this.relativeParent=c,this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),ts(this.relativeTargetOrigin,this.target,c.target),It(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||vc(this.parent.latestValues)||p0(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var o;const{isProjectionDirty:a,isTransformDirty:l}=this;this.isProjectionDirty=this.isTransformDirty=!1;const u=this.getLead(),c=!!this.resumingFrom||this!==u;let h=!0;if(a&&(h=!1),c&&l&&(h=!1),h)return;const{layout:f,layoutId:d}=this.options;if(this.isTreeAnimating=!!(!((o=this.parent)===null||o===void 0)&&o.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||d))return;It(this.layoutCorrected,this.layout.layoutBox),CE(this.layoutCorrected,this.treeScale,this.path,c);const{target:g}=u;if(!g)return;this.projectionDelta||(this.projectionDelta=ns(),this.projectionDeltaWithTransform=ns());const v=this.treeScale.x,x=this.treeScale.y,p=this.projectionTransform;es(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=Mp(this.projectionDelta,this.treeScale),(this.projectionTransform!==p||this.treeScale.x!==v||this.treeScale.y!==x)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a,l,u;(l=(a=this.options).scheduleRender)===null||l===void 0||l.call(a),o&&((u=this.getStack())===null||u===void 0||u.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){var l,u;const c=this.snapshot,h=(c==null?void 0:c.latestValues)||{},f={...this.latestValues},d=ns();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!a;const g=Re(),v=(c==null?void 0:c.source)!==((l=this.layout)===null||l===void 0?void 0:l.source),x=(((u=this.getStack())===null||u===void 0?void 0:u.members.length)||0)<=1,p=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(Ob));this.animationProgress=0,this.mixTargetDelta=y=>{var m;const k=y/1e3;Vp(d.x,o.x,k),Vp(d.y,o.y,k),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&(!((m=this.relativeParent)===null||m===void 0)&&m.layout)&&(ts(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ab(this.relativeTarget,this.relativeTargetOrigin,g,k)),v&&(this.animationValues=f,cb(f,h,this.latestValues,k,p,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(0)}startAnimation(o){var a,l;this.notifyListeners("animationStart"),(a=this.currentAnimation)===null||a===void 0||a.stop(),this.resumingFrom&&((l=this.resumingFrom.currentAnimation)===null||l===void 0||l.stop()),this.pendingAnimation&&(zn.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=it.update(()=>{Yi.hasAnimatedSinceResize=!0,this.currentAnimation=lb(0,$p,{...o,onUpdate:u=>{var c;this.mixTargetDelta(u),(c=o.onUpdate)===null||c===void 0||c.call(o,u)},onComplete:()=>{var u;(u=o.onComplete)===null||u===void 0||u.call(o),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var o;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(o=this.getStack())===null||o===void 0||o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var o;this.currentAnimation&&((o=this.mixTargetDelta)===null||o===void 0||o.call(this,$p),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&A0(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Re();const h=mt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=mt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}It(a,l),Jr(a,c),es(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){var l,u,c;this.sharedNodes.has(o)||this.sharedNodes.set(o,new gb),this.sharedNodes.get(o).add(a),a.promote({transition:(l=a.options.initialPromotionConfig)===null||l===void 0?void 0:l.transition,preserveFollowOpacity:(c=(u=a.options.initialPromotionConfig)===null||u===void 0?void 0:u.shouldPreserveFollowOpacity)===null||c===void 0?void 0:c.call(u,a)})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<Fp.length;c++){const h="rotate"+Fp[c];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o==null||o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o={}){var a,l,u;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const h=(a=this.options.visualElement)===null||a===void 0?void 0:a.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=jo(o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=jo(o.pointerEvents)||""),this.hasProjected&&!tr(this.latestValues)&&(x.transform=h?h({},""):"none",this.hasProjected=!1),x}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=Mp(this.projectionDeltaWithTransform,this.treeScale,d),h&&(c.transform=h(d,c.transform));const{x:g,y:v}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,f.animationValues?c.opacity=f===this?(u=(l=d.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:c.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in aa){if(d[x]===void 0)continue;const{correct:p,applyTo:y}=aa[x],m=p(d[x],f);if(y){const k=y.length;for(let b=0;b<k;b++)c[y[b]]=m}else c[x]=m}return this.options.layoutId&&(c.pointerEvents=f===this?jo(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Bp),this.root.sharedNodes.clear()}}}function _b(e){e.updateLayout()}function kb(e){var t,n,r;const i=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&i&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=e.layout,{animationType:a}=e.options,l=i.source!==e.layout.source;a==="size"?Ht(d=>{const g=l?i.measuredBox[d]:i.layoutBox[d],v=mt(g);g.min=s[d].min,g.max=g.min+v}):A0(a,i.layoutBox,s)&&Ht(d=>{const g=l?i.measuredBox[d]:i.layoutBox[d],v=mt(s[d]);g.max=g.min+v});const u=ns();es(u,s,i.layoutBox);const c=ns();l?es(c,e.applyTransform(o,!0),i.measuredBox):es(c,s,i.layoutBox);const h=!T0(u);let f=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:g,layout:v}=d;if(g&&v){const x=Re();ts(x,i.layoutBox,g.layoutBox);const p=Re();ts(p,s,v.layoutBox),C0(x,p)||(f=!0)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:i,delta:c,layoutDelta:u,hasLayoutChanged:h,hasRelativeTargetChanged:f})}else e.isLead()&&((r=(n=e.options).onExitComplete)===null||r===void 0||r.call(n));e.options.transition=void 0}function xb(e){e.isProjectionDirty||(e.isProjectionDirty=!!(e.parent&&e.parent.isProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=!!(e.parent&&e.parent.isTransformDirty))}function Sb(e){e.clearSnapshot()}function Bp(e){e.clearMeasurements()}function Eb(e){const{visualElement:t}=e.options;t!=null&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Up(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function bb(e){e.resolveTargetDelta()}function Tb(e){e.calcProjection()}function Cb(e){e.resetRotation()}function Pb(e){e.removeLeadSnapshot()}function Vp(e,t,n){e.translate=Ee(t.translate,0,n),e.scale=Ee(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function zp(e,t,n,r){e.min=Ee(t.min,n.min,r),e.max=Ee(t.max,n.max,r)}function Ab(e,t,n,r){zp(e.x,t.x,n.x,r),zp(e.y,t.y,n.y,r)}function Ob(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Rb={duration:.45,ease:[.4,0,.1,1]};function Ib(e,t){let n=e.root;for(let s=e.path.length-1;s>=0;s--)if(e.path[s].instance){n=e.path[s];break}const i=(n&&n!==e.root?n.instance:document).querySelector(`[data-projection-id="${t}"]`);i&&e.mount(i,!0)}function Hp(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function jb(e){Hp(e.x),Hp(e.y)}function A0(e,t,n){return e==="position"||e==="preserve-aspect"&&!gc(Np(t),Np(n),.2)}const Lb=P0({attachResizeListener:(e,t)=>za(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kl={current:void 0},Db=P0({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Kl.current){const e=new Lb(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),Kl.current=e}return Kl.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Nb={...pE,...IS,...NE,...ab},We=Rx((e,t)=>uS(e,t,Nb,nb,Db));function O0(){const e=O.useRef(!1);return Qi(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Mb(){const e=O0(),[t,n]=O.useState(0),r=O.useCallback(()=>{e.current&&n(t+1)},[t]);return[O.useCallback(()=>it.postRender(r),[r]),t]}class Fb extends O.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function $b({children:e,isPresent:t}){const n=O.useId(),r=O.useRef(null),i=O.useRef({width:0,height:0,top:0,left:0});return O.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(t||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),O.createElement(Fb,{isPresent:t,childRef:r,sizeRef:i},O.cloneElement(e,{ref:r}))}const Gl=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=Va(Bb),l=O.useId(),u=O.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:c=>{a.set(c,!0);for(const h of a.values())if(!h)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),s?void 0:[n]);return O.useMemo(()=>{a.forEach((c,h)=>a.set(h,!1))},[n]),O.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=O.createElement($b,{isPresent:n},e)),O.createElement(Bs.Provider,{value:u},e)};function Bb(){return new Map}const Rr=e=>e.key||"";function Ub(e,t){e.forEach(n=>{const r=Rr(n);t.set(r,n)})}function Vb(e){const t=[];return O.Children.forEach(e,n=>{O.isValidElement(n)&&t.push(n)}),t}const zb=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{i&&(o="wait",SS(!1,"Replace exitBeforeEnter with mode='wait'"));let[a]=Mb();const l=O.useContext(Fh).forceRender;l&&(a=l);const u=O0(),c=Vb(e);let h=c;const f=new Set,d=O.useRef(h),g=O.useRef(new Map).current,v=O.useRef(!0);if(Qi(()=>{v.current=!1,Ub(c,g),d.current=h}),Gh(()=>{v.current=!0,g.clear(),f.clear()}),v.current)return O.createElement(O.Fragment,null,h.map(m=>O.createElement(Gl,{key:Rr(m),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},m)));h=[...h];const x=d.current.map(Rr),p=c.map(Rr),y=x.length;for(let m=0;m<y;m++){const k=x[m];p.indexOf(k)===-1&&f.add(k)}return o==="wait"&&f.size&&(h=[]),f.forEach(m=>{if(p.indexOf(m)!==-1)return;const k=g.get(m);if(!k)return;const b=x.indexOf(m),w=()=>{g.delete(m),f.delete(m);const E=d.current.findIndex(T=>T.key===m);if(d.current.splice(E,1),!f.size){if(d.current=c,u.current===!1)return;a(),r&&r()}};h.splice(b,0,O.createElement(Gl,{key:Rr(k),isPresent:!1,onExitComplete:w,custom:t,presenceAffectsLayout:s,mode:o},k))}),h=h.map(m=>{const k=m.key;return f.has(k)?m:O.createElement(Gl,{key:Rr(m),isPresent:!0,presenceAffectsLayout:s,mode:o},m)}),O.createElement(O.Fragment,null,f.size?h:h.map(m=>O.cloneElement(m)))},R0=({size:e=20})=>C.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:[C.jsx("path",{d:"M3 6.75A2.75 2.75 0 015.75 4h12.5A2.75 2.75 0 0121 6.75v10.5A2.75 2.75 0 0118.25 20H5.75A2.75 2.75 0 013 17.25V6.75z",stroke:"currentColor",strokeWidth:"1.25",strokeLinejoin:"round"}),C.jsx("path",{d:"M21 6.75l-9 6-9-6",stroke:"currentColor",strokeWidth:"1.25",strokeLinejoin:"round"})]}),Hb=({size:e=20})=>C.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:C.jsx("path",{d:"M3 5.5c.7 5 3.8 9.4 8 11.5l1.5-1.5c.3-.3.8-.4 1.2-.2l2 1c1.5.7 3.3.1 4.1-1.3.5-.8.5-1.7.1-2.6l-1-2c-.2-.5-.1-1 .2-1.3L18.5 8c2.1-4.2 5.5-7.3 10.5-8",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),Wb=({size:e=18})=>C.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:[C.jsx("path",{d:"M12 21s7-4.5 7-10a7 7 0 10-14 0c0 5.5 7 10 7 10z",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),C.jsx("circle",{cx:"12",cy:"11",r:"2",stroke:"currentColor",strokeWidth:"1.25"})]}),Ps=({size:e=18})=>C.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:[C.jsx("rect",{x:"3",y:"5",width:"18",height:"14",rx:"2",stroke:"currentColor",strokeWidth:"1.25"}),C.jsx("path",{d:"M8 9h8",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round"})]}),I0=({size:e=18})=>C.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:[C.jsx("path",{d:"M12 2v6",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round"}),C.jsx("path",{d:"M19 8l-7 5-7-5",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),C.jsx("path",{d:"M5 16l7 5 7-5",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})]});function qb(e=.15){const[t,n]=O.useState(0);return O.useEffect(()=>{let r=null;function i(){r&&cancelAnimationFrame(r),r=requestAnimationFrame(()=>{const s=window.scrollY||window.pageYOffset;n(s*e)})}return window.addEventListener("scroll",i,{passive:!0}),i(),()=>{window.removeEventListener("scroll",i),r&&cancelAnimationFrame(r)}},[e]),t}function Kb(){const[e,t]=O.useState(0),n=["Scalable Systems","Event-driven Architectures","RAG & AI"];O.useEffect(()=>{const i=setInterval(()=>t(s=>(s+1)%n.length),2200);return()=>clearInterval(i)},[]);const r=qb(.12);return C.jsx("header",{className:"hero",children:C.jsx("div",{className:"container",children:C.jsxs(We.div,{className:"card",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},children:[C.jsxs("div",{style:{display:"flex",alignItems:"center",gap:18},children:[C.jsx(We.img,{src:"/49605278.jpeg",alt:"Amlan Das",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6},style:{width:84,height:84,borderRadius:999,objectFit:"cover",boxShadow:"0 8px 22px rgba(0,0,0,0.24)",transform:`translateY(${r*-.4}px)`}}),C.jsxs("div",{children:[C.jsx("h1",{style:{margin:0,fontSize:30},children:"Amlan Das"}),C.jsx("p",{style:{color:"var(--muted)",marginTop:6},children:"Specialist Software Engineer  Java, Spring Boot, Cloud"}),C.jsx("p",{style:{marginTop:12,maxWidth:640},children:"I design and build scalable microservices and event-driven systems, focusing on performance, maintainability and clean delivery."}),C.jsxs("div",{style:{marginTop:12},children:[C.jsx("span",{className:"subtitle-rotate",children:n.map((i,s)=>C.jsx("span",{className:s===e?"show":"",style:{display:"inline-block",marginRight:8},children:i},i))}),C.jsx("span",{style:{marginLeft:8},children:C.jsx(Ps,{size:18})})]}),C.jsx("div",{style:{marginTop:12},children:C.jsx("a",{href:"#projects",style:{color:"white",textDecoration:"none",background:"var(--accent)",padding:"8px 12px",borderRadius:8},children:"View Projects"})})]})]}),C.jsxs("div",{className:"blobs",children:[C.jsx("div",{className:"blob one","aria-hidden":!0,style:{transform:`translateY(${r*-.6}px)`}}),C.jsx("div",{className:"blob two","aria-hidden":!0,style:{transform:`translateY(${r*-.3}px)`}})]})]})})})}function Gb(){return C.jsx("section",{className:"section",id:"about",children:C.jsxs("div",{className:"container",children:[C.jsx(We.h2,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.4},children:"About"}),C.jsx(We.p,{initial:{opacity:0,y:8},whileInView:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:"Results-driven Specialist Software Engineer with 4+ years of experience in designing, developing, and optimizing enterprise-grade Java Spring Boot microservices. Skilled in building scalable, event-driven systems using Azure Event Hub (Kafka), PostgreSQL, and AWS S3, with strong expertise in CI/CD (Jenkins, GitHub Actions), Kubernetes (AKS), and Angular 9. Experienced in performance tuning, test automation (JUnit 5, BDD Cucumber), and modernizing legacy applications from Java 8 to 21."}),C.jsxs(We.div,{initial:{opacity:0,y:6},whileInView:{opacity:1,y:0},transition:{duration:.3,delay:.15},style:{marginTop:12,display:"flex",gap:16,flexWrap:"wrap"},children:[C.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[C.jsx(Wb,{size:14})," Bangalore, India"]}),C.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[C.jsx(I0,{size:14})," Java  Spring Boot  Kafka"]})]})]})})}const Jb=[{title:"Specialist Software Engineer  Societe Generale",period:"Aug 2024 - Present",location:"Bengaluru",points:["Managed 10+ Spring Boot microservices integrated via REST APIs, Azure Event Hub, and PostgreSQL.","Improved system performance by 30% through HikariCP tuning and query optimization.","Migrated legacy Java 8 code to Java 21 and refactored into modern microservices.","Implemented event-driven communication using Azure Event Hub (Kafka) and integrated AWS S3."]},{title:"Programmer Analyst - Associate  Cognizant",period:"Jul 2022 - Feb 2024",location:"Kolkata",points:["Built scalable Spring Boot microservices and REST APIs with Kafka integration.","Optimized MySQL / AWS RDS performance and automated ETL using Spark-Java on Parquet data.","Deployed on AWS with Docker + Kubernetes."]},{title:"Programmer Analyst Trainee  Cognizant",period:"Jul 2021 - Jul 2022",location:"Kolkata",points:["E2E Testing, Integration Testing, Functional Testing, Unit Testing on web applications."]}];function Qb(){return C.jsx("section",{className:"section",id:"experience",children:C.jsxs("div",{className:"container",children:[C.jsx(We.h2,{initial:{opacity:0},whileInView:{opacity:1},children:"Experience"}),C.jsx(We.div,{style:{marginTop:12},initial:"hidden",whileInView:"show",variants:{hidden:{},show:{transition:{staggerChildren:.08}}},children:Jb.map(e=>C.jsxs(We.div,{initial:{opacity:0,y:8},whileInView:{opacity:1,y:0},transition:{duration:.32},style:{marginBottom:14},children:[C.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:8},children:[C.jsx(Ps,{size:16})," ",e.title]}),C.jsxs("div",{style:{color:"var(--muted)",fontSize:13,marginBottom:8},children:[e.period,"  ",e.location]}),C.jsx("ul",{style:{marginTop:0,paddingLeft:18},children:e.points.map(t=>C.jsx("li",{style:{color:"var(--muted)",marginBottom:6},children:t},t))})]},e.title))})]})})}const Yb=["Java 21","Spring Boot","JPA","Kafka","Azure Event Hub","AWS (EC2,S3,RDS,EKS)","Azure (AKS,Flexi DB)","PostgreSQL","MySQL","Jenkins","GitHub Actions","Angular 9","HTML","CSS","Postman","Swagger"],Xb={hidden:{},show:{transition:{staggerChildren:.06}}},Zb={hidden:{opacity:0,y:6,scale:.98},show:{opacity:1,y:0,scale:1,transition:{duration:.36}}};function eT(){return C.jsx("section",{className:"section",id:"skills",children:C.jsxs("div",{className:"container",children:[C.jsxs(We.h2,{initial:{opacity:0},whileInView:{opacity:1},style:{display:"flex",alignItems:"center",gap:8},children:[C.jsx(I0,{size:18}),"Skills"]}),C.jsx(We.div,{className:"skills",style:{marginTop:12},variants:Xb,initial:"hidden",whileInView:"show",children:Yb.map(e=>C.jsx(We.span,{className:"skill",variants:Zb,whileHover:{scale:1.06},children:e},e))})]})})}const Wp=["http","https","mailto","tel"];function tT(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return t;const r=t.indexOf(":");if(r===-1)return t;let i=-1;for(;++i<Wp.length;){const s=Wp[i];if(r===s.length&&t.slice(0,s.length).toLowerCase()===s)return t}return i=t.indexOf("?"),i!==-1&&r>i||(i=t.indexOf("#"),i!==-1&&r>i)?t:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var nT=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};const j0=gi(nT);function rs(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?qp(e.position):"start"in e||"end"in e?qp(e):"line"in e||"column"in e?Sc(e):""}function Sc(e){return Kp(e&&e.line)+":"+Kp(e&&e.column)}function qp(e){return Sc(e&&e.start)+"-"+Sc(e&&e.end)}function Kp(e){return e&&typeof e=="number"?e:1}class bt extends Error{constructor(t,n,r){const i=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const o=r.indexOf(":");o===-1?i[1]=r:(i[0]=r.slice(0,o),i[1]=r.slice(o+1))}n&&("type"in n||"position"in n?n.position&&(s=n.position):"start"in n||"end"in n?s=n:("line"in n||"column"in n)&&(s.start=n)),this.name=rs(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}bt.prototype.file="";bt.prototype.name="";bt.prototype.reason="";bt.prototype.message="";bt.prototype.stack="";bt.prototype.fatal=null;bt.prototype.column=null;bt.prototype.line=null;bt.prototype.source=null;bt.prototype.ruleId=null;bt.prototype.position=null;const Wt={basename:rT,dirname:iT,extname:sT,join:oT,sep:"/"};function rT(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Hs(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function iT(e){if(Hs(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function sT(e){Hs(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.charCodeAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function oT(...e){let t=-1,n;for(;++t<e.length;)Hs(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":aT(n)}function aT(e){Hs(e);const t=e.charCodeAt(0)===47;let n=lT(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function lT(e,t){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=e.length;){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function Hs(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const uT={cwd:cT};function cT(){return"/"}function Ec(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function hT(e){if(typeof e=="string")e=new URL(e);else if(!Ec(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return dT(e)}function dT(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Jl=["history","path","basename","stem","extname","dirname"];class L0{constructor(t){let n;t?typeof t=="string"||fT(t)?n={value:t}:Ec(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=uT.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<Jl.length;){const s=Jl[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Jl.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){Ec(t)&&(t=hT(t)),Yl(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?Wt.dirname(this.path):void 0}set dirname(t){Gp(this.basename,"dirname"),this.path=Wt.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?Wt.basename(this.path):void 0}set basename(t){Yl(t,"basename"),Ql(t,"basename"),this.path=Wt.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?Wt.extname(this.path):void 0}set extname(t){if(Ql(t,"extname"),Gp(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Wt.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?Wt.basename(this.path,this.extname):void 0}set stem(t){Yl(t,"stem"),Ql(t,"stem"),this.path=Wt.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t||void 0)}message(t,n,r){const i=new bt(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}}function Ql(e,t){if(e&&e.includes(Wt.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Wt.sep+"`")}function Yl(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Gp(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function fT(e){return j0(e)}function Jp(e){if(e)throw e}var Do=Object.prototype.hasOwnProperty,D0=Object.prototype.toString,Qp=Object.defineProperty,Yp=Object.getOwnPropertyDescriptor,Xp=function(t){return typeof Array.isArray=="function"?Array.isArray(t):D0.call(t)==="[object Array]"},Zp=function(t){if(!t||D0.call(t)!=="[object Object]")return!1;var n=Do.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Do.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Do.call(t,i)},em=function(t,n){Qp&&n.name==="__proto__"?Qp(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},tm=function(t,n){if(n==="__proto__")if(Do.call(t,n)){if(Yp)return Yp(t,n).value}else return;return t[n]},pT=function e(){var t,n,r,i,s,o,a=arguments[0],l=1,u=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=tm(a,n),i=tm(t,n),a!==i&&(c&&i&&(Zp(i)||(s=Xp(i)))?(s?(s=!1,o=r&&Xp(r)?r:[]):o=r&&Zp(r)?r:{},em(a,{name:n,newValue:e(c,o,i)})):typeof i<"u"&&em(a,{name:n,newValue:i}));return a};const nm=gi(pT);function bc(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function mT(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...u){const c=e[++s];let h=-1;if(l){o(l);return}for(;++h<i.length;)(u[h]===null||u[h]===void 0)&&(u[h]=i[h]);i=u,c?gT(c,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function gT(e,t){let n;return r;function r(...o){const a=e.length>o.length;let l;a&&o.push(i);try{l=e.apply(this,o)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const yT=M0().freeze(),N0={}.hasOwnProperty;function M0(){const e=mT(),t=[];let n={},r,i=-1;return s.data=o,s.Parser=void 0,s.Compiler=void 0,s.freeze=a,s.attachers=t,s.use=l,s.parse=u,s.stringify=c,s.run=h,s.runSync=f,s.process=d,s.processSync=g,s;function s(){const v=M0();let x=-1;for(;++x<t.length;)v.use(...t[x]);return v.data(nm(!0,{},n)),v}function o(v,x){return typeof v=="string"?arguments.length===2?(eu("data",r),n[v]=x,s):N0.call(n,v)&&n[v]||null:v?(eu("data",r),n=v,s):n}function a(){if(r)return s;for(;++i<t.length;){const[v,...x]=t[i];if(x[0]===!1)continue;x[0]===!0&&(x[0]=void 0);const p=v.call(s,...x);typeof p=="function"&&e.use(p)}return r=!0,i=Number.POSITIVE_INFINITY,s}function l(v,...x){let p;if(eu("use",r),v!=null)if(typeof v=="function")b(v,...x);else if(typeof v=="object")Array.isArray(v)?k(v):m(v);else throw new TypeError("Expected usable value, not `"+v+"`");return p&&(n.settings=Object.assign(n.settings||{},p)),s;function y(w){if(typeof w=="function")b(w);else if(typeof w=="object")if(Array.isArray(w)){const[E,...T]=w;b(E,...T)}else m(w);else throw new TypeError("Expected usable value, not `"+w+"`")}function m(w){k(w.plugins),w.settings&&(p=Object.assign(p||{},w.settings))}function k(w){let E=-1;if(w!=null)if(Array.isArray(w))for(;++E<w.length;){const T=w[E];y(T)}else throw new TypeError("Expected a list of plugins, not `"+w+"`")}function b(w,E){let T=-1,A;for(;++T<t.length;)if(t[T][0]===w){A=t[T];break}A?(bc(A[1])&&bc(E)&&(E=nm(!0,A[1],E)),A[1]=E):t.push([...arguments])}}function u(v){s.freeze();const x=Li(v),p=s.Parser;return Xl("parse",p),rm(p,"parse")?new p(String(x),x).parse():p(String(x),x)}function c(v,x){s.freeze();const p=Li(x),y=s.Compiler;return Zl("stringify",y),im(v),rm(y,"compile")?new y(v,p).compile():y(v,p)}function h(v,x,p){if(im(v),s.freeze(),!p&&typeof x=="function"&&(p=x,x=void 0),!p)return new Promise(y);y(null,p);function y(m,k){e.run(v,Li(x),b);function b(w,E,T){E=E||v,w?k(w):m?m(E):p(null,E,T)}}}function f(v,x){let p,y;return s.run(v,x,m),sm("runSync","run",y),p;function m(k,b){Jp(k),p=b,y=!0}}function d(v,x){if(s.freeze(),Xl("process",s.Parser),Zl("process",s.Compiler),!x)return new Promise(p);p(null,x);function p(y,m){const k=Li(v);s.run(s.parse(k),k,(w,E,T)=>{if(w||!E||!T)b(w);else{const A=s.stringify(E,T);A==null||(_T(A)?T.value=A:T.result=A),b(w,T)}});function b(w,E){w||!E?m(w):y?y(E):x(null,E)}}}function g(v){let x;s.freeze(),Xl("processSync",s.Parser),Zl("processSync",s.Compiler);const p=Li(v);return s.process(p,y),sm("processSync","process",x),p;function y(m){x=!0,Jp(m)}}}function rm(e,t){return typeof e=="function"&&e.prototype&&(vT(e.prototype)||t in e.prototype)}function vT(e){let t;for(t in e)if(N0.call(e,t))return!0;return!1}function Xl(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function Zl(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function eu(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function im(e){if(!bc(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function sm(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Li(e){return wT(e)?e:new L0(e)}function wT(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function _T(e){return typeof e=="string"||j0(e)}const kT={};function xT(e,t){const n=kT,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return F0(e,r,i)}function F0(e,t,n){if(ST(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return om(e.children,t,n)}return Array.isArray(e)?om(e,t,n):""}function om(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=F0(e[i],t,n);return r.join("")}function ST(e){return!!(e&&typeof e=="object")}function Xt(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function _t(e,t){return e.length>0?(Xt(e,e.length,0,t),e):t}const am={}.hasOwnProperty;function ET(e){const t={};let n=-1;for(;++n<e.length;)bT(t,e[n]);return t}function bT(e,t){let n;for(n in t){const i=(am.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){am.call(i,o)||(i[o]=[]);const a=s[o];TT(i[o],Array.isArray(a)?a:a?[a]:[])}}}function TT(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Xt(e,0,0,r)}const CT=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Kt=Gn(/[A-Za-z]/),dt=Gn(/[\dA-Za-z]/),PT=Gn(/[#-'*+\--9=?A-Z^-~]/);function Tc(e){return e!==null&&(e<32||e===127)}const Cc=Gn(/\d/),AT=Gn(/[\dA-Fa-f]/),OT=Gn(/[!-/:-@[-`{-~]/);function K(e){return e!==null&&e<-2}function st(e){return e!==null&&(e<0||e===32)}function re(e){return e===-2||e===-1||e===32}const RT=Gn(CT),IT=Gn(/\s/);function Gn(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}function fe(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return re(l)?(e.enter(n),a(l)):t(l)}function a(l){return re(l)&&s++<i?(e.consume(l),a):(e.exit(n),t(l))}}const jT={tokenize:LT};function LT(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),fe(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return K(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const DT={tokenize:NT},lm={tokenize:MT};function NT(e){const t=this,n=[];let r=0,i,s,o;return a;function a(m){if(r<n.length){const k=n[r];return t.containerState=k[1],e.attempt(k[0].continuation,l,u)(m)}return u(m)}function l(m){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&y();const k=t.events.length;let b=k,w;for(;b--;)if(t.events[b][0]==="exit"&&t.events[b][1].type==="chunkFlow"){w=t.events[b][1].end;break}p(r);let E=k;for(;E<t.events.length;)t.events[E][1].end=Object.assign({},w),E++;return Xt(t.events,b+1,0,t.events.slice(k)),t.events.length=E,u(m)}return a(m)}function u(m){if(r===n.length){if(!i)return f(m);if(i.currentConstruct&&i.currentConstruct.concrete)return g(m);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(lm,c,h)(m)}function c(m){return i&&y(),p(r),f(m)}function h(m){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,g(m)}function f(m){return t.containerState={},e.attempt(lm,d,g)(m)}function d(m){return r++,n.push([t.currentConstruct,t.containerState]),f(m)}function g(m){if(m===null){i&&y(),p(0),e.consume(m);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),v(m)}function v(m){if(m===null){x(e.exit("chunkFlow"),!0),p(0),e.consume(m);return}return K(m)?(e.consume(m),x(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(m),v)}function x(m,k){const b=t.sliceStream(m);if(k&&b.push(null),m.previous=s,s&&(s.next=m),s=m,i.defineSkip(m.start),i.write(b),t.parser.lazy[m.start.line]){let w=i.events.length;for(;w--;)if(i.events[w][1].start.offset<o&&(!i.events[w][1].end||i.events[w][1].end.offset>o))return;const E=t.events.length;let T=E,A,N;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){if(A){N=t.events[T][1].end;break}A=!0}for(p(r),w=E;w<t.events.length;)t.events[w][1].end=Object.assign({},N),w++;Xt(t.events,T+1,0,t.events.slice(E)),t.events.length=w}}function p(m){let k=n.length;for(;k-- >m;){const b=n[k];t.containerState=b[1],b[0].exit.call(t,e)}n.length=m}function y(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function MT(e,t,n){return fe(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function um(e){if(e===null||st(e)||IT(e))return 1;if(RT(e))return 2}function hd(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const Pc={name:"attention",tokenize:$T,resolveAll:FT};function FT(e,t){let n=-1,r,i,s,o,a,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h=Object.assign({},e[r][1].end),f=Object.assign({},e[n][1].start);cm(h,-l),cm(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:h,end:Object.assign({},e[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:f},s={type:l>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},a.end),u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=_t(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=_t(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),u=_t(u,hd(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=_t(u,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=_t(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,Xt(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function $T(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=um(r);let s;return o;function o(l){return s=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===s)return e.consume(l),a;const u=e.exit("attentionSequence"),c=um(l),h=!c||c===2&&i||n.includes(l),f=!i||i===2&&c||n.includes(r);return u._open=!!(s===42?h:h&&(i||!f)),u._close=!!(s===42?f:f&&(c||!h)),t(l)}}function cm(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const BT={name:"autolink",tokenize:UT};function UT(e,t,n){let r=0;return i;function i(d){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(d){return Kt(d)?(e.consume(d),o):u(d)}function o(d){return d===43||d===45||d===46||dt(d)?(r=1,a(d)):u(d)}function a(d){return d===58?(e.consume(d),r=0,l):(d===43||d===45||d===46||dt(d))&&r++<32?(e.consume(d),a):(r=0,u(d))}function l(d){return d===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.exit("autolink"),t):d===null||d===32||d===60||Tc(d)?n(d):(e.consume(d),l)}function u(d){return d===64?(e.consume(d),c):PT(d)?(e.consume(d),u):n(d)}function c(d){return dt(d)?h(d):n(d)}function h(d){return d===46?(e.consume(d),r=0,c):d===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.exit("autolink"),t):f(d)}function f(d){if((d===45||dt(d))&&r++<63){const g=d===45?f:h;return e.consume(d),g}return n(d)}}const Ka={tokenize:VT,partial:!0};function VT(e,t,n){return r;function r(s){return re(s)?fe(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||K(s)?t(s):n(s)}}const $0={name:"blockQuote",tokenize:zT,continuation:{tokenize:HT},exit:WT};function zT(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return re(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function HT(e,t,n){const r=this;return i;function i(o){return re(o)?fe(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt($0,t,n)(o)}}function WT(e){e.exit("blockQuote")}const B0={name:"characterEscape",tokenize:qT};function qT(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return OT(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const hm=document.createElement("i");function dd(e){const t="&"+e+";";hm.innerHTML=t;const n=hm.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const U0={name:"characterReference",tokenize:KT};function KT(e,t,n){const r=this;let i=0,s,o;return a;function a(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),l}function l(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,o=dt,c(h))}function u(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=AT,c):(e.enter("characterReferenceValue"),s=7,o=Cc,c(h))}function c(h){if(h===59&&i){const f=e.exit("characterReferenceValue");return o===dt&&!dd(r.sliceSerialize(f))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(h)&&i++<s?(e.consume(h),c):n(h)}}const dm={tokenize:JT,partial:!0},fm={name:"codeFenced",tokenize:GT,concrete:!0};function GT(e,t,n){const r=this,i={tokenize:b,partial:!0};let s=0,o=0,a;return l;function l(w){return u(w)}function u(w){const E=r.events[r.events.length-1];return s=E&&E[1].type==="linePrefix"?E[2].sliceSerialize(E[1],!0).length:0,a=w,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(w)}function c(w){return w===a?(o++,e.consume(w),c):o<3?n(w):(e.exit("codeFencedFenceSequence"),re(w)?fe(e,h,"whitespace")(w):h(w))}function h(w){return w===null||K(w)?(e.exit("codeFencedFence"),r.interrupt?t(w):e.check(dm,v,k)(w)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(w))}function f(w){return w===null||K(w)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(w)):re(w)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),fe(e,d,"whitespace")(w)):w===96&&w===a?n(w):(e.consume(w),f)}function d(w){return w===null||K(w)?h(w):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(w))}function g(w){return w===null||K(w)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(w)):w===96&&w===a?n(w):(e.consume(w),g)}function v(w){return e.attempt(i,k,x)(w)}function x(w){return e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),p}function p(w){return s>0&&re(w)?fe(e,y,"linePrefix",s+1)(w):y(w)}function y(w){return w===null||K(w)?e.check(dm,v,k)(w):(e.enter("codeFlowValue"),m(w))}function m(w){return w===null||K(w)?(e.exit("codeFlowValue"),y(w)):(e.consume(w),m)}function k(w){return e.exit("codeFenced"),t(w)}function b(w,E,T){let A=0;return N;function N(U){return w.enter("lineEnding"),w.consume(U),w.exit("lineEnding"),j}function j(U){return w.enter("codeFencedFence"),re(U)?fe(w,M,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):M(U)}function M(U){return U===a?(w.enter("codeFencedFenceSequence"),Y(U)):T(U)}function Y(U){return U===a?(A++,w.consume(U),Y):A>=o?(w.exit("codeFencedFenceSequence"),re(U)?fe(w,te,"whitespace")(U):te(U)):T(U)}function te(U){return U===null||K(U)?(w.exit("codeFencedFence"),E(U)):T(U)}}}function JT(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const tu={name:"codeIndented",tokenize:YT},QT={tokenize:XT,partial:!0};function YT(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),fe(e,s,"linePrefix",5)(u)}function s(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):K(u)?e.attempt(QT,o,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||K(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function XT(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):K(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):fe(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):K(o)?i(o):n(o)}}const ZT={name:"codeText",tokenize:nC,resolve:eC,previous:tC};function eC(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function tC(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function nC(e,t,n){let r=0,i,s;return o;function o(h){return e.enter("codeText"),e.enter("codeTextSequence"),a(h)}function a(h){return h===96?(e.consume(h),r++,a):(e.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),l):h===96?(s=e.enter("codeTextSequence"),i=0,c(h)):K(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||K(h)?(e.exit("codeTextData"),l(h)):(e.consume(h),u)}function c(h){return h===96?(e.consume(h),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(s.type="codeTextData",u(h))}}function V0(e){const t={};let n=-1,r,i,s,o,a,l,u;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,rC(e,n)),n=t[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=e[s],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},e[i][1].start),a=e.slice(i,n),a.unshift(r),Xt(e,i,n-i+1,a))}}return!u}function rC(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,l=[],u={};let c,h,f=-1,d=n,g=0,v=0;const x=[v];for(;d;){for(;e[++i][1]!==d;);s.push(i),d._tokenizer||(c=r.sliceStream(d),d.next||c.push(null),h&&o.defineSkip(d.start),d._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),d._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=d,d=d.next}for(d=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(v=f+1,x.push(v),d._tokenizer=void 0,d.previous=void 0,d=d.next);for(o.events=[],d?(d._tokenizer=void 0,d.previous=void 0):x.pop(),f=x.length;f--;){const p=a.slice(x[f],x[f+1]),y=s.pop();l.unshift([y,y+p.length-1]),Xt(e,y,2,p)}for(f=-1;++f<l.length;)u[g+l[f][0]]=g+l[f][1],g+=l[f][1]-l[f][0]-1;return u}const iC={tokenize:aC,resolve:oC},sC={tokenize:lC,partial:!0};function oC(e){return V0(e),e}function aC(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):K(a)?e.check(sC,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function lC(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),fe(e,s,"linePrefix")}function s(o){if(o===null||K(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function z0(e,t,n,r,i,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return h;function h(p){return p===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(p),e.exit(s),f):p===null||p===32||p===41||Tc(p)?n(p):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),v(p))}function f(p){return p===62?(e.enter(s),e.consume(p),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===62?(e.exit("chunkString"),e.exit(a),f(p)):p===null||p===60||K(p)?n(p):(e.consume(p),p===92?g:d)}function g(p){return p===60||p===62||p===92?(e.consume(p),d):d(p)}function v(p){return!c&&(p===null||p===41||st(p))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(p)):c<u&&p===40?(e.consume(p),c++,v):p===41?(e.consume(p),c--,v):p===null||p===32||p===40||Tc(p)?n(p):(e.consume(p),p===92?x:v)}function x(p){return p===40||p===41||p===92?(e.consume(p),v):v(p)}}function H0(e,t,n,r,i,s){const o=this;let a=0,l;return u;function u(d){return e.enter(r),e.enter(i),e.consume(d),e.exit(i),e.enter(s),c}function c(d){return a>999||d===null||d===91||d===93&&!l||d===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(d):d===93?(e.exit(s),e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):K(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),h(d))}function h(d){return d===null||d===91||d===93||K(d)||a++>999?(e.exit("chunkString"),c(d)):(e.consume(d),l||(l=!re(d)),d===92?f:h)}function f(d){return d===91||d===92||d===93?(e.consume(d),a++,h):h(d)}}function W0(e,t,n,r,i,s){let o;return a;function a(f){return f===34||f===39||f===40?(e.enter(r),e.enter(i),e.consume(f),e.exit(i),o=f===40?41:f,l):n(f)}function l(f){return f===o?(e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):(e.enter(s),u(f))}function u(f){return f===o?(e.exit(s),l(o)):f===null?n(f):K(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),fe(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===o||f===null||K(f)?(e.exit("chunkString"),u(f)):(e.consume(f),f===92?h:c)}function h(f){return f===o||f===92?(e.consume(f),c):c(f)}}function is(e,t){let n;return r;function r(i){return K(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):re(i)?fe(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function ii(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const uC={name:"definition",tokenize:hC},cC={tokenize:dC,partial:!0};function hC(e,t,n){const r=this;let i;return s;function s(d){return e.enter("definition"),o(d)}function o(d){return H0.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(d)}function a(d){return i=ii(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),d===58?(e.enter("definitionMarker"),e.consume(d),e.exit("definitionMarker"),l):n(d)}function l(d){return st(d)?is(e,u)(d):u(d)}function u(d){return z0(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(d)}function c(d){return e.attempt(cC,h,h)(d)}function h(d){return re(d)?fe(e,f,"whitespace")(d):f(d)}function f(d){return d===null||K(d)?(e.exit("definition"),r.parser.defined.push(i),t(d)):n(d)}}function dC(e,t,n){return r;function r(a){return st(a)?is(e,i)(a):n(a)}function i(a){return W0(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return re(a)?fe(e,o,"whitespace")(a):o(a)}function o(a){return a===null||K(a)?t(a):n(a)}}const fC={name:"hardBreakEscape",tokenize:pC};function pC(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return K(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const mC={name:"headingAtx",tokenize:yC,resolve:gC};function gC(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Xt(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function yC(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),s(c)}function s(c){return e.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(e.consume(c),o):c===null||st(c)?(e.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||K(c)?(e.exit("atxHeading"),t(c)):re(c)?fe(e,a,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||st(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),u)}}const vC=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],pm=["pre","script","style","textarea"],wC={name:"htmlFlow",tokenize:SC,resolveTo:xC,concrete:!0},_C={tokenize:bC,partial:!0},kC={tokenize:EC,partial:!0};function xC(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function SC(e,t,n){const r=this;let i,s,o,a,l;return u;function u(S){return c(S)}function c(S){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(S),h}function h(S){return S===33?(e.consume(S),f):S===47?(e.consume(S),s=!0,v):S===63?(e.consume(S),i=3,r.interrupt?t:_):Kt(S)?(e.consume(S),o=String.fromCharCode(S),x):n(S)}function f(S){return S===45?(e.consume(S),i=2,d):S===91?(e.consume(S),i=5,a=0,g):Kt(S)?(e.consume(S),i=4,r.interrupt?t:_):n(S)}function d(S){return S===45?(e.consume(S),r.interrupt?t:_):n(S)}function g(S){const ke="CDATA[";return S===ke.charCodeAt(a++)?(e.consume(S),a===ke.length?r.interrupt?t:M:g):n(S)}function v(S){return Kt(S)?(e.consume(S),o=String.fromCharCode(S),x):n(S)}function x(S){if(S===null||S===47||S===62||st(S)){const ke=S===47,Pt=o.toLowerCase();return!ke&&!s&&pm.includes(Pt)?(i=1,r.interrupt?t(S):M(S)):vC.includes(o.toLowerCase())?(i=6,ke?(e.consume(S),p):r.interrupt?t(S):M(S)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(S):s?y(S):m(S))}return S===45||dt(S)?(e.consume(S),o+=String.fromCharCode(S),x):n(S)}function p(S){return S===62?(e.consume(S),r.interrupt?t:M):n(S)}function y(S){return re(S)?(e.consume(S),y):N(S)}function m(S){return S===47?(e.consume(S),N):S===58||S===95||Kt(S)?(e.consume(S),k):re(S)?(e.consume(S),m):N(S)}function k(S){return S===45||S===46||S===58||S===95||dt(S)?(e.consume(S),k):b(S)}function b(S){return S===61?(e.consume(S),w):re(S)?(e.consume(S),b):m(S)}function w(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(e.consume(S),l=S,E):re(S)?(e.consume(S),w):T(S)}function E(S){return S===l?(e.consume(S),l=null,A):S===null||K(S)?n(S):(e.consume(S),E)}function T(S){return S===null||S===34||S===39||S===47||S===60||S===61||S===62||S===96||st(S)?b(S):(e.consume(S),T)}function A(S){return S===47||S===62||re(S)?m(S):n(S)}function N(S){return S===62?(e.consume(S),j):n(S)}function j(S){return S===null||K(S)?M(S):re(S)?(e.consume(S),j):n(S)}function M(S){return S===45&&i===2?(e.consume(S),W):S===60&&i===1?(e.consume(S),ne):S===62&&i===4?(e.consume(S),Q):S===63&&i===3?(e.consume(S),_):S===93&&i===5?(e.consume(S),B):K(S)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(_C,Z,Y)(S)):S===null||K(S)?(e.exit("htmlFlowData"),Y(S)):(e.consume(S),M)}function Y(S){return e.check(kC,te,Z)(S)}function te(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),U}function U(S){return S===null||K(S)?Y(S):(e.enter("htmlFlowData"),M(S))}function W(S){return S===45?(e.consume(S),_):M(S)}function ne(S){return S===47?(e.consume(S),o="",D):M(S)}function D(S){if(S===62){const ke=o.toLowerCase();return pm.includes(ke)?(e.consume(S),Q):M(S)}return Kt(S)&&o.length<8?(e.consume(S),o+=String.fromCharCode(S),D):M(S)}function B(S){return S===93?(e.consume(S),_):M(S)}function _(S){return S===62?(e.consume(S),Q):S===45&&i===2?(e.consume(S),_):M(S)}function Q(S){return S===null||K(S)?(e.exit("htmlFlowData"),Z(S)):(e.consume(S),Q)}function Z(S){return e.exit("htmlFlow"),t(S)}}function EC(e,t,n){const r=this;return i;function i(o){return K(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function bC(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Ka,t,n)}}const TC={name:"htmlText",tokenize:CC};function CC(e,t,n){const r=this;let i,s,o;return a;function a(_){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(_),l}function l(_){return _===33?(e.consume(_),u):_===47?(e.consume(_),b):_===63?(e.consume(_),m):Kt(_)?(e.consume(_),T):n(_)}function u(_){return _===45?(e.consume(_),c):_===91?(e.consume(_),s=0,g):Kt(_)?(e.consume(_),y):n(_)}function c(_){return _===45?(e.consume(_),d):n(_)}function h(_){return _===null?n(_):_===45?(e.consume(_),f):K(_)?(o=h,ne(_)):(e.consume(_),h)}function f(_){return _===45?(e.consume(_),d):h(_)}function d(_){return _===62?W(_):_===45?f(_):h(_)}function g(_){const Q="CDATA[";return _===Q.charCodeAt(s++)?(e.consume(_),s===Q.length?v:g):n(_)}function v(_){return _===null?n(_):_===93?(e.consume(_),x):K(_)?(o=v,ne(_)):(e.consume(_),v)}function x(_){return _===93?(e.consume(_),p):v(_)}function p(_){return _===62?W(_):_===93?(e.consume(_),p):v(_)}function y(_){return _===null||_===62?W(_):K(_)?(o=y,ne(_)):(e.consume(_),y)}function m(_){return _===null?n(_):_===63?(e.consume(_),k):K(_)?(o=m,ne(_)):(e.consume(_),m)}function k(_){return _===62?W(_):m(_)}function b(_){return Kt(_)?(e.consume(_),w):n(_)}function w(_){return _===45||dt(_)?(e.consume(_),w):E(_)}function E(_){return K(_)?(o=E,ne(_)):re(_)?(e.consume(_),E):W(_)}function T(_){return _===45||dt(_)?(e.consume(_),T):_===47||_===62||st(_)?A(_):n(_)}function A(_){return _===47?(e.consume(_),W):_===58||_===95||Kt(_)?(e.consume(_),N):K(_)?(o=A,ne(_)):re(_)?(e.consume(_),A):W(_)}function N(_){return _===45||_===46||_===58||_===95||dt(_)?(e.consume(_),N):j(_)}function j(_){return _===61?(e.consume(_),M):K(_)?(o=j,ne(_)):re(_)?(e.consume(_),j):A(_)}function M(_){return _===null||_===60||_===61||_===62||_===96?n(_):_===34||_===39?(e.consume(_),i=_,Y):K(_)?(o=M,ne(_)):re(_)?(e.consume(_),M):(e.consume(_),te)}function Y(_){return _===i?(e.consume(_),i=void 0,U):_===null?n(_):K(_)?(o=Y,ne(_)):(e.consume(_),Y)}function te(_){return _===null||_===34||_===39||_===60||_===61||_===96?n(_):_===47||_===62||st(_)?A(_):(e.consume(_),te)}function U(_){return _===47||_===62||st(_)?A(_):n(_)}function W(_){return _===62?(e.consume(_),e.exit("htmlTextData"),e.exit("htmlText"),t):n(_)}function ne(_){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),D}function D(_){return re(_)?fe(e,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):B(_)}function B(_){return e.enter("htmlTextData"),o(_)}}const fd={name:"labelEnd",tokenize:jC,resolveTo:IC,resolveAll:RC},PC={tokenize:LC},AC={tokenize:DC},OC={tokenize:NC};function RC(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function IC(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)},u={type:"label",start:Object.assign({},e[s][1].start),end:Object.assign({},e[o][1].end)},c={type:"labelText",start:Object.assign({},e[s+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return a=[["enter",l,t],["enter",u,t]],a=_t(a,e.slice(s+1,s+r+3)),a=_t(a,[["enter",c,t]]),a=_t(a,hd(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=_t(a,[["exit",c,t],e[o-2],e[o-1],["exit",u,t]]),a=_t(a,e.slice(o+1)),a=_t(a,[["exit",l,t]]),Xt(e,s,e.length,a),e}function jC(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(f){return s?s._inactive?h(f):(o=r.parser.defined.includes(ii(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),l):n(f)}function l(f){return f===40?e.attempt(PC,c,o?c:h)(f):f===91?e.attempt(AC,c,o?u:h)(f):o?c(f):h(f)}function u(f){return e.attempt(OC,c,h)(f)}function c(f){return t(f)}function h(f){return s._balanced=!0,n(f)}}function LC(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return st(h)?is(e,s)(h):s(h)}function s(h){return h===41?c(h):z0(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return st(h)?is(e,l)(h):c(h)}function a(h){return n(h)}function l(h){return h===34||h===39||h===40?W0(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):c(h)}function u(h){return st(h)?is(e,c)(h):c(h)}function c(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function DC(e,t,n){const r=this;return i;function i(a){return H0.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(ii(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function NC(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const MC={name:"labelStartImage",tokenize:FC,resolveAll:fd.resolveAll};function FC(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const $C={name:"labelStartLink",tokenize:BC,resolveAll:fd.resolveAll};function BC(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const nu={name:"lineEnding",tokenize:UC};function UC(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),fe(e,t,"linePrefix")}}const No={name:"thematicBreak",tokenize:VC};function VC(e,t,n){let r=0,i;return s;function s(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,a(u)}function a(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||K(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),re(u)?fe(e,a,"whitespace")(u):a(u))}}const Xe={name:"list",tokenize:WC,continuation:{tokenize:qC},exit:GC},zC={tokenize:JC,partial:!0},HC={tokenize:KC,partial:!0};function WC(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(d){const g=r.containerState.type||(d===42||d===43||d===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||d===r.containerState.marker:Cc(d)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),d===42||d===45?e.check(No,n,u)(d):u(d);if(!r.interrupt||d===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(d)}return n(d)}function l(d){return Cc(d)&&++o<10?(e.consume(d),l):(!r.interrupt||o<2)&&(r.containerState.marker?d===r.containerState.marker:d===41||d===46)?(e.exit("listItemValue"),u(d)):n(d)}function u(d){return e.enter("listItemMarker"),e.consume(d),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||d,e.check(Ka,r.interrupt?n:c,e.attempt(zC,f,h))}function c(d){return r.containerState.initialBlankLine=!0,s++,f(d)}function h(d){return re(d)?(e.enter("listItemPrefixWhitespace"),e.consume(d),e.exit("listItemPrefixWhitespace"),f):n(d)}function f(d){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(d)}}function qC(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Ka,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,fe(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!re(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(HC,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,fe(e,e.attempt(Xe,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function KC(e,t,n){const r=this;return fe(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function GC(e){e.exit(this.containerState.type)}function JC(e,t,n){const r=this;return fe(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!re(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const mm={name:"setextUnderline",tokenize:YC,resolveTo:QC};function QC(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[s][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function YC(e,t,n){const r=this;let i;return s;function s(u){let c=r.events.length,h;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){h=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),re(u)?fe(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||K(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const XC={tokenize:ZC};function ZC(e){const t=this,n=e.attempt(Ka,r,e.attempt(this.parser.constructs.flowInitial,i,fe(e,e.attempt(this.parser.constructs.flow,i,e.attempt(iC,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const eP={resolveAll:K0()},tP=q0("string"),nP=q0("text");function q0(e){return{tokenize:t,resolveAll:K0(e==="text"?rP:void 0)};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(c){return u(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),s(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const h=i[c];let f=-1;if(h)for(;++f<h.length;){const d=h[f];if(!d.previous||d.previous.call(r,r.previous))return!0}return!1}}}function K0(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function rP(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}function iP(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const l={consume:y,enter:m,exit:k,attempt:E(b),check:E(w),interrupt:E(w,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:d,sliceSerialize:f,now:g,defineSkip:v,write:h};let c=t.tokenize.call(u,l);return t.resolveAll&&s.push(t),u;function h(j){return o=_t(o,j),x(),o[o.length-1]!==null?[]:(T(t,0),u.events=hd(s,u.events,u),u.events)}function f(j,M){return oP(d(j),M)}function d(j){return sP(o,j)}function g(){const{line:j,column:M,offset:Y,_index:te,_bufferIndex:U}=r;return{line:j,column:M,offset:Y,_index:te,_bufferIndex:U}}function v(j){i[j.line]=j.column,N()}function x(){let j;for(;r._index<o.length;){const M=o[r._index];if(typeof M=="string")for(j=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===j&&r._bufferIndex<M.length;)p(M.charCodeAt(r._bufferIndex));else p(M)}}function p(j){c=c(j)}function y(j){K(j)?(r.line++,r.column=1,r.offset+=j===-3?2:1,N()):j!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=j}function m(j,M){const Y=M||{};return Y.type=j,Y.start=g(),u.events.push(["enter",Y,u]),a.push(Y),Y}function k(j){const M=a.pop();return M.end=g(),u.events.push(["exit",M,u]),M}function b(j,M){T(j,M.from)}function w(j,M){M.restore()}function E(j,M){return Y;function Y(te,U,W){let ne,D,B,_;return Array.isArray(te)?Z(te):"tokenize"in te?Z([te]):Q(te);function Q(oe){return Ne;function Ne(At){const yn=At!==null&&oe[At],vn=At!==null&&oe.null,ll=[...Array.isArray(yn)?yn:yn?[yn]:[],...Array.isArray(vn)?vn:vn?[vn]:[]];return Z(ll)(At)}}function Z(oe){return ne=oe,D=0,oe.length===0?W:S(oe[D])}function S(oe){return Ne;function Ne(At){return _=A(),B=oe,oe.partial||(u.currentConstruct=oe),oe.name&&u.parser.constructs.disable.null.includes(oe.name)?Pt():oe.tokenize.call(M?Object.assign(Object.create(u),M):u,l,ke,Pt)(At)}}function ke(oe){return j(B,_),U}function Pt(oe){return _.restore(),++D<ne.length?S(ne[D]):W}}}function T(j,M){j.resolveAll&&!s.includes(j)&&s.push(j),j.resolve&&Xt(u.events,M,u.events.length-M,j.resolve(u.events.slice(M),u)),j.resolveTo&&(u.events=j.resolveTo(u.events,u))}function A(){const j=g(),M=u.previous,Y=u.currentConstruct,te=u.events.length,U=Array.from(a);return{restore:W,from:te};function W(){r=j,u.previous=M,u.currentConstruct=Y,u.events.length=te,a=U,N()}}function N(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function sP(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function oP(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const aP={42:Xe,43:Xe,45:Xe,48:Xe,49:Xe,50:Xe,51:Xe,52:Xe,53:Xe,54:Xe,55:Xe,56:Xe,57:Xe,62:$0},lP={91:uC},uP={[-2]:tu,[-1]:tu,32:tu},cP={35:mC,42:No,45:[mm,No],60:wC,61:mm,95:No,96:fm,126:fm},hP={38:U0,92:B0},dP={[-5]:nu,[-4]:nu,[-3]:nu,33:MC,38:U0,42:Pc,60:[BT,TC],91:$C,92:[fC,B0],93:fd,95:Pc,96:ZT},fP={null:[Pc,eP]},pP={null:[42,95]},mP={null:[]},gP=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:pP,contentInitial:lP,disable:mP,document:aP,flow:cP,flowInitial:uP,insideSpan:fP,string:hP,text:dP},Symbol.toStringTag,{value:"Module"}));function yP(e){const n=ET([gP,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(jT),document:i(DT),flow:i(XC),string:i(tP),text:i(nP)};return r;function i(s){return o;function o(a){return iP(r,s,a)}}}const gm=/[\0\t\n\r]/g;function vP(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const l=[];let u,c,h,f,d;for(s=t+s.toString(o),h=0,t="",n&&(s.charCodeAt(0)===65279&&h++,n=void 0);h<s.length;){if(gm.lastIndex=h,u=gm.exec(s),f=u&&u.index!==void 0?u.index:s.length,d=s.charCodeAt(f),!u){t=s.slice(h);break}if(d===10&&h===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<f&&(l.push(s.slice(h,f)),e+=f-h),d){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}h=f+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}function wP(e){for(;!V0(e););return e}function G0(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCharCode(n)}const _P=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function kP(e){return e.replace(_P,xP)}function xP(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return G0(n.slice(s?2:1),s?16:10)}return dd(n)||e}const J0={}.hasOwnProperty,SP=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),EP(n)(wP(yP(n).document().write(vP()(e,t,!0))))};function EP(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Rd),autolinkProtocol:j,autolinkEmail:j,atxHeading:a(Pd),blockQuote:a(ll),characterEscape:j,characterReference:j,codeFenced:a(Cd),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(Cd,l),codeText:a(Fw,l),codeTextData:j,data:j,codeFlowValue:j,definition:a($w),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(Bw),hardBreakEscape:a(Ad),hardBreakTrailing:a(Ad),htmlFlow:a(Od,l),htmlFlowData:j,htmlText:a(Od,l),htmlTextData:j,image:a(Uw),label:l,link:a(Rd),listItem:a(Vw),listItemValue:g,listOrdered:a(Id,d),listUnordered:a(Id),paragraph:a(zw),reference:Pt,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(Pd),strong:a(Hw),thematicBreak:a(qw)},exit:{atxHeading:c(),atxHeadingSequence:E,autolink:c(),autolinkEmail:vn,autolinkProtocol:yn,blockQuote:c(),characterEscapeValue:M,characterReferenceMarkerHexadecimal:Ne,characterReferenceMarkerNumeric:Ne,characterReferenceValue:At,codeFenced:c(y),codeFencedFence:p,codeFencedFenceInfo:v,codeFencedFenceMeta:x,codeFlowValue:M,codeIndented:c(m),codeText:c(ne),codeTextData:M,data:M,definition:c(),definitionDestinationString:w,definitionLabelString:k,definitionTitleString:b,emphasis:c(),hardBreakEscape:c(te),hardBreakTrailing:c(te),htmlFlow:c(U),htmlFlowData:M,htmlText:c(W),htmlTextData:M,image:c(B),label:Q,labelText:_,lineEnding:Y,link:c(D),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:oe,resourceDestinationString:Z,resourceTitleString:S,resource:ke,setextHeading:c(N),setextHeadingLineSequence:A,setextHeadingText:T,strong:c(),thematicBreak:c()}};Q0(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(P){let L={type:"root",children:[]};const q={stack:[L],tokenStack:[],config:t,enter:u,exit:h,buffer:l,resume:f,setData:s,getData:o},ae=[];let le=-1;for(;++le<P.length;)if(P[le][1].type==="listOrdered"||P[le][1].type==="listUnordered")if(P[le][0]==="enter")ae.push(le);else{const Ot=ae.pop();le=i(P,Ot,le)}for(le=-1;++le<P.length;){const Ot=t[P[le][0]];J0.call(Ot,P[le][1].type)&&Ot[P[le][1].type].call(Object.assign({sliceSerialize:P[le][2].sliceSerialize},q),P[le][1])}if(q.tokenStack.length>0){const Ot=q.tokenStack[q.tokenStack.length-1];(Ot[1]||ym).call(q,void 0,Ot[0])}for(L.position={start:kn(P.length>0?P[0][1].start:{line:1,column:1,offset:0}),end:kn(P.length>0?P[P.length-2][1].end:{line:1,column:1,offset:0})},le=-1;++le<t.transforms.length;)L=t.transforms[le](L)||L;return L}function i(P,L,q){let ae=L-1,le=-1,Ot=!1,wn,Zt,xi,Si;for(;++ae<=q;){const be=P[ae];if(be[1].type==="listUnordered"||be[1].type==="listOrdered"||be[1].type==="blockQuote"?(be[0]==="enter"?le++:le--,Si=void 0):be[1].type==="lineEndingBlank"?be[0]==="enter"&&(wn&&!Si&&!le&&!xi&&(xi=ae),Si=void 0):be[1].type==="linePrefix"||be[1].type==="listItemValue"||be[1].type==="listItemMarker"||be[1].type==="listItemPrefix"||be[1].type==="listItemPrefixWhitespace"||(Si=void 0),!le&&be[0]==="enter"&&be[1].type==="listItemPrefix"||le===-1&&be[0]==="exit"&&(be[1].type==="listUnordered"||be[1].type==="listOrdered")){if(wn){let ul=ae;for(Zt=void 0;ul--;){const en=P[ul];if(en[1].type==="lineEnding"||en[1].type==="lineEndingBlank"){if(en[0]==="exit")continue;Zt&&(P[Zt][1].type="lineEndingBlank",Ot=!0),en[1].type="lineEnding",Zt=ul}else if(!(en[1].type==="linePrefix"||en[1].type==="blockQuotePrefix"||en[1].type==="blockQuotePrefixWhitespace"||en[1].type==="blockQuoteMarker"||en[1].type==="listItemIndent"))break}xi&&(!Zt||xi<Zt)&&(wn._spread=!0),wn.end=Object.assign({},Zt?P[Zt][1].start:be[1].end),P.splice(Zt||ae,0,["exit",wn,be[2]]),ae++,q++}be[1].type==="listItemPrefix"&&(wn={type:"listItem",_spread:!1,start:Object.assign({},be[1].start),end:void 0},P.splice(ae,0,["enter",wn,be[2]]),ae++,q++,xi=void 0,Si=!0)}}return P[L][1]._spread=Ot,q}function s(P,L){n[P]=L}function o(P){return n[P]}function a(P,L){return q;function q(ae){u.call(this,P(ae),ae),L&&L.call(this,ae)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(P,L,q){return this.stack[this.stack.length-1].children.push(P),this.stack.push(P),this.tokenStack.push([L,q]),P.position={start:kn(L.start)},P}function c(P){return L;function L(q){P&&P.call(this,q),h.call(this,q)}}function h(P,L){const q=this.stack.pop(),ae=this.tokenStack.pop();if(ae)ae[0].type!==P.type&&(L?L.call(this,P,ae[0]):(ae[1]||ym).call(this,P,ae[0]));else throw new Error("Cannot close `"+P.type+"` ("+rs({start:P.start,end:P.end})+"): its not open");return q.position.end=kn(P.end),q}function f(){return xT(this.stack.pop())}function d(){s("expectingFirstListItemValue",!0)}function g(P){if(o("expectingFirstListItemValue")){const L=this.stack[this.stack.length-2];L.start=Number.parseInt(this.sliceSerialize(P),10),s("expectingFirstListItemValue")}}function v(){const P=this.resume(),L=this.stack[this.stack.length-1];L.lang=P}function x(){const P=this.resume(),L=this.stack[this.stack.length-1];L.meta=P}function p(){o("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function y(){const P=this.resume(),L=this.stack[this.stack.length-1];L.value=P.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function m(){const P=this.resume(),L=this.stack[this.stack.length-1];L.value=P.replace(/(\r?\n|\r)$/g,"")}function k(P){const L=this.resume(),q=this.stack[this.stack.length-1];q.label=L,q.identifier=ii(this.sliceSerialize(P)).toLowerCase()}function b(){const P=this.resume(),L=this.stack[this.stack.length-1];L.title=P}function w(){const P=this.resume(),L=this.stack[this.stack.length-1];L.url=P}function E(P){const L=this.stack[this.stack.length-1];if(!L.depth){const q=this.sliceSerialize(P).length;L.depth=q}}function T(){s("setextHeadingSlurpLineEnding",!0)}function A(P){const L=this.stack[this.stack.length-1];L.depth=this.sliceSerialize(P).charCodeAt(0)===61?1:2}function N(){s("setextHeadingSlurpLineEnding")}function j(P){const L=this.stack[this.stack.length-1];let q=L.children[L.children.length-1];(!q||q.type!=="text")&&(q=Ww(),q.position={start:kn(P.start)},L.children.push(q)),this.stack.push(q)}function M(P){const L=this.stack.pop();L.value+=this.sliceSerialize(P),L.position.end=kn(P.end)}function Y(P){const L=this.stack[this.stack.length-1];if(o("atHardBreak")){const q=L.children[L.children.length-1];q.position.end=kn(P.end),s("atHardBreak");return}!o("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(L.type)&&(j.call(this,P),M.call(this,P))}function te(){s("atHardBreak",!0)}function U(){const P=this.resume(),L=this.stack[this.stack.length-1];L.value=P}function W(){const P=this.resume(),L=this.stack[this.stack.length-1];L.value=P}function ne(){const P=this.resume(),L=this.stack[this.stack.length-1];L.value=P}function D(){const P=this.stack[this.stack.length-1];if(o("inReference")){const L=o("referenceType")||"shortcut";P.type+="Reference",P.referenceType=L,delete P.url,delete P.title}else delete P.identifier,delete P.label;s("referenceType")}function B(){const P=this.stack[this.stack.length-1];if(o("inReference")){const L=o("referenceType")||"shortcut";P.type+="Reference",P.referenceType=L,delete P.url,delete P.title}else delete P.identifier,delete P.label;s("referenceType")}function _(P){const L=this.sliceSerialize(P),q=this.stack[this.stack.length-2];q.label=kP(L),q.identifier=ii(L).toLowerCase()}function Q(){const P=this.stack[this.stack.length-1],L=this.resume(),q=this.stack[this.stack.length-1];if(s("inReference",!0),q.type==="link"){const ae=P.children;q.children=ae}else q.alt=L}function Z(){const P=this.resume(),L=this.stack[this.stack.length-1];L.url=P}function S(){const P=this.resume(),L=this.stack[this.stack.length-1];L.title=P}function ke(){s("inReference")}function Pt(){s("referenceType","collapsed")}function oe(P){const L=this.resume(),q=this.stack[this.stack.length-1];q.label=L,q.identifier=ii(this.sliceSerialize(P)).toLowerCase(),s("referenceType","full")}function Ne(P){s("characterReferenceType",P.type)}function At(P){const L=this.sliceSerialize(P),q=o("characterReferenceType");let ae;q?(ae=G0(L,q==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):ae=dd(L);const le=this.stack.pop();le.value+=ae,le.position.end=kn(P.end)}function yn(P){M.call(this,P);const L=this.stack[this.stack.length-1];L.url=this.sliceSerialize(P)}function vn(P){M.call(this,P);const L=this.stack[this.stack.length-1];L.url="mailto:"+this.sliceSerialize(P)}function ll(){return{type:"blockquote",children:[]}}function Cd(){return{type:"code",lang:null,meta:null,value:""}}function Fw(){return{type:"inlineCode",value:""}}function $w(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Bw(){return{type:"emphasis",children:[]}}function Pd(){return{type:"heading",depth:void 0,children:[]}}function Ad(){return{type:"break"}}function Od(){return{type:"html",value:""}}function Uw(){return{type:"image",title:null,url:"",alt:null}}function Rd(){return{type:"link",title:null,url:"",children:[]}}function Id(P){return{type:"list",ordered:P.type==="listOrdered",start:null,spread:P._spread,children:[]}}function Vw(P){return{type:"listItem",spread:P._spread,checked:null,children:[]}}function zw(){return{type:"paragraph",children:[]}}function Hw(){return{type:"strong",children:[]}}function Ww(){return{type:"text",value:""}}function qw(){return{type:"thematicBreak"}}}function kn(e){return{line:e.line,column:e.column,offset:e.offset}}function Q0(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Q0(e,r):bP(e,r)}}function bP(e,t){let n;for(n in t)if(J0.call(t,n)){if(n==="canContainEols"){const r=t[n];r&&e[n].push(...r)}else if(n==="transforms"){const r=t[n];r&&e[n].push(...r)}else if(n==="enter"||n==="exit"){const r=t[n];r&&Object.assign(e[n],r)}}}function ym(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+rs({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+rs({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+rs({start:t.start,end:t.end})+") is still open")}function TP(e){Object.assign(this,{Parser:n=>{const r=this.data("settings");return SP(n,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function CP(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function PP(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function AP(e,t){const n=t.value?t.value+`
`:"",r=t.lang?t.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function OP(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function RP(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function _i(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&dt(e.charCodeAt(n+1))&&dt(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Y0(e,t){const n=String(t.identifier).toUpperCase(),r=_i(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let s;i===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,s=e.footnoteOrder.length):(e.footnoteCounts[n]++,s=i+1);const o=e.footnoteCounts[n],a={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,a);const l={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,l),e.applyData(t,l)}function IP(e,t){const n=e.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:t.children}],position:t.position},Y0(e,{type:"footnoteReference",identifier:i,position:t.position})}function jP(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function LP(e,t){if(e.dangerous){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}return null}function X0(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return{type:"text",value:"!["+t.alt+r};const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function DP(e,t){const n=e.definition(t.identifier);if(!n)return X0(e,t);const r={src:_i(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,i),e.applyData(t,i)}function NP(e,t){const n={src:_i(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function MP(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function FP(e,t){const n=e.definition(t.identifier);if(!n)return X0(e,t);const r={href:_i(n.url||"")};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function $P(e,t){const n={href:_i(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function BP(e,t,n){const r=e.all(t),i=n?UP(n):Z0(t),s={},o=[];if(typeof t.checked=="boolean"){const c=r[0];let h;c&&c.type==="element"&&c.tagName==="p"?h=c:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,u),e.applyData(t,u)}function UP(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Z0(n[r])}return t}function Z0(e){const t=e.spread;return t??e.children.length>1}function VP(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function zP(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function HP(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function WP(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const pd=ew("start"),md=ew("end");function qP(e){return{start:pd(e),end:md(e)}}function ew(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function KP(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=pd(t.children[1]),l=md(t.children[t.children.length-1]);a.line&&l.line&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function GP(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const h=t.children[l],f={},d=o?o[l]:void 0;d&&(f.align=d);let g={type:"element",tagName:s,properties:f,children:[]};h&&(g.children=e.all(h),e.patch(h,g),g=e.applyData(t,g)),u.push(g)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function JP(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const vm=9,wm=32;function QP(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(_m(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(_m(t.slice(i),i>0,!1)),s.join("")}function _m(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===vm||s===wm;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===vm||s===wm;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function YP(e,t){const n={type:"text",value:QP(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function XP(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const ZP={blockquote:CP,break:PP,code:AP,delete:OP,emphasis:RP,footnoteReference:Y0,footnote:IP,heading:jP,html:LP,imageReference:DP,image:NP,inlineCode:MP,linkReference:FP,link:$P,listItem:BP,list:VP,paragraph:zP,root:HP,strong:WP,table:KP,tableCell:JP,tableRow:GP,text:YP,thematicBreak:XP,toml:mo,yaml:mo,definition:mo,footnoteDefinition:mo};function mo(){return null}const tw=function(e){if(e==null)return rA;if(typeof e=="string")return nA(e);if(typeof e=="object")return Array.isArray(e)?eA(e):tA(e);if(typeof e=="function")return Ga(e);throw new Error("Expected function, string, or object as test")};function eA(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=tw(e[n]);return Ga(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].call(this,...i))return!0;return!1}}function tA(e){return Ga(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function nA(e){return Ga(t);function t(n){return n&&n.type===e}}function Ga(e){return t;function t(n,...r){return!!(n&&typeof n=="object"&&"type"in n&&e.call(this,n,...r))}}function rA(){return!0}const iA=!0,km=!1,sA="skip",oA=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);const i=tw(t),s=r?-1:1;o(e,void 0,[])();function o(a,l,u){const c=a&&typeof a=="object"?a:{};if(typeof c.type=="string"){const f=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(a.type+(f?"<"+f+">":""))+")"})}return h;function h(){let f=[],d,g,v;if((!t||i(a,l,u[u.length-1]||null))&&(f=aA(n(a,u)),f[0]===km))return f;if(a.children&&f[0]!==sA)for(g=(r?a.children.length:-1)+s,v=u.concat(a);g>-1&&g<a.children.length;){if(d=o(a.children[g],g,v)(),d[0]===km)return d;g=typeof d[1]=="number"?d[1]:g+s}return f}}};function aA(e){return Array.isArray(e)?e:typeof e=="number"?[iA,e]:[e]}const gd=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),oA(e,t,i,r);function i(s,o){const a=o[o.length-1];return n(s,a?a.children.indexOf(s):null,a)}};function lA(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const xm={}.hasOwnProperty;function uA(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return gd(e,"definition",r=>{const i=Sm(r.identifier);i&&!xm.call(t,i)&&(t[i]=r)}),n;function n(r){const i=Sm(r);return i&&xm.call(t,i)?t[i]:null}}function Sm(e){return String(e||"").toUpperCase()}const wa={}.hasOwnProperty;function cA(e,t){const n=t||{},r=n.allowDangerousHtml||!1,i={};return o.dangerous=r,o.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,o.footnoteLabel=n.footnoteLabel||"Footnotes",o.footnoteLabelTagName=n.footnoteLabelTagName||"h2",o.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},o.footnoteBackLabel=n.footnoteBackLabel||"Back to content",o.unknownHandler=n.unknownHandler,o.passThrough=n.passThrough,o.handlers={...ZP,...n.handlers},o.definition=uA(e),o.footnoteById=i,o.footnoteOrder=[],o.footnoteCounts={},o.patch=hA,o.applyData=dA,o.one=a,o.all=l,o.wrap=pA,o.augment=s,gd(e,"footnoteDefinition",u=>{const c=String(u.identifier).toUpperCase();wa.call(i,c)||(i[c]=u)}),o;function s(u,c){if(u&&"data"in u&&u.data){const h=u.data;h.hName&&(c.type!=="element"&&(c={type:"element",tagName:"",properties:{},children:[]}),c.tagName=h.hName),c.type==="element"&&h.hProperties&&(c.properties={...c.properties,...h.hProperties}),"children"in c&&c.children&&h.hChildren&&(c.children=h.hChildren)}if(u){const h="type"in u?u:{position:u};lA(h)||(c.position={start:pd(h),end:md(h)})}return c}function o(u,c,h,f){return Array.isArray(h)&&(f=h,h={}),s(u,{type:"element",tagName:c,properties:h||{},children:f||[]})}function a(u,c){return nw(o,u,c)}function l(u){return yd(o,u)}}function hA(e,t){e.position&&(t.position=qP(e))}function dA(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;typeof r=="string"&&(n.type==="element"?n.tagName=r:n={type:"element",tagName:r,properties:{},children:[]}),n.type==="element"&&s&&(n.properties={...n.properties,...s}),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function nw(e,t,n){const r=t&&t.type;if(!r)throw new Error("Expected node, got `"+t+"`");return wa.call(e.handlers,r)?e.handlers[r](e,t,n):e.passThrough&&e.passThrough.includes(r)?"children"in t?{...t,children:yd(e,t)}:t:e.unknownHandler?e.unknownHandler(e,t,n):fA(e,t)}function yd(e,t){const n=[];if("children"in t){const r=t.children;let i=-1;for(;++i<r.length;){const s=nw(e,r[i],t);if(s){if(i&&r[i-1].type==="break"&&(!Array.isArray(s)&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,"")),!Array.isArray(s)&&s.type==="element")){const o=s.children[0];o&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,""))}Array.isArray(s)?n.push(...s):n.push(s)}}}return n}function fA(e,t){const n=t.data||{},r="value"in t&&!(wa.call(n,"hProperties")||wa.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:yd(e,t)};return e.patch(t,r),e.applyData(t,r)}function pA(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function mA(e){const t=[];let n=-1;for(;++n<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[n]];if(!r)continue;const i=e.all(r),s=String(r.identifier).toUpperCase(),o=_i(s.toLowerCase());let a=0;const l=[];for(;++a<=e.footnoteCounts[s];){const h={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+o+(a>1?"-"+a:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};a>1&&h.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(a)}]}),l.length>0&&l.push({type:"text",value:" "}),l.push(h)}const u=i[i.length-1];if(u&&u.type==="element"&&u.tagName==="p"){const h=u.children[u.children.length-1];h&&h.type==="text"?h.value+=" ":u.children.push({type:"text",value:" "}),u.children.push(...l)}else i.push(...l);const c={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+o},children:e.wrap(i,!0)};e.patch(r,c),t.push(c)}if(t.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:e.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(t,!0)},{type:"text",value:`
`}]}}function rw(e,t){const n=cA(e,t),r=n.one(e,null),i=mA(n);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const gA=function(e,t){return e&&"run"in e?yA(e,t):vA(e||t)};function yA(e,t){return(n,r,i)=>{e.run(rw(n,t),r,s=>{i(s)})}}function vA(e){return t=>rw(t,e)}var iw={exports:{}},wA="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_A=wA,kA=_A;function sw(){}function ow(){}ow.resetWarningCache=sw;var xA=function(){function e(r,i,s,o,a,l){if(l!==kA){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ow,resetWarningCache:sw};return n.PropTypes=n,n};iw.exports=xA();var SA=iw.exports;const G=gi(SA);class Ws{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}Ws.prototype.property={};Ws.prototype.normal={};Ws.prototype.space=null;function aw(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new Ws(n,r,t)}function Ac(e){return e.toLowerCase()}class Tt{constructor(t,n){this.property=t,this.attribute=n}}Tt.prototype.space=null;Tt.prototype.boolean=!1;Tt.prototype.booleanish=!1;Tt.prototype.overloadedBoolean=!1;Tt.prototype.number=!1;Tt.prototype.commaSeparated=!1;Tt.prototype.spaceSeparated=!1;Tt.prototype.commaOrSpaceSeparated=!1;Tt.prototype.mustUseProperty=!1;Tt.prototype.defined=!1;let EA=0;const J=Sr(),Ce=Sr(),lw=Sr(),I=Sr(),ce=Sr(),si=Sr(),ot=Sr();function Sr(){return 2**++EA}const Oc=Object.freeze(Object.defineProperty({__proto__:null,boolean:J,booleanish:Ce,commaOrSpaceSeparated:ot,commaSeparated:si,number:I,overloadedBoolean:lw,spaceSeparated:ce},Symbol.toStringTag,{value:"Module"})),ru=Object.keys(Oc);class vd extends Tt{constructor(t,n,r,i){let s=-1;if(super(t,n),Em(this,"space",i),typeof r=="number")for(;++s<ru.length;){const o=ru[s];Em(this,ru[s],(r&Oc[o])===Oc[o])}}}vd.prototype.defined=!0;function Em(e,t,n){n&&(e[t]=n)}const bA={}.hasOwnProperty;function ki(e){const t={},n={};let r;for(r in e.properties)if(bA.call(e.properties,r)){const i=e.properties[r],s=new vd(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[Ac(r)]=r,n[Ac(s.attribute)]=r}return new Ws(t,n,e.space)}const uw=ki({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),cw=ki({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function hw(e,t){return t in e?e[t]:t}function dw(e,t){return hw(e,t.toLowerCase())}const fw=ki({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:dw,properties:{xmlns:null,xmlnsXLink:null}}),pw=ki({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Ce,ariaAutoComplete:null,ariaBusy:Ce,ariaChecked:Ce,ariaColCount:I,ariaColIndex:I,ariaColSpan:I,ariaControls:ce,ariaCurrent:null,ariaDescribedBy:ce,ariaDetails:null,ariaDisabled:Ce,ariaDropEffect:ce,ariaErrorMessage:null,ariaExpanded:Ce,ariaFlowTo:ce,ariaGrabbed:Ce,ariaHasPopup:null,ariaHidden:Ce,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ce,ariaLevel:I,ariaLive:null,ariaModal:Ce,ariaMultiLine:Ce,ariaMultiSelectable:Ce,ariaOrientation:null,ariaOwns:ce,ariaPlaceholder:null,ariaPosInSet:I,ariaPressed:Ce,ariaReadOnly:Ce,ariaRelevant:null,ariaRequired:Ce,ariaRoleDescription:ce,ariaRowCount:I,ariaRowIndex:I,ariaRowSpan:I,ariaSelected:Ce,ariaSetSize:I,ariaSort:null,ariaValueMax:I,ariaValueMin:I,ariaValueNow:I,ariaValueText:null,role:null}}),TA=ki({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:dw,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:si,acceptCharset:ce,accessKey:ce,action:null,allow:null,allowFullScreen:J,allowPaymentRequest:J,allowUserMedia:J,alt:null,as:null,async:J,autoCapitalize:null,autoComplete:ce,autoFocus:J,autoPlay:J,blocking:ce,capture:null,charSet:null,checked:J,cite:null,className:ce,cols:I,colSpan:null,content:null,contentEditable:Ce,controls:J,controlsList:ce,coords:I|si,crossOrigin:null,data:null,dateTime:null,decoding:null,default:J,defer:J,dir:null,dirName:null,disabled:J,download:lw,draggable:Ce,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:J,formTarget:null,headers:ce,height:I,hidden:J,high:I,href:null,hrefLang:null,htmlFor:ce,httpEquiv:ce,id:null,imageSizes:null,imageSrcSet:null,inert:J,inputMode:null,integrity:null,is:null,isMap:J,itemId:null,itemProp:ce,itemRef:ce,itemScope:J,itemType:ce,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:J,low:I,manifest:null,max:null,maxLength:I,media:null,method:null,min:null,minLength:I,multiple:J,muted:J,name:null,nonce:null,noModule:J,noValidate:J,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:J,optimum:I,pattern:null,ping:ce,placeholder:null,playsInline:J,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:J,referrerPolicy:null,rel:ce,required:J,reversed:J,rows:I,rowSpan:I,sandbox:ce,scope:null,scoped:J,seamless:J,selected:J,shadowRootClonable:J,shadowRootDelegatesFocus:J,shadowRootMode:null,shape:null,size:I,sizes:null,slot:null,span:I,spellCheck:Ce,src:null,srcDoc:null,srcLang:null,srcSet:null,start:I,step:null,style:null,tabIndex:I,target:null,title:null,translate:null,type:null,typeMustMatch:J,useMap:null,value:Ce,width:I,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ce,axis:null,background:null,bgColor:null,border:I,borderColor:null,bottomMargin:I,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:J,declare:J,event:null,face:null,frame:null,frameBorder:null,hSpace:I,leftMargin:I,link:null,longDesc:null,lowSrc:null,marginHeight:I,marginWidth:I,noResize:J,noHref:J,noShade:J,noWrap:J,object:null,profile:null,prompt:null,rev:null,rightMargin:I,rules:null,scheme:null,scrolling:Ce,standby:null,summary:null,text:null,topMargin:I,valueType:null,version:null,vAlign:null,vLink:null,vSpace:I,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:J,disableRemotePlayback:J,prefix:null,property:null,results:I,security:null,unselectable:null}}),CA=ki({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:hw,properties:{about:ot,accentHeight:I,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:I,amplitude:I,arabicForm:null,ascent:I,attributeName:null,attributeType:null,azimuth:I,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:I,by:null,calcMode:null,capHeight:I,className:ce,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:I,diffuseConstant:I,direction:null,display:null,dur:null,divisor:I,dominantBaseline:null,download:J,dx:null,dy:null,edgeMode:null,editable:null,elevation:I,enableBackground:null,end:null,event:null,exponent:I,externalResourcesRequired:null,fill:null,fillOpacity:I,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:si,g2:si,glyphName:si,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:I,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:I,horizOriginX:I,horizOriginY:I,id:null,ideographic:I,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:I,k:I,k1:I,k2:I,k3:I,k4:I,kernelMatrix:ot,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:I,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:I,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:I,overlineThickness:I,paintOrder:null,panose1:null,path:null,pathLength:I,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ce,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:I,pointsAtY:I,pointsAtZ:I,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ot,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ot,rev:ot,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ot,requiredFeatures:ot,requiredFonts:ot,requiredFormats:ot,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:I,specularExponent:I,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:I,strikethroughThickness:I,string:null,stroke:null,strokeDashArray:ot,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:I,strokeOpacity:I,strokeWidth:null,style:null,surfaceScale:I,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ot,tabIndex:I,tableValues:null,target:null,targetX:I,targetY:I,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ot,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:I,underlineThickness:I,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:I,values:null,vAlphabetic:I,vMathematical:I,vectorEffect:null,vHanging:I,vIdeographic:I,version:null,vertAdvY:I,vertOriginX:I,vertOriginY:I,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:I,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),PA=/^data[-\w.:]+$/i,bm=/-[a-z]/g,AA=/[A-Z]/g;function OA(e,t){const n=Ac(t);let r=t,i=Tt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&PA.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(bm,IA);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!bm.test(s)){let o=s.replace(AA,RA);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=vd}return new i(r,t)}function RA(e){return"-"+e.toLowerCase()}function IA(e){return e.charAt(1).toUpperCase()}const Tm={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},jA=aw([cw,uw,fw,pw,TA],"html"),LA=aw([cw,uw,fw,pw,CA],"svg");function DA(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{gd(t,"element",(n,r,i)=>{const s=i;let o;if(e.allowedElements?o=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(o=e.disallowedElements.includes(n.tagName)),!o&&e.allowElement&&typeof r=="number"&&(o=!e.allowElement(n,r,s)),o&&typeof r=="number")return e.unwrapDisallowed&&n.children?s.children.splice(r,1,...n.children):s.children.splice(r,1),r})}}var mw={exports:{}},se={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wd=Symbol.for("react.element"),_d=Symbol.for("react.portal"),Ja=Symbol.for("react.fragment"),Qa=Symbol.for("react.strict_mode"),Ya=Symbol.for("react.profiler"),Xa=Symbol.for("react.provider"),Za=Symbol.for("react.context"),NA=Symbol.for("react.server_context"),el=Symbol.for("react.forward_ref"),tl=Symbol.for("react.suspense"),nl=Symbol.for("react.suspense_list"),rl=Symbol.for("react.memo"),il=Symbol.for("react.lazy"),MA=Symbol.for("react.offscreen"),gw;gw=Symbol.for("react.module.reference");function Ct(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case wd:switch(e=e.type,e){case Ja:case Ya:case Qa:case tl:case nl:return e;default:switch(e=e&&e.$$typeof,e){case NA:case Za:case el:case il:case rl:case Xa:return e;default:return t}}case _d:return t}}}se.ContextConsumer=Za;se.ContextProvider=Xa;se.Element=wd;se.ForwardRef=el;se.Fragment=Ja;se.Lazy=il;se.Memo=rl;se.Portal=_d;se.Profiler=Ya;se.StrictMode=Qa;se.Suspense=tl;se.SuspenseList=nl;se.isAsyncMode=function(){return!1};se.isConcurrentMode=function(){return!1};se.isContextConsumer=function(e){return Ct(e)===Za};se.isContextProvider=function(e){return Ct(e)===Xa};se.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===wd};se.isForwardRef=function(e){return Ct(e)===el};se.isFragment=function(e){return Ct(e)===Ja};se.isLazy=function(e){return Ct(e)===il};se.isMemo=function(e){return Ct(e)===rl};se.isPortal=function(e){return Ct(e)===_d};se.isProfiler=function(e){return Ct(e)===Ya};se.isStrictMode=function(e){return Ct(e)===Qa};se.isSuspense=function(e){return Ct(e)===tl};se.isSuspenseList=function(e){return Ct(e)===nl};se.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ja||e===Ya||e===Qa||e===tl||e===nl||e===MA||typeof e=="object"&&e!==null&&(e.$$typeof===il||e.$$typeof===rl||e.$$typeof===Xa||e.$$typeof===Za||e.$$typeof===el||e.$$typeof===gw||e.getModuleId!==void 0)};se.typeOf=Ct;mw.exports=se;var FA=mw.exports;const $A=gi(FA);function BA(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function UA(e){return e.join(" ").trim()}function VA(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var kd={exports:{}},Cm=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,zA=/\n/g,HA=/^\s*/,WA=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,qA=/^:\s*/,KA=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,GA=/^[;\s]*/,JA=/^\s+|\s+$/g,QA=`
`,Pm="/",Am="*",rr="",YA="comment",XA="declaration",ZA=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(g){var v=g.match(zA);v&&(n+=v.length);var x=g.lastIndexOf(QA);r=~x?g.length-x:r+g.length}function s(){var g={line:n,column:r};return function(v){return v.position=new o(g),u(),v}}function o(g){this.start=g,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function a(g){var v=new Error(t.source+":"+n+":"+r+": "+g);if(v.reason=g,v.filename=t.source,v.line=n,v.column=r,v.source=e,!t.silent)throw v}function l(g){var v=g.exec(e);if(v){var x=v[0];return i(x),e=e.slice(x.length),v}}function u(){l(HA)}function c(g){var v;for(g=g||[];v=h();)v!==!1&&g.push(v);return g}function h(){var g=s();if(!(Pm!=e.charAt(0)||Am!=e.charAt(1))){for(var v=2;rr!=e.charAt(v)&&(Am!=e.charAt(v)||Pm!=e.charAt(v+1));)++v;if(v+=2,rr===e.charAt(v-1))return a("End of comment missing");var x=e.slice(2,v-2);return r+=2,i(x),e=e.slice(v),r+=2,g({type:YA,comment:x})}}function f(){var g=s(),v=l(WA);if(v){if(h(),!l(qA))return a("property missing ':'");var x=l(KA),p=g({type:XA,property:Om(v[0].replace(Cm,rr)),value:x?Om(x[0].replace(Cm,rr)):rr});return l(GA),p}}function d(){var g=[];c(g);for(var v;v=f();)v!==!1&&(g.push(v),c(g));return g}return u(),d()};function Om(e){return e?e.replace(JA,rr):rr}var eO=ZA;function yw(e,t){var n=null;if(!e||typeof e!="string")return n;for(var r,i=eO(e),s=typeof t=="function",o,a,l=0,u=i.length;l<u;l++)r=i[l],o=r.property,a=r.value,s?t(o,a,r):a&&(n||(n={}),n[o]=a);return n}kd.exports=yw;kd.exports.default=yw;var tO=kd.exports;const nO=gi(tO),Rc={}.hasOwnProperty,rO=new Set(["table","thead","tbody","tfoot","tr"]);function vw(e,t){const n=[];let r=-1,i;for(;++r<t.children.length;)i=t.children[r],i.type==="element"?n.push(iO(e,i,r,t)):i.type==="text"?(t.type!=="element"||!rO.has(t.tagName)||!BA(i))&&n.push(i.value):i.type==="raw"&&!e.options.skipHtml&&n.push(i.value);return n}function iO(e,t,n,r){const i=e.options,s=i.transformLinkUri===void 0?tT:i.transformLinkUri,o=e.schema,a=t.tagName,l={};let u=o,c;if(o.space==="html"&&a==="svg"&&(u=LA,e.schema=u),t.properties)for(c in t.properties)Rc.call(t.properties,c)&&oO(l,c,t.properties[c],e);(a==="ol"||a==="ul")&&e.listDepth++;const h=vw(e,t);(a==="ol"||a==="ul")&&e.listDepth--,e.schema=o;const f=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},d=i.components&&Rc.call(i.components,a)?i.components[a]:a,g=typeof d=="string"||d===ln.Fragment;if(!$A.isValidElementType(d))throw new TypeError(`Component for name \`${a}\` not defined or is not renderable`);if(l.key=n,a==="a"&&i.linkTarget&&(l.target=typeof i.linkTarget=="function"?i.linkTarget(String(l.href||""),t.children,typeof l.title=="string"?l.title:null):i.linkTarget),a==="a"&&s&&(l.href=s(String(l.href||""),t.children,typeof l.title=="string"?l.title:null)),!g&&a==="code"&&r.type==="element"&&r.tagName!=="pre"&&(l.inline=!0),!g&&(a==="h1"||a==="h2"||a==="h3"||a==="h4"||a==="h5"||a==="h6")&&(l.level=Number.parseInt(a.charAt(1),10)),a==="img"&&i.transformImageUri&&(l.src=i.transformImageUri(String(l.src||""),String(l.alt||""),typeof l.title=="string"?l.title:null)),!g&&a==="li"&&r.type==="element"){const v=sO(t);l.checked=v&&v.properties?!!v.properties.checked:null,l.index=iu(r,t),l.ordered=r.tagName==="ol"}return!g&&(a==="ol"||a==="ul")&&(l.ordered=a==="ol",l.depth=e.listDepth),(a==="td"||a==="th")&&(l.align&&(l.style||(l.style={}),l.style.textAlign=l.align,delete l.align),g||(l.isHeader=a==="th")),!g&&a==="tr"&&r.type==="element"&&(l.isHeader=r.tagName==="thead"),i.sourcePos&&(l["data-sourcepos"]=uO(f)),!g&&i.rawSourcePos&&(l.sourcePosition=t.position),!g&&i.includeElementIndex&&(l.index=iu(r,t),l.siblingCount=iu(r)),g||(l.node=t),h.length>0?ln.createElement(d,l,h):ln.createElement(d,l)}function sO(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n.type==="element"&&n.tagName==="input")return n}return null}function iu(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&r++;return r}function oO(e,t,n,r){const i=OA(r.schema,t);let s=n;s==null||s!==s||(Array.isArray(s)&&(s=i.commaSeparated?VA(s):UA(s)),i.property==="style"&&typeof s=="string"&&(s=aO(s)),i.space&&i.property?e[Rc.call(Tm,i.property)?Tm[i.property]:i.property]=s:i.attribute&&(e[i.attribute]=s))}function aO(e){const t={};try{nO(e,n)}catch{}return t;function n(r,i){const s=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;t[s.replace(/-([a-z])/g,lO)]=i}}function lO(e,t){return t.toUpperCase()}function uO(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const Rm={}.hasOwnProperty,cO="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",go={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function ww(e){for(const s in go)if(Rm.call(go,s)&&Rm.call(e,s)){const o=go[s];console.warn(`[react-markdown] Warning: please ${o.to?`use \`${o.to}\` instead of`:"remove"} \`${s}\` (see <${cO}#${o.id}> for more info)`),delete go[s]}const t=yT().use(TP).use(e.remarkPlugins||[]).use(gA,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(DA,e),n=new L0;typeof e.children=="string"?n.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=t.runSync(t.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=ln.createElement(ln.Fragment,{},vw({options:e,schema:jA,listDepth:0},r));return e.className&&(i=ln.createElement("div",{className:e.className},i)),i}ww.propTypes={children:G.string,className:G.string,allowElement:G.func,allowedElements:G.arrayOf(G.string),disallowedElements:G.arrayOf(G.string),unwrapDisallowed:G.bool,remarkPlugins:G.arrayOf(G.oneOfType([G.object,G.func,G.arrayOf(G.oneOfType([G.bool,G.string,G.object,G.func,G.arrayOf(G.any)]))])),rehypePlugins:G.arrayOf(G.oneOfType([G.object,G.func,G.arrayOf(G.oneOfType([G.bool,G.string,G.object,G.func,G.arrayOf(G.any)]))])),sourcePos:G.bool,rawSourcePos:G.bool,skipHtml:G.bool,includeElementIndex:G.bool,transformLinkUri:G.oneOfType([G.func,G.bool]),linkTarget:G.oneOfType([G.func,G.string]),transformImageUri:G.func,components:G.object};function hO({project:e,onClose:t}){const n=e.readme||e.desc;return C.jsx(We.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:60},onClick:t,children:C.jsxs(We.div,{className:"modal-panel",initial:{y:18,opacity:0,scale:.98},animate:{y:0,opacity:1,scale:1},exit:{y:12,opacity:0,scale:.98},transition:{duration:.28},style:{maxWidth:880,width:"94%",background:"#071020",padding:20,borderRadius:12,boxShadow:"0 30px 80px rgba(2,6,23,0.9)"},onClick:r=>r.stopPropagation(),role:"dialog","aria-modal":"true",children:[C.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[C.jsx("h3",{style:{margin:0},children:e.title}),C.jsx("button",{onClick:t,"aria-label":"Close",style:{background:"transparent",border:"none",color:"var(--muted)",cursor:"pointer",fontSize:16},children:""})]}),C.jsx("div",{className:"markdown",style:{maxHeight:"60vh",overflow:"auto",paddingRight:8},children:C.jsx(ww,{children:n})})]})})}const dO=[{title:"Project A - AI Agent",desc:"RAG-based AI agent that replies on WhatsApp texts on behalf of the user.",tech:"RAG, Python",link:"https://github.com/Stark2248/Project-A",featured:!0,readme:'# Project A  RAG over WhatsApp exports\n\nThis repository contains tools to parse WhatsApp text exports, chunk them into passages, embed those passages with a sentence-transformer, store vectors in Postgres + pgvector, and run a small retrieval-augmented reply service that uses a local LLM to craft short WhatsApp-style responses using nearby "memories".\n\n**Quick summary**\n\n- **Purpose:** Build a lightweight RAG (retrieval augmented generation) system over personal WhatsApp chat exports.\n- **Key pieces:** parsing & chunking, embedding and ingestion, vector storage in Postgres (pgvector), retrieval helpers, and a FastAPI service that produces short replies using retrieved memories.\n- **Primary files:** [rag/wa_to_rag.py](rag/wa_to_rag.py), [rag/embed_and_ingest.py](rag/embed_and_ingest.py), [rag/retrieve.py](rag/retrieve.py), [rag/reply_with_memory.py](rag/reply_with_memory.py).\n\n**Repository layout**\n\n- **data/**: WhatsApp exports and the parsed JSONL used for ingestion.\n- **init/**: SQL helper (create extension) for pgvector.\n- **rag/**: RAG scripts and API.\n- **infra/**: third-party/large projects (included for convenience).\n- **docker-compose.yml**: convenience setup for running services with Docker.\n\n**Requirements**\n\n- Python 3.10+ (3.11 recommended)\n- Postgres with pgvector extension (or use the provided Docker stack)\n- pip packages in `requirements.txt` / install via `pip install -r requirements.txt` (see notes below)\n- Optional: a local LLM HTTP API compatible with the simple chat completions format (e.g. llama.cpp HTTP wrapper)\n\n**Environment variables / configuration**\n\n- `PG_DSN`: Postgres DSN used by the scripts (example: `postgresql://user:pass@host:5432/dbname`). See [rag/config.py](rag/config.py) for how this is used.\n- `LLM_MODEL`: model identifier passed to your local LLM server. The default is taken from `rag/config.py`.\n- `LLM_URL`: HTTP endpoint for your chat-capable LLM server (default `http://localhost:8080/v1/chat/completions`).\n- `MY_NAME`, `MY_STYLE`, `MEM_K` and other tuning options can be set as environment variables; `reply_with_memory.py` reads these at runtime.\n\n**Database setup**\n\n1. Create a Postgres database and enable the `pgvector` extension. The repo includes `init/01-create-extension.sql` which can be applied to the target database.\n\nExample (psql):\n\n```bash\npsql "${PG_DSN}" -f init/01-create-extension.sql\n```\n\n2. Create the `wa_chunks` table if you don\'t already have it. A minimal example schema is:\n\n```sql\nCREATE TABLE wa_chunks (\n  id serial PRIMARY KEY,\n  chat_name text,\n  ts_start timestamptz,\n  ts_end timestamptz,\n  n_messages int,\n  text text,\n  emb vector\n);\n```\n\nAdjust types to match your ingestion output. The ingestion script expects `emb` to be a `vector` column provided by `pgvector`.\n\n**Ingesting WhatsApp data**\n\n1. Parse and chunk WhatsApp export files into JSONL chunks. Use the parsing utility in `rag/wa_to_rag.py` or the convenience wrapper `rag/wa_to_rag_single.py` to process a single file. Example:\n\n```bash\npython rag/wa_to_rag_single.py --file "data/whatsapp_exports/WA Chats/WhatsApp Chat with Noel Sushanth(Flatmate).txt" --output data/whatsapp_parsed/my_chat.jsonl\n```\n\n2. Generate embeddings and insert chunks into Postgres using `rag/embed_and_ingest.py`. The script reads `data/whatsapp_parsed/rag_chunks.jsonl` by default; ensure `PG_DSN` is set.\n\n```bash\nexport PG_DSN="postgresql://user:pass@localhost:5432/mydb"\npython rag/embed_and_ingest.py\n```\n\nNotes:\n\n- The embedding model used by default is `intfloat/e5-small-v2` (fast, 384-d); you can change this in `rag/embed_and_ingest.py`.\n- The script inserts into the `wa_chunks` table and commits in batches.\n\n**Retrieval & reply service**\n\n- Use `rag/retrieve.py` to quickly run a nearest-neighbor query from the command line:\n\n```bash\npython rag/retrieve.py "plan for tonight?"\n```\n\n- `rag/reply_with_memory.py` provides a small reply service. It has two modes:\n  - CLI: run directly to get a one-off reply.\n  - FastAPI: when `fastapi` is installed the file exposes two endpoints: /health and /reply (POST with JSON { "msg": "..." }).\n\nExample (CLI):\n\n```bash\npython rag/reply_with_memory.py "Can we shift to 7:30?"\n```\n\nExample (run FastAPI locally with Uvicorn):\n\n```bash\npip install fastapi uvicorn\nuvicorn rag.reply_with_memory:app --host 0.0.0.0 --port 8081\ncurl -X POST -H "Content-Type: application/json" -d \'{"msg":"Can we shift to 7:30?"}\' http://localhost:8081/reply\n```\n\nImportant behaviors and tuning knobs are near the top of `rag/reply_with_memory.py` such as `TOP_K`, `MIN_SIM`, `EMBED` and `LLM_URL`.\n\n**Docker / Deployment**\n\n- A `docker-compose.yml` is included for convenience. It can be used to stand up Postgres (with pgvector) and any other services defined in the file. Inspect and adapt the compose file to your environment.\n- `DockerFile.pgvector` is included as a helper for building a Postgres image with pgvector preinstalled.\n\n**Troubleshooting**\n\n- If embeddings fail or are slow: ensure `sentence-transformers` and its backend (PyTorch) are installed correctly. Use a smaller model if CPU-bound.\n- If Postgres returns errors about `vector`: ensure the `pgvector` extension is installed and `register_vector(conn)` is called (the scripts call it automatically).\n- If the LLM API returns unexpected payloads: verify `LLM_URL` matches a server that speaks a simple chat completions format (the scripts expect `choices[0].message.content`).\n\n**Development notes**\n\n- Code entrypoints:\n  - [rag/wa_to_rag.py](rag/wa_to_rag.py): parsing & chunking helpers.\n  - [rag/embed_and_ingest.py](rag/embed_and_ingest.py): encodes passages and inserts into Postgres.\n  - [rag/retrieve.py](rag/retrieve.py): quick CLI retrieval tool.\n  - [rag/reply_with_memory.py](rag/reply_with_memory.py): retrieval + prompt-stuffing + LLM call (CLI + FastAPI).\n\n**License & attribution**\n\nThis project is provided as-is for personal use. Check third-party licenses in `infra/` and for the models you use.\n\n**Next steps / suggestions**\n\n- Add a `requirements.txt` at the repo root listing the minimum dependencies (`sentence-transformers`, `psycopg[binary]`, `pgvector`, `fastapi`, `uvicorn`, `requests`).\n- Add a small .env.example that documents the most important environment variables.\n\nIf you want, I can add `requirements.txt` and .env.example next.'},{title:"Better Reads",desc:"Spring Boot application to track and review books (Jan 2022).",tech:"Spring Boot, JPA, PostgreSQL"},{title:"Dummy Album Management API",desc:"Microservice API for managing albums (Apr 2023).",tech:"Spring Boot, Docker, Kubernetes"}],fO={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.08}}},pO={hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.36}}};function mO(){const[e,t]=O.useState(null);function n({p:r,onSelect:i}){const[s,o]=O.useState({x:0,y:0});function a(l){const u=l.currentTarget.getBoundingClientRect(),c=u.left+u.width/2,h=u.top+u.height/2,f=(l.clientX-c)/u.width,d=(l.clientY-h)/u.height;o({x:f*6,y:d*-6})}return C.jsxs(We.article,{className:"project"+(r.featured?" featured":""),variants:pO,whileHover:{scale:1.02},onMouseMove:a,onMouseLeave:()=>o({x:0,y:0}),style:{transform:`perspective(900px) rotateX(${s.y}deg) rotateY(${s.x}deg)`},children:[C.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[C.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:8},children:[C.jsx(Ps,{size:14})," ",r.title]}),C.jsxs("div",{className:"links",style:{display:"flex",alignItems:"center",gap:8},children:[r.link&&C.jsx("a",{href:r.link,target:"_blank",rel:"noreferrer",style:{color:"var(--accent)"},children:"Repo"}),C.jsx("button",{onClick:()=>i(r),style:{marginLeft:10,background:"var(--accent)",border:"none",color:"white",cursor:"pointer",padding:"8px 10px",borderRadius:8},children:"Details"})]})]}),C.jsx("p",{style:{color:"var(--muted)",marginTop:8},children:r.desc}),C.jsx("div",{className:"tech",children:r.tech})]})}return C.jsxs("section",{className:"section",id:"projects",children:[C.jsxs("div",{className:"container",children:[C.jsxs(We.h2,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!1,amount:.2},style:{display:"flex",alignItems:"center",gap:8},children:[C.jsx(Ps,{size:18}),"Projects"]}),C.jsx(We.div,{className:"projects",style:{marginTop:12},variants:fO,initial:"hidden",whileInView:"show",viewport:{once:!1,amount:.2},children:dO.map(r=>C.jsx(n,{p:r,onSelect:t},r.title))})]}),C.jsx(zb,{children:e&&C.jsx(hO,{project:e,onClose:()=>t(null)})})]})}function gO(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}const yO=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class xd extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class vO extends xd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Im extends xd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class jm extends xd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ic;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ic||(Ic={}));class wO{constructor(t,{headers:n={},customFetch:r,region:i=Ic.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=yO(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return gO(this,arguments,void 0,function*(n,r={}){var i;let s,o;try{const{headers:a,method:l,body:u,signal:c,timeout:h}=r;let f={},{region:d}=r;d||(d=this.region);const g=new URL(`${this.url}/${n}`);d&&d!=="any"&&(f["x-region"]=d,g.searchParams.set("forceFunctionRegion",d));let v;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(f["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(f["Content-Type"]="application/json",v=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?v=JSON.stringify(u):v=u;let x=c;h&&(o=new AbortController,s=setTimeout(()=>o.abort(),h),c?(x=o.signal,c.addEventListener("abort",()=>o.abort())):x=o.signal);const p=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:v,signal:x}).catch(b=>{throw new vO(b)}),y=p.headers.get("x-relay-error");if(y&&y==="true")throw new Im(p);if(!p.ok)throw new jm(p);let m=((i=p.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),k;return m==="application/json"?k=yield p.json():m==="application/octet-stream"||m==="application/pdf"?k=yield p.blob():m==="text/event-stream"?k=p:m==="multipart/form-data"?k=yield p.formData():k=yield p.text(),{data:k,error:null,response:p}}catch(a){return{data:null,error:a,response:a instanceof jm||a instanceof Im?a.context:void 0}}finally{s&&clearTimeout(s)}})}}var _O=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},kO=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let o=null,a=null,l=null,u=s.status,c=s.statusText;if(s.ok){var h,f;if(n.method!=="HEAD"){var d;const p=await s.text();p===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((d=n.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?a=p:a=JSON.parse(p))}const v=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),x=(f=s.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");v&&x&&x.length>1&&(l=parseInt(x[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,c="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var g;const v=await s.text();try{o=JSON.parse(v),Array.isArray(o)&&s.status===404&&(a=[],o=null,u=200,c="OK")}catch{s.status===404&&v===""?(u=204,c="No Content"):o={message:v}}if(o&&n.isMaybeSingle&&(!(o==null||(g=o.details)===null||g===void 0)&&g.includes("0 rows"))&&(o=null,u=200,c="OK"),o&&n.shouldThrowOnError)throw new _O(o)}return{error:o,data:a,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(i=i.catch(s=>{var o;let a="";const l=s==null?void 0:s.cause;if(l){var u,c,h,f;const g=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",v=(c=l==null?void 0:l.code)!==null&&c!==void 0?c:"";a=`${(h=s==null?void 0:s.name)!==null&&h!==void 0?h:"FetchError"}: ${s==null?void 0:s.message}`,a+=`

Caused by: ${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"Error"}: ${g}`,v&&(a+=` (${v})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var d;a=(d=s==null?void 0:s.stack)!==null&&d!==void 0?d:""}return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},xO=class extends kO{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:s="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${a};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Lm=new RegExp("[,()]");var Ir=class extends xO{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Lm.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Lm.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},SO=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),r&&l.append("Prefer",`count=${r}`),new Ir({method:i,url:a,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const i="POST",{url:s,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);s.searchParams.set("columns",l.join(","))}}return new Ir({method:i,url:s,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var s;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),r&&l.append("Prefer",`count=${r}`),i||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);a.searchParams.set("columns",c.join(","))}}return new Ir({method:o,url:a,headers:l,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:i,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Ir({method:r,url:i,headers:s,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Ir({method:n,url:r,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},EO=class _w{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new SO(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new _w(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let u;const c=d=>d!==null&&typeof d=="object"&&(!Array.isArray(d)||d.some(c)),h=r&&Object.values(n).some(c);h?(a="POST",u=n):r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,g])=>g!==void 0).map(([d,g])=>[d,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([d,g])=>{l.searchParams.append(d,g)})):(a="POST",u=n);const f=new Headers(this.headers);return h?f.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&f.set("Prefer",`count=${s}`),new Ir({method:a,url:l,headers:f,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class bO{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const TO="2.91.0",CO=`realtime-js/${TO}`,PO="1.0.0",kw="2.0.0",Dm=kw,jc=1e4,AO=1e3,OO=100;var Tn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Tn||(Tn={}));var Oe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Oe||(Oe={}));var Mt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Mt||(Mt={}));var Lc;(function(e){e.websocket="websocket"})(Lc||(Lc={}));var ir;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ir||(ir={}));class RO{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var i,s;const o=t.topic,a=(i=t.ref)!==null&&i!==void 0?i:"",l=(s=t.join_ref)!==null&&s!==void 0?s:"",u=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+h.length,d=new ArrayBuffer(this.HEADER_LENGTH+f);let g=new DataView(d),v=0;g.setUint8(v++,this.KINDS.userBroadcastPush),g.setUint8(v++,l.length),g.setUint8(v++,a.length),g.setUint8(v++,o.length),g.setUint8(v++,u.length),g.setUint8(v++,h.length),g.setUint8(v++,n),Array.from(l,p=>g.setUint8(v++,p.charCodeAt(0))),Array.from(a,p=>g.setUint8(v++,p.charCodeAt(0))),Array.from(o,p=>g.setUint8(v++,p.charCodeAt(0))),Array.from(u,p=>g.setUint8(v++,p.charCodeAt(0))),Array.from(h,p=>g.setUint8(v++,p.charCodeAt(0)));var x=new Uint8Array(d.byteLength+r.byteLength);return x.set(new Uint8Array(d),0),x.set(new Uint8Array(r),d.byteLength),x.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,s,o,a,l]=r;return n({join_ref:i,ref:s,topic:o,event:a,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(t.slice(l,l+i));l=l+i;const c=r.decode(t.slice(l,l+s));l=l+s;const h=r.decode(t.slice(l,l+o));l=l+o;const f=t.slice(l,t.byteLength),d=a===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,g={type:this.BROADCAST_EVENT,event:c,payload:d};return o>0&&(g.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class xw{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ue;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ue||(ue={}));const Nm=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((s,o)=>(s[o]=IO(o,e,t,i),s),{}):{}},IO=(e,t,n,r)=>{const i=t.find(a=>a.name===e),s=i==null?void 0:i.type,o=n[e];return s&&!r.includes(s)?Sw(s,o):Dc(o)},Sw=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return NO(t,n)}switch(e){case ue.bool:return jO(t);case ue.float4:case ue.float8:case ue.int2:case ue.int4:case ue.int8:case ue.numeric:case ue.oid:return LO(t);case ue.json:case ue.jsonb:return DO(t);case ue.timestamp:return MO(t);case ue.abstime:case ue.date:case ue.daterange:case ue.int4range:case ue.int8range:case ue.money:case ue.reltime:case ue.text:case ue.time:case ue.timestamptz:case ue.timetz:case ue.tsrange:case ue.tstzrange:return Dc(t);default:return Dc(t)}},Dc=e=>e,jO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},LO=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},DO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},NO=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>Sw(t,a))}return e},MO=e=>typeof e=="string"?e.replace(" ","T"):e,Ew=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class su{constructor(t,n,r={},i=jc){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Mm;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Mm||(Mm={}));class ss{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ss.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=ss.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ss.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(s,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=s[u];if(h){const f=c.map(x=>x.presence_ref),d=h.map(x=>x.presence_ref),g=c.filter(x=>d.indexOf(x.presence_ref)<0),v=h.filter(x=>f.indexOf(x.presence_ref)<0);g.length>0&&(a[u]=g),v.length>0&&(l[u]=v)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const h=t[a].map(d=>d.presence_ref),f=c.filter(d=>h.indexOf(d.presence_ref)<0);t[a].unshift(...f)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),t[a]=u,i(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Fm||(Fm={}));var os;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(os||(os={}));var rn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(rn||(rn={}));class Qr{constructor(t,n={config:{}},r){var i,s;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new su(this,Mt.join,this.params,this.timeout),this.rejoinTimer=new xw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Oe.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new ss(this),this.broadcastEndpointURL=Ew(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Oe.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[os.PRESENCE]&&this.bindings[os.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(d=>t==null?void 0:t(rn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(rn.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),d===void 0){t==null||t(rn.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,x=(g=v==null?void 0:v.length)!==null&&g!==void 0?g:0,p=[];for(let y=0;y<x;y++){const m=v[y],{filter:{event:k,schema:b,table:w,filter:E}}=m,T=d&&d[y];if(T&&T.event===k&&Qr.isFilterValueEqual(T.schema,b)&&Qr.isFilterValueEqual(T.table,w)&&Qr.isFilterValueEqual(T.filter,E))p.push(Object.assign(Object.assign({},m),{id:T.id}));else{this.unsubscribe(),this.state=Oe.errored,t==null||t(rn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(rn.SUBSCRIBED);return}}).receive("error",d=>{this.state=Oe.errored,t==null||t(rn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(rn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Oe.joined&&t===os.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Oe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new su(this,Mt.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Oe.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new su(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>OO){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Mt;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(d=>{var g,v,x;return((g=d.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(v=d.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(d=>d.callback(f,r)):(s=this.bindings[o])===null||s===void 0||s.filter(d=>{var g,v,x,p,y,m,k,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in d){const w=d.id,E=(g=d.filter)===null||g===void 0?void 0:g.event;return w&&((v=n.ids)===null||v===void 0?void 0:v.includes(w))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))&&(!(!((p=d.filter)===null||p===void 0)&&p.table)||d.filter.table===((y=n.data)===null||y===void 0?void 0:y.table))}else{const w=(k=(m=d==null?void 0:d.filter)===null||m===void 0?void 0:m.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return w==="*"||w===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===o}).map(d=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:v,table:x,commit_timestamp:p,type:y,errors:m}=g;f=Object.assign(Object.assign({},{schema:v,table:x,commit_timestamp:p,eventType:y,new:{},old:{},errors:m}),this._getPayloadRecords(g))}d.callback(f,r)})}_isClosed(){return this.state===Oe.closed}_isJoined(){return this.state===Oe.joined}_isJoining(){return this.state===Oe.joining}_isLeaving(){return this.state===Oe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Qr.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Mt.close,{},t)}_onError(t){this._on(Mt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Oe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Nm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Nm(t.columns,t.old_record)),n}}const ou=()=>{},yo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},FO=[1e3,2e3,5e3,1e4],$O=1e4,BO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class UO{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=jc,this.transport=null,this.heartbeatIntervalMs=yo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ou,this.ref=0,this.reconnectTimer=null,this.vsn=Dm,this.logger=ou,this.conn=null,this.sendBuffer=[],this.serializer=new RO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Lc.websocket}`,this.httpEndpoint=Ew(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bO.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Tn.connecting:return ir.Connecting;case Tn.open:return ir.Open;case Tn.closing:return ir.Closing;default:return ir.Closed}}isConnected(){return this.connectionState()===ir.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Qr(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(AO,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},yo.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:s,ref:o}=n,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),s),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Tn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Tn.open||this.conn.readyState===Tn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Mt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([BO],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:CO};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Mt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new xw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},yo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,s,o,a,l,u,c,h,f,d;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:jc,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:yo.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:ou,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Dm,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>FO[g-1]||$O,this.vsn){case PO:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(g,v)=>v(JSON.stringify(g)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(g,v)=>v(JSON.parse(g));break;case kw:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var As=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function VO(e,t,n){const r=new URL(t,e);if(n)for(const[i,s]of Object.entries(n))s!==void 0&&r.searchParams.set(i,s);return r.toString()}async function zO(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function HO(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:s,headers:o}){const a=VO(e.baseUrl,r,i),l=await zO(e.auth),u=await t(a,{method:n,headers:{...s?{"Content-Type":"application/json"}:{},...l,...o},body:s?JSON.stringify(s):void 0}),c=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&c?JSON.parse(c):c;if(!u.ok){const d=h?f:void 0,g=d==null?void 0:d.error;throw new As((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:d})}return{status:u.status,headers:u.headers,data:f}}}}function vo(e){return e.join("")}var WO=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:vo(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vo(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vo(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vo(e.namespace)}`}),!0}catch(t){if(t instanceof As&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof As&&n.status===409)return;throw n}}};function br(e){return e.join("")}var qO=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${br(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${br(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${br(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${br(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${br(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${br(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof As&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof As&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},KO=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=HO({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new WO(this.client,t),this.tableOps=new qO(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},sl=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function ye(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var GO=class extends sl{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Nc=class extends sl{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Sd=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),JO=()=>Response,Mc=e=>{if(Array.isArray(e))return e.map(n=>Mc(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Mc(r)}),t},QO=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},YO=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Os(e){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(e)}function XO(e,t){if(Os(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Os(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZO(e){var t=XO(e,"string");return Os(t)=="symbol"?t:t+""}function eR(e,t,n){return(t=ZO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$m(Object(n),!0).forEach(function(r){eR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$m(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const au=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},tR=async(e,t,n)=>{e instanceof await JO()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const i=e.status||500,s=(r==null?void 0:r.statusCode)||i+"";t(new GO(au(r),i,s))}).catch(r=>{t(new Nc(au(r),r))}):t(new Nc(au(e),e))},nR=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(QO(r)?(i.headers=z({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),z(z({},i),n))};async function qs(e,t,n,r,i,s){return new Promise((o,a)=>{e(n,nR(t,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>tR(l,a,r))})}async function Rs(e,t,n,r){return qs(e,"GET",t,n,r)}async function Dt(e,t,n,r,i){return qs(e,"POST",t,r,i,n)}async function Fc(e,t,n,r,i){return qs(e,"PUT",t,r,i,n)}async function rR(e,t,n,r){return qs(e,"HEAD",t,z(z({},n),{},{noResolveJson:!0}),r)}async function Ed(e,t,n,r,i){return qs(e,"DELETE",t,r,i,n)}var iR=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ye(t))return{data:null,error:t};throw t}}};let bw;bw=Symbol.toStringTag;var sR=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[bw]="BlobDownloadBuilder",this.promise=null}asStream(){return new iR(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ye(t))return{data:null,error:t};throw t}}};const oR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var aR=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=Sd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var i=this;try{let s;const o=z(z({},Bm),r);let a=z(z({},i.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",i.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),l&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(l))):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(a=z(z({},a),r.headers));const u=i._removeEmptyFolders(t),c=i._getFinalPath(u),h=await(e=="PUT"?Fc:Dt)(i.fetch,`${i.url}/object/${c}`,s,z({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ye(s))return{data:null,error:s};throw s}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const s=i._removeEmptyFolders(e),o=i._getFinalPath(s),a=new URL(i.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const u=z({upsert:Bm.upsert},r),c=z(z({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{data:{path:s,fullPath:(await Fc(i.fetch,a.toString(),l,{headers:c})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(ye(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const i=z({},n.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const s=await Dt(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(n.url+s.url),a=o.searchParams.get("token");if(!a)throw new sl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await Dt(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ye(i))return{data:null,error:i};throw i}}async copy(e,t,n){var r=this;try{return{data:{path:(await Dt(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ye(i))return{data:null,error:i};throw i}}async createSignedUrl(e,t,n){var r=this;try{let i=r._getFinalPath(e),s=await Dt(r.fetch,`${r.url}/object/sign/${i}`,z({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${r.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ye(i))return{data:null,error:i};throw i}}async createSignedUrls(e,t,n){var r=this;try{const i=await Dt(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>z(z({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ye(i))return{data:null,error:i};throw i}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=r?`?${r}`:"",s=this._getFinalPath(e),o=()=>Rs(this.fetch,`${this.url}/${n}/${s}${i}`,{headers:this.headers,noResolveJson:!0});return new sR(o,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:Mc(await Rs(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await rR(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ye(r)&&r instanceof Nc){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const s=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${a}`)}}}async remove(e){var t=this;try{return{data:await Ed(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const i=z(z(z({},oR),t),{},{prefix:e||""});return{data:await Dt(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ye(i))return{data:null,error:i};throw i}}async listV2(e,t){var n=this;try{const r=z({},e);return{data:await Dt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Tw="2.91.0",Cw={"X-Client-Info":`storage-js/${Tw}`};var lR=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const i=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=z(z({},Cw),t),this.fetch=Sd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await Rs(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Rs(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await Dt(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await Fc(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await Dt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Ed(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},uR=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=z(z({},Cw),t),this.fetch=Sd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Dt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await Rs(t.fetch,i,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Ed(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!YO(e))throw new sl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new KO({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,s){const o=i[s];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(i,a),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const bd={"X-Client-Info":`storage-js/${Tw}`,"Content-Type":"application/json"};var Pw=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ut(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var lu=class extends Pw{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},cR=class extends Pw{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Td=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),hR=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Um=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dR=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,i=e;if(typeof i.json=="function")i.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||r+"";t(new lu(Um(s),r,o))}).catch(()=>{const s=r+"";t(new lu(i.statusText||`HTTP ${r} error`,r,s))});else{const s=r+"";t(new lu(i.statusText||`HTTP ${r} error`,r,s))}}else t(new cR(Um(e),e))},fR=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(hR(r)?(i.headers=z({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,z(z({},i),n)):i};async function pR(e,t,n,r,i,s){return new Promise((o,a)=>{e(n,fR(t,r,i,s)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>dR(l,a,r))})}async function ct(e,t,n,r,i){return pR(e,"POST",t,r,i,n)}var mR=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=z(z({},bd),t),this.fetch=Td(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await ct(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await ct(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await ct(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await ct(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}}},gR=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=z(z({},bd),t),this.fetch=Td(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ct(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await ct(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await ct(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await ct(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ct(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}}},yR=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=z(z({},bd),t),this.fetch=Td(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ct(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await ct(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await ct(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await ct(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}}},vR=class extends yR{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new wR(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},wR=class extends mR{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,z(z({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,z(z({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new _R(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},_R=class extends gR{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,z(z({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,z(z({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,z(z({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,z(z({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,z(z({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},kR=class extends lR{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new aR(this.url,this.headers,e,this.fetch)}get vectors(){return new vR(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new uR(this.url+"/iceberg",this.headers,this.fetch)}};function ol(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}const Aw="2.91.0",jr=30*1e3,$c=3,uu=$c*jr,xR="http://localhost:9999",SR="supabase.auth.token",ER={"X-Client-Info":`gotrue-js/${Aw}`},Bc="X-Supabase-Api-Version",Ow={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,TR=10*60*1e3;class Is extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function $(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class CR extends Is{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function PR(e){return $(e)&&e.name==="AuthApiError"}class sr extends Is{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class gn extends Is{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class at extends gn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function AR(e){return $(e)&&e.name==="AuthSessionMissingError"}class Tr extends gn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wo extends gn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class _o extends gn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function OR(e){return $(e)&&e.name==="AuthImplicitGrantRedirectError"}class Vm extends gn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class RR extends gn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Uc extends gn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function cu(e){return $(e)&&e.name==="AuthRetryableFetchError"}class zm extends gn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Vc extends gn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const _a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hm=` 	
\r=`.split(""),IR=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Hm.length;t+=1)e[Hm[t].charCodeAt(0)]=-2;for(let t=0;t<_a.length;t+=1)e[_a[t].charCodeAt(0)]=t;return e})();function Wm(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(_a[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(_a[r]),t.queuedBits-=6}}function Rw(e,t,n){const r=IR[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function qm(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{DR(o,r,n)};for(let o=0;o<e.length;o+=1)Rw(e.charCodeAt(o),i,s);return t.join("")}function jR(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function LR(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}jR(r,t)}}function DR(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function oi(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Rw(e.charCodeAt(i),n,r);return new Uint8Array(t)}function NR(e){const t=[];return LR(e,n=>t.push(n)),new Uint8Array(t)}function cr(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>Wm(i,n,r)),Wm(null,n,r),t.join("")}function MR(e){return Math.round(Date.now()/1e3)+e}function FR(){return Symbol("auth-callback")}const Fe=()=>typeof window<"u"&&typeof document<"u",Yn={tested:!1,writable:!1},Iw=()=>{if(!Fe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yn.tested)return Yn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Yn.tested=!0,Yn.writable=!0}catch{Yn.tested=!0,Yn.writable=!1}return Yn.writable};function $R(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const jw=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),BR=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Lr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Xn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Me=async(e,t)=>{await e.removeItem(t)};class al{constructor(){this.promise=new al.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}al.promiseConstructor=Promise;function hu(e){const t=e.split(".");if(t.length!==3)throw new Vc("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!bR.test(t[r]))throw new Vc("JWT not in base64url format");return{header:JSON.parse(qm(t[0])),payload:JSON.parse(qm(t[1])),signature:oi(t[2]),raw:{header:t[0],payload:t[1]}}}async function UR(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function VR(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function zR(e){return("0"+e.toString(16)).substr(-2)}function HR(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,zR).join("")}async function WR(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function qR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await WR(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Cr(e,t,n=!1){const r=HR();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Lr(e,`${t}-code-verifier`,i);const s=await qR(r);return[s,r===s?"plain":"s256"]}const KR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function GR(e){const t=e.headers.get(Bc);if(!t||!t.match(KR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function JR(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function QR(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const YR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pr(e){if(!YR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function du(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function XR(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function Km(e){return JSON.parse(JSON.stringify(e))}const nr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ZR=[502,503,504];async function Gm(e){var t;if(!BR(e))throw new Uc(nr(e),0);if(ZR.includes(e.status))throw new Uc(nr(e),e.status);let n;try{n=await e.json()}catch(s){throw new sr(nr(s),s)}let r;const i=GR(e);if(i&&i.getTime()>=Ow["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new zm(nr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new at}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new zm(nr(n),e.status,n.weak_password.reasons);throw new CR(nr(n),e.status||500,r)}const eI=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function V(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Bc]||(s[Bc]=Ow["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await tI(e,t,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function tI(e,t,n,r,i,s){const o=eI(t,r,i,s);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Uc(nr(l),0)}if(a.ok||await Gm(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Gm(l)}}function jt(e){var t;let n=null;iI(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=MR(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Jm(e){const t=jt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function An(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function nI(e){return{data:e,error:null}}function rI(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=ol(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Qm(e){return e}function iI(e){return e.access_token&&e.refresh_token&&e.expires_in}const fu=["global","local","others"];class sI{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=jw(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=fu[0]){if(fu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fu.join(", ")}`);try{return await V(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await V(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:An})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=ol(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await V(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:rI,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if($(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await V(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:An})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await V(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Qm});if(c.error)throw c.error;const h=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,d=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if($(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Pr(t);try{return await V(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:An})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Pr(t);try{return await V(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:An})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Pr(t);try{return await V(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:An})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Pr(t.userId);try{const{data:n,error:r}=await V(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if($(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Pr(t.userId),Pr(t.id);try{return{data:await V(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await V(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Qm});if(c.error)throw c.error;const h=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,d=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if($(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await V(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await V(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await V(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await V(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await V(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if($(n))return{data:null,error:n};throw n}}}function Ym(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Ar={debug:!!(globalThis&&Iw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Lw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class oI extends Lw{}async function aI(e,t,n){Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new oI(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ar.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function lI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Dw(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function uI(e){return parseInt(e,16)}function cI(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function hI(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:h,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const d=Dw(e.address),g=c?`${c}://${r}`:r,v=e.statement?`${e.statement}
`:"",x=`${g} wants you to sign in with your Ethereum account:
${d}

${v}`;let p=`URI: ${h}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(p+=`
Expiration Time: ${i.toISOString()}`),a&&(p+=`
Not Before: ${a.toISOString()}`),l&&(p+=`
Request ID: ${l}`),u){let y=`
Resources:`;for(const m of u){if(!m||typeof m!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${m}`);y+=`
- ${m}`}p+=y}return`${x}
${p}`}class Pe extends Error{constructor({message:t,code:n,cause:r,name:i}){var s;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class ka extends Pe{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function dI({error:e,options:t}){var n,r,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Pe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Pe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Pe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Pe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Pe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Pe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Pe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Nw(o)){if(s.rp.id!==o)return new Pe({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Pe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Pe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function fI({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Pe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Nw(r)){if(n.rpId!==r)return new Pe({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Pe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class pI{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const mI=new pI;function gI(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=ol(e,["challenge","user","excludeCredentials"]),s=oi(t).buffer,o=Object.assign(Object.assign({},n),{id:oi(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:s,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:oi(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function yI(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=ol(e,["challenge","allowCredentials"]),i=oi(t).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];s.allowCredentials[o]=Object.assign(Object.assign({},a),{id:oi(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function vI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:cr(new Uint8Array(e.response.attestationObject)),clientDataJSON:cr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function wI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:cr(new Uint8Array(i.authenticatorData)),clientDataJSON:cr(new Uint8Array(i.clientDataJSON)),signature:cr(new Uint8Array(i.signature)),userHandle:i.userHandle?cr(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Nw(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Xm(){var e,t;return!!(Fe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function _I(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ka("Browser returned unexpected credential type",t)}:{data:null,error:new ka("Empty credential response",t)}}catch(t){return{data:null,error:dI({error:t,options:e})}}}async function kI(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ka("Browser returned unexpected credential type",t)}:{data:null,error:new ka("Empty credential response",t)}}catch(t){return{data:null,error:fI({error:t,options:e})}}}const xI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},SI={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function xa(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))r[s]=o;else if(n(o))r[s]=o;else if(t(o)){const a=r[s];t(a)?r[s]=xa(a,o):r[s]=xa(o)}else r[s]=o}return r}function EI(e,t){return xa(xI,e,t||{})}function bI(e,t){return xa(SI,e,t||{})}class TI{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},s){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:a};const l=i??mI.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=EI(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:c,error:h}=await _I({publicKey:u,signal:l});return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}case"request":{const u=bI(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:c,error:h}=await kI(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}}}catch(o){return $(o)?{data:null,error:o}:{data:null,error:new sr("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new Is("rpId is required for WebAuthn authentication")};try{if(!Xm())return{data:null,error:new sr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return $(o)?{data:null,error:o}:{data:null,error:new sr("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new Is("rpId is required for WebAuthn registration")};try{if(!Xm())return{data:null,error:new sr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(c=>{var h;return(h=c.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return $(o)?{data:null,error:o}:{data:null,error:new sr("Unexpected error in register",o)}}}}lI();const CI={url:xR,storageKey:SR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ER,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Zm(e,t,n){return await n()}const Or={};class js{get jwks(){var t,n;return(n=(t=Or[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Or[this.storageKey]=Object.assign(Object.assign({},Or[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Or[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Or[this.storageKey]=Object.assign(Object.assign({},Or[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},CI),t);if(this.storageKey=s.storageKey,this.instanceID=(n=js.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,js.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Fe()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new sI({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=jw(s.fetch),this.lock=s.lock||Zm,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Fe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=aI:this.lock=Zm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new TI(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Iw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ym(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Ym(this.memoryStorage)),Fe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Aw}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Fe()&&(n=$R(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Fe()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),OR(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return $(n)?this._returnResult({error:n}):this._returnResult({error:new sr("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:jt}),{data:o,error:a}=s;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if($(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:c,password:h,options:f}=t;let d=null,g=null;this.flowType==="pkce"&&([d,g]=await Cr(this.storage,this.storageKey)),s=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:d,code_challenge_method:g},xform:jt})}else if("phone"in t){const{phone:c,password:h,options:f}=t;s=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:jt})}else throw new wo("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return await Me(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(await Me(this.storage,`${this.storageKey}-code-verifier`),$(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:a}=t;n=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Jm})}else if("phone"in t){const{phone:s,password:o,options:a}=t;n=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Jm})}else throw new wo("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new Tr;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if($(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,s,o,a,l,u,c,h,f;let d,g;if("message"in t)d=t.message,g=t.signature;else{const{chain:v,wallet:x,statement:p,options:y}=t;let m;if(Fe())if(typeof x=="object")m=x;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")m=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");m=x}const k=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href),b=await m.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!b||b.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const w=Dw(b[0]);let E=(r=y==null?void 0:y.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!E){const A=await m.request({method:"eth_chainId"});E=uI(A)}const T={domain:k.host,address:w,statement:p,uri:k.href,version:"1",chainId:E,nonce:(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.resources};d=hI(T),g=await m.request({method:"personal_sign",params:[cI(d),w]})}try{const{data:v,error:x}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:d,signature:g},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:jt});if(x)throw x;if(!v||!v.session||!v.user){const p=new Tr;return this._returnResult({data:{user:null,session:null},error:p})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:x})}catch(v){if($(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var n,r,i,s,o,a,l,u,c,h,f,d;let g,v;if("message"in t)g=t.message,v=t.signature;else{const{chain:x,wallet:p,statement:y,options:m}=t;let k;if(Fe())if(typeof p=="object")k=p;else{const w=window;if("solana"in w&&typeof w.solana=="object"&&("signIn"in w.solana&&typeof w.solana.signIn=="function"||"signMessage"in w.solana&&typeof w.solana.signMessage=="function"))k=w.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=p}const b=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const w=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),y?{statement:y}:null));let E;if(Array.isArray(w)&&w[0]&&typeof w[0]=="object")E=w[0];else if(w&&typeof w=="object"&&"signedMessage"in w&&"signature"in w)E=w;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)g=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),v=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${b.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(i=(r=m==null?void 0:m.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=m==null?void 0:m.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(c=m==null?void 0:m.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const w=await k.signMessage(new TextEncoder().encode(g),"utf8");if(!w||!(w instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=w}}try{const{data:x,error:p}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:cr(v)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(d=t.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:jt});if(p)throw p;if(!x||!x.session||!x.user){const y=new Tr;return this._returnResult({data:{user:null,session:null},error:y})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:p})}catch(x){if($(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const n=await Xn(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new RR;const{data:s,error:o}=await V(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:jt});if(await Me(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!s||!s.session||!s.user){const a=new Tr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return s.session&&(await this._saveSession(s.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",s.session)},0)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(await Me(this.storage,`${this.storageKey}-code-verifier`),$(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,a=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:jt}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Tr;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if($(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Cr(this.storage,this.storageKey));const{error:h}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new wo("You must provide either an email or phone number.")}catch(a){if(await Me(this.storage,`${this.storageKey}-code-verifier`),$(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await V(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:jt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if($(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,s,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Cr(this.storage,this.storageKey));const u=await V(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:nI});return!((s=u.data)===null||s===void 0)&&s.url&&Fe()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await Me(this.storage,`${this.storageKey}-code-verifier`),$(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new at;const{error:i}=await V(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if($(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await V(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:a}=await V(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new wo("You must provide either an email or phone number and a type")}catch(n){if($(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Xn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<uu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Xn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=du()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=XR(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:An}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new at}:await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:An})})}catch(n){if($(n))return AR(n)&&(await this._removeSession(),await Me(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new at;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Cr(this.storage,this.storageKey));const{data:u,error:c}=await V(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:An});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await Me(this.storage,`${this.storageKey}-code-verifier`),$(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new at;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=hu(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if($(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new at;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if($(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Fe())throw new _o("No browser detected.");if(t.error||t.error_description||t.error_code)throw new _o(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Vm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _o("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Vm("No code detected.");const{data:y,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!s||!a||!o||!u)throw new _o("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let f=c+h;l&&(f=parseInt(l));const d=f-c;d*1e3<=jr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${h}s`);const g=f-h;c-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,c):c-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,c);const{data:v,error:x}=await this._getUser(s);if(x)throw x;const p={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:t.type},error:null})}catch(r){if($(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Xn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({error:s});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(PR(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await Me(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=FR(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Cr(this.storage,this.storageKey,!0));try{return await V(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(await Me(this.storage,`${this.storageKey}-code-verifier`),$(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if($(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,u,c;const{data:h,error:f}=s;if(f)throw f;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await V(this.fetch,"GET",d,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Fe()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if($(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:o,provider:a,token:l,access_token:u,nonce:c}=t,h=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:jt}),{data:f,error:d}=h;return d?this._returnResult({data:{user:null,session:null},error:d}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Tr}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:d}))}catch(i){if(await Me(this.storage,`${this.storageKey}-code-verifier`),$(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await V(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if($(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await VR(async i=>(i>0&&await UR(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await V(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:jt})),(i,s)=>{const o=200*Math.pow(2,i);return s&&cu(s)&&Date.now()+o-r<jr})}catch(r){if(this._debug(n,"error",r),$(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Fe()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Xn(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Xn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Lr(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:du()}else if(i&&!i.user&&!i.user){const o=await Xn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Me(this.storage,this.storageKey+"-user"),await Lr(this.storage,this.storageKey,i)):i.user=du()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<uu;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${uu}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),cu(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new at;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new al;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new at;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={data:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),$(s)){const o={data:null,error:s};return cu(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Me(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Lr(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=Km(i);await Lr(this.storage,this.storageKey,s)}else{const i=Km(n);await Lr(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Me(this.storage,this.storageKey),await Me(this.storage,this.storageKey+"-code-verifier"),await Me(this.storage,this.storageKey+"-user"),this.userStorage&&await Me(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Fe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),jr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/jr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${jr}ms, refresh threshold is ${$c} ticks`),i<=$c&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Lw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await Cr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?this._returnResult({data:null,error:s}):await V(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if($(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await V(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if($(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?vI(t.webauthn.credential_response):wI(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if($(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const o=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:gI(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:yI(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if($(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=hu(r.access_token);let o=null;s.aal&&(o=s.aal);let a=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const u=s.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await V(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new at})})}catch(n){if($(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new at});const o=await V(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Fe()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new at});const o=await V(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Fe()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await V(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new at})})}catch(t){if($(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await V(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new at})})}catch(n){if($(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+TR>i)return r;const{data:s,error:o}=await V(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:d,error:g}=await this.getSession();if(g||!d.session)return this._returnResult({data:null,error:g});r=d.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=hu(r);n!=null&&n.allowExpired||JR(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:d}=await this.getUser(r);if(d)throw d;return{data:{claims:s,header:i,signature:o},error:null}}const c=QR(i.alg),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,NR(`${a}.${l}`)))throw new Vc("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}}js.nextInstanceID={};const PI=js,AI="2.91.0";let Bi="";typeof Deno<"u"?Bi="deno":typeof document<"u"?Bi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bi="react-native":Bi="node";const OI={"X-Client-Info":`supabase-js-${Bi}/${AI}`},RI={headers:OI},II={schema:"public"},jI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},LI={};function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function DI(e,t){if(Ls(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ls(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NI(e){var t=DI(e,"string");return Ls(t)=="symbol"?t:t+""}function MI(e,t,n){return(t=NI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eg(Object(n),!0).forEach(function(r){MI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const FI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),$I=()=>Headers,BI=(e,t,n)=>{const r=FI(n),i=$I();return async(s,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,xe(xe({},o),{},{headers:u}))}};function UI(e){return e.endsWith("/")?e:e+"/"}function VI(e,t){var n,r;const{db:i,auth:s,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:h}=t,f={db:xe(xe({},l),i),auth:xe(xe({},u),s),realtime:xe(xe({},c),o),storage:{},global:xe(xe(xe({},h),a),{},{headers:xe(xe({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function zI(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(UI(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var HI=class extends PI{constructor(e){super(e)}},WI=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const s=zI(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const o=`sb-${s.hostname.split(".")[0]}-auth-token`,a={db:II,realtime:LI,auth:xe(xe({},jI),{},{storageKey:o}),global:RI},l=VI(n??{},a);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=BI(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(xe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new EO(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new kR(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new wO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:s,flowType:o,lock:a,debug:l,throwOnError:u},c,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new HI({url:this.authUrl.href,headers:xe(xe({},f),c),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:o,lock:a,debug:l,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(d=>d.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new UO(this.realtimeUrl.href,xe(xe({},e),{},{params:xe(xe({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const qI=(e,t,n)=>new WI(e,t,n);function KI(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}KI()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const GI="https://tuepmhoruxfoteqsaxds.supabase.co",JI="sb_publishable_cGN5Upq4SIzgVW1v21pKlw_dlnudX52",Mw=qI(GI,JI);function QI(){const[e,t]=O.useState({name:"",message:"",website:""}),[n,r]=O.useState(null),i=n==="sending";async function s(o){if(o.preventDefault(),e.website||!e.message||!e.name)return r("error");const a=parseInt(localStorage.getItem("lastMessageAt")||"0",10);if(Date.now()-a<3e4)return r("error");const l=localStorage.getItem("lastMessageText")||"";if(l&&l===e.message)return r("error");r("sending");try{const{error:u}=await Mw.from("messages").insert([{name:e.name,message:e.message}]);if(u)throw u;r("sent"),t({name:"",message:"",website:""}),localStorage.setItem("lastMessageAt",String(Date.now())),localStorage.setItem("lastMessageText",e.message),setTimeout(()=>r(null),3e3)}catch(u){console.error(u),r("error"),setTimeout(()=>r(null),3e3)}}return C.jsx("section",{className:"section contact",id:"contact",children:C.jsxs("div",{className:"container",children:[C.jsx("h2",{children:"Contact"}),C.jsxs("div",{style:{color:"var(--muted)",marginBottom:12,display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},children:[C.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[C.jsx(R0,{size:14})," dasamlan71@gmail.com"]}),C.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[C.jsx(Hb,{size:14})," 7504349183"]}),C.jsx("div",{children:"Bengaluru, 560066"})]}),C.jsxs("form",{onSubmit:s,children:[C.jsx("input",{placeholder:"Your name",value:e.name,onChange:o=>t({...e,name:o.target.value}),required:!0}),C.jsx("input",{style:{position:"absolute",left:"-10000px",top:"auto",width:1,height:1,opacity:0},placeholder:"Website",value:e.website,onChange:o=>t({...e,website:o.target.value})}),C.jsx("textarea",{placeholder:"Message",rows:6,value:e.message,onChange:o=>t({...e,message:o.target.value}),required:!0}),C.jsx("button",{type:"submit",disabled:i,style:{opacity:i?.7:1},children:i?"Sending":"Send Message"}),n==="sending"&&C.jsx("p",{children:"Sending..."}),n==="sent"&&C.jsx("p",{children:"Thanks  message sent!"}),n==="error"&&C.jsx("p",{children:"There was an error sending message."})]})]})})}function YI(){return C.jsx("footer",{style:{padding:"28px 0",borderTop:"1px solid rgba(255,255,255,0.03)",marginTop:40},children:C.jsxs("div",{className:"container",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[C.jsxs("div",{children:[C.jsx("strong",{children:"Amlan Das"}),C.jsx("div",{style:{color:"var(--muted)"},children:"Full Stack Developer"})]}),C.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[C.jsxs("a",{href:"mailto:dasamlan71@gmail.com",style:{color:"var(--white)",display:"flex",alignItems:"center",gap:8},children:[C.jsx(R0,{size:14})," dasamlan71@gmail.com"]}),C.jsx("span",{style:{color:"var(--muted)"},children:""}),C.jsx("a",{href:"tel:+917504349183",style:{color:"var(--muted)"},children:"+91 75043 49183"}),C.jsx("span",{style:{color:"var(--muted)"},children:""}),C.jsxs("a",{href:"https://github.com/Stark2248/",target:"_blank",rel:"noreferrer",style:{color:"var(--muted)",display:"flex",alignItems:"center",gap:8},children:[C.jsx(Ps,{size:14})," GitHub"]}),C.jsx("a",{href:"https://www.linkedin.com/in/amlan-das-339300131/",target:"_blank",rel:"noreferrer",style:{color:"var(--muted)"},children:"LinkedIn"})]})]})})}function XI(e){const t=window.innerWidth,n=window.innerHeight,r=40,i=110,s=[];function o(u,c){for(const h of s){const f=h.x-u,d=h.y-c;if(Math.hypot(f,d)<i)return!1}return!0}const a=e*20;let l=0;for(;s.length<e&&l<a;){l++;const u=Math.random()*(t-r*2)+r,c=Math.random()*(n-r*2)+r;o(u,c)&&s.push({x:u,y:c})}if(s.length<e){const u=Math.ceil(Math.sqrt(e)),c=Math.ceil(e/u);for(let h=0;h<c&&s.length<e;h++)for(let f=0;f<u&&s.length<e;f++){const d=r+(f+.5)*((t-r*2)/u),g=r+(h+.5)*((n-r*2)/c);o(d,g)&&s.push({x:d,y:g})}}for(;s.length<e;)s.push({x:r+Math.random()*(t-r*2),y:r+Math.random()*(n-r*2)});return s}function ZI(){const[e,t]=O.useState([]),[n,r]=O.useState(null),i=O.useRef([]),s=O.useRef([]),o=O.useRef(null),a=O.useRef([]),l=O.useRef([]);if(O.useEffect(()=>{async function x(){try{const{data:k,error:b}=await Mw.from("messages").select("name,message,created_at").order("created_at",{ascending:!1});if(b)throw b;const w=(k||[]).map(E=>`[${E.created_at}] ${E.name}: ${E.message}`);t(w),i.current=XI(w.length),s.current=w.map(()=>{const E=Math.random()*Math.PI*2,T=.25+Math.random()*.9;return{vx:Math.cos(E)*T,vy:Math.sin(E)*T}})}catch(k){console.warn("Failed to load messages from Supabase",k)}}x();const p={current:[]};function y(){const k=[];document.querySelectorAll(".container, header.hero, footer").forEach(b=>{const w=b.getBoundingClientRect();k.push({left:w.left,top:w.top,right:w.right,bottom:w.bottom})}),p.current=k}y(),window.addEventListener("resize",y),window.addEventListener("scroll",y,{passive:!0});function m(){const k=window.innerWidth,b=window.innerHeight,w=p.current||[];for(let E=0;E<i.current.length;E++){const T=i.current[E],A=s.current[E];if(!T||!A)continue;const N=T.x+A.vx*.6,j=T.y+A.vy*.6;let M=!1;for(const W of w)if(N>W.left-30&&N<W.right+30&&j>W.top-30&&j<W.bottom+30){const ne=Math.max(W.left,Math.min(N,W.right)),D=Math.max(W.top,Math.min(j,W.bottom));let B=N-ne,_=j-D,Q=Math.hypot(B,_);if(Q===0){const Ne=(W.left+W.right)/2,At=(W.top+W.bottom)/2,yn=Math.abs(N-Ne),vn=Math.abs(j-At);yn>vn?(B=N-Ne,_=0):(B=0,_=j-At),Q=Math.hypot(B,_)||1}const Z=B/Q,S=_/Q,ke=A.vx*Z+A.vy*S;A.vx=A.vx-2*ke*Z,A.vy=A.vy-2*ke*S,A.vx*=1.05,A.vy*=1.05,Math.hypot(A.vx,A.vy)<.18&&(A.vx=Z*.18,A.vy=S*.18),T.x=ne+Z*26,T.y=D+S*26;const oe=Math.hypot(A.vx,A.vy);if(oe>1.4){const Ne=1.4/oe;A.vx*=Ne,A.vy*=Ne}M=!0;break}M||(T.x=N,T.y=j),T.x<20&&(T.x=20,A.vx*=-.95),T.y<20&&(T.y=20,A.vy*=-.95),T.x>k-60&&(T.x=k-60,A.vx*=-.95),T.y>b-60&&(T.y=b-60,A.vy*=-.95);const Y=Math.hypot(A.vx,A.vy);if(Y>1.4){const W=1.4/Y;A.vx*=W,A.vy*=W}Math.hypot(A.vx,A.vy)<.02&&(A.vx+=(Math.random()-.5)*.2,A.vy+=(Math.random()-.5)*.2);const U=a.current[E];U&&(U.style.transform=`translate3d(${Math.round(T.x)}px, ${Math.round(T.y)}px, 0)`)}o.current=requestAnimationFrame(m)}return o.current=requestAnimationFrame(m),()=>{o.current&&cancelAnimationFrame(o.current)}},[]),e.length===0)return null;function u(h){s.current[h]?(l.current[h]||(l.current[h]={...s.current[h]}),s.current[h]={vx:0,vy:0}):(l.current[h]||(l.current[h]={vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5}),s.current[h]={vx:0,vy:0}),r(h)}function c(){if(n!=null){const h=l.current[n];if(!h||Math.hypot(h.vx||0,h.vy||0)<.05){const f=Math.random()*Math.PI*2,d=.25+Math.random()*.6;s.current[n]={vx:Math.cos(f)*d,vy:Math.sin(f)*d}}else s.current[n]={...h};l.current[n]=null}r(null)}return C.jsx("div",{"aria-hidden":!0,style:{position:"fixed",inset:0,pointerEvents:"none"},children:e.map((h,f)=>{const d=i.current[f]||{x:40,y:80};return C.jsxs("div",{ref:g=>a.current[f]=g,style:{position:"absolute",left:0,top:0,pointerEvents:"auto",transform:`translate3d(${Math.round(d.x)}px, ${Math.round(d.y)}px, 0)`},children:[C.jsx("button",{onClick:()=>u(f),style:{background:"transparent",border:"none",cursor:"pointer"},title:"View message",children:C.jsx("div",{style:{width:36,height:36,borderRadius:999,background:"rgba(255,255,255,0.06)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 6px 18px rgba(0,0,0,0.28)"},children:C.jsx("span",{style:{fontSize:14,color:"var(--white)"},children:""})})}),n===f&&C.jsxs("div",{onClick:c,style:{marginTop:8,maxWidth:260,background:"rgba(7,16,32,0.95)",color:"var(--white)",padding:10,borderRadius:10,boxShadow:"0 10px 30px rgba(0,0,0,0.6)",cursor:"pointer"},children:[C.jsx("div",{style:{fontSize:13,color:"var(--muted)",marginBottom:6},children:function(){return(h.split("] ")[1]||"Message").split("<")[0].split(":")[0].trim()}()}),C.jsx("div",{style:{fontSize:14,lineHeight:1.4},children:h.split(": ").slice(1).join(": ")})]})]},f)})})}function e2(){return C.jsxs("div",{children:[C.jsx(Kb,{}),C.jsx(ZI,{}),C.jsxs("main",{children:[C.jsx(Gb,{}),C.jsx(Qb,{}),C.jsx(eT,{}),C.jsx(mO,{}),C.jsx(QI,{})]}),C.jsx(YI,{})]})}pv(document.getElementById("root")).render(C.jsx(e2,{}));
